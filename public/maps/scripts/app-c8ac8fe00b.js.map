{"version":3,"sources":["scripts/app-c8ac8fe00b.js"],"names":["routeConfig","$urlRouterProvider","baSidebarServiceProvider","otherwise","$inject","angular","module","config","$stateProvider","state","url","templateUrl","controller","title","sidebarMeta","icon","order","$scope","agendasFactory","ngDialog","deleteAgendaFactory","$state","criarAgendaFactory","agendas","CreateAgenda","open","template","scope","className","DeleteAgenda","agenda","nomeDaAgenda","nome","idDaAgenda","_id","doDeleteAgenda","agendaid","id","$promise","then","response","go","current","reload","close","ShareAgenda","nomeDoShare","carregandoDash","query","numeroAgendas","length","message","status","statusText","novaAgenda","doCreateAgenda","criar","checkNumber","podeCriar","baConfigProvider","colorHelper","configProvider","conf","theme","blur","colors","default","basic","defaultText","border","borderDark","primary","colorScheme","info","success","warning","danger","primaryLight","tint","infoLight","successLight","warningLight","dangerLight","primaryDark","shade","infoDark","successDark","warningDark","dangerDark","dashboard","blueStone","dashboardColors","surfieGreen","silverTree","gossip","white","changeTheme","merge","changeColors","$get","provider","mix","color1","color2","weight","d2h","d","toString","h2d","h","parseInt","result","i","color1Part","substr","color2Part","resultPart","Math","floor","slice","IMAGES_ROOT","constant","resWidthCollapseSidebar","resWidthHideSidebar","images","root","profile","amMap","amChart","color","themeRun","$timeout","$rootScope","layoutPaths","preloader","$q","baSidebarService","themeLayoutSettings","whatToWait","loadAmCharts","mobile","unshift","loadImg","all","$pageFinishedLoading","$baSidebarService","run","baConfig","isMobile","test","navigator","userAgent","toLowerCase","mobileClass","blurClass","element","document","body","addClass","service","$stateParams","editNomeAgendaFactory","doEditName","mudar","novoNome","aulasFactory","saveClassFactory","deleteClassFactory","printData","divToPrint","getElementById","newWin","window","write","outerHTML","print","exportCanvasAsPNG","canvasElement","MIME_TYPE","console","log","imgURL","toDataURL","dlLink","createElement","download","href","dataset","downloadurl","join","appendChild","click","removeChild","dynamicPopover","content","isopen","toggled","$log","toggleDropdown","$event","preventDefault","stopPropagation","appendToEl","querySelector","items","curso","logo","itemPaths","aulas","materiasEscolhidas","tgPreenchidoNome","tgPreenchidoNumero","tgComErro","voltarACor","carregandoAgenda","push","mostrach","printa","j","labs","selected","selectedId","chamarMaterias","e","carregandoMaterias","cursoSelecionado","periodo1","periodo2","periodo3","periodo4","periodo5","periodo6","periodo7","periodo8","periodo9","periodo10","periodoOpt","k","l","periodo","vazio","tabs","colorirMateriaSelecionada","style1","background-color","style2","flag","editName","nomeDoCurso","mudaCurso","save","aula","salvar","deletar","aulaid","adiciona","itera","deleta","materia","posicao","splice","atribuiCor","innerHTML","style","backgroundColor","horarios","batehorario","erros","erros_pratica","chTeoricaFinal","cargaHorariaTeorica","chPraticaFinal","cargaHorariaPratica","flagDeErro","$on","event","colorObject","corAComparar","value","printapratica","valor","pai","$","on","exports","global","define","undefined","renderDocument","options","windowWidth","windowHeight","html2canvasIndex","createWindowClone","defaultView","pageXOffset","pageYOffset","container","attributeName","html2canvasNodeAttribute","selector","removeAttribute","clonedWindow","contentWindow","node","oncloneHandler","Promise","resolve","onclone","renderWindow","support","Support","imageLoader","ImageLoader","bounds","getBounds","width","type","documentWidth","height","documentHeight","renderer","parser","NodeParser","ready","canvas","crop","top","left","x","y","documentElement","cleanupContainer","removeContainer","parentNode","croppedCanvas","x1","min","max","x2","y1","y2","getContext","drawImage","doc","scrollWidth","offsetWidth","clientWidth","scrollHeight","offsetHeight","clientHeight","smallImage","isIE9","documentMode","cloneNodeIE9","javascriptEnabled","clone","nodeType","createTextNode","nodeValue","cloneNode","child","firstChild","nodeName","nextSibling","ownerDocument","containerDocument","labelCanvasElements","visibility","position","scrolling","documentClone","cloneNodeValues","onload","interval","setInterval","childNodes","cloneCanvasContents","clearInterval","scrollTo","restoreOwnerScroll","replaceChild","adoptNode","removeScriptNodes","originalNodes","getElementsByTagName","clonedNodes","count","loadUrlDocument","src","proxy","Proxy","documentFromHTML","html","DOMParser","parseFromString","implementation","createHTMLDocument","ee","b","host","base","head","insertBefore","call","querySelectorAll","forEach","setAttribute","html2canvasCanvasCloneAttribute","html2canvasCanvasCloneIndex","clonedCanvas","getAttribute","putImageData","getImageData","parent","filter","isElementNode","tagName","Node","ELEMENT_NODE","absoluteUrl","link","Color","this","r","g","a","fromArray","namedColor","rgb","rgba","hex6","hex3","DummyImageContainer","promise","image","prototype","Image","reject","onerror","complete","Font","family","size","baseline","middle","img","span","sampleText","fontFamily","fontSize","margin","padding","verticalAlign","offsetTop","lineHeight","lineWidth","FontMetrics","data","FrameContainer","sameOrigin","self","URL","proxyLoad","html2canvas","allowTaint","imageTimeout","GradientContainer","imageData","colorStops","x0","y0","ImageContainer","cors","tainted","crossOrigin","origin","getOrigin","location","LinearGradientContainer","apply","arguments","TYPES","LINEAR","hasDirection","args","match","stepRegExp","split","reverse","map","colorStop","colorStopMatch","stop","index","some","find","logging","Function","bind","Date","now","start","concat","NodeContainer","stack","borders","clip","backgroundClip","offsetBounds","visible","computedStyles","styles","backgroundImages","transformData","transformMatrix","isPseudoElement","opacity","selectionValue","option","selectedIndex","text","parseMatrix","s","parseFloat","trim","isPercentage","indexOf","parseBackgrounds","backgroundImage","method","definition","prefix","prefix_i","block","quote","whitespace","results","mode","numParen","appendResult","c","removePx","str","replace","asFloat","getBoundingClientRect","clientRect","bottom","right","offsetParent","offsetLeft","range","renderQueue","StackingContext","background","rectangle","canvasBackground","isTransparent","visibile","isElementVisible","createPseudoHideStyles","disableAnimations","nodes","flatten","getChildren","getPseudoElements","fontMetrics","calculateOverflowClips","fetch","isElement","createStackingContexts","sortStackingContexts","parse","async","renderIndex","asyncRenderer","paint","hasParentClip","toCamelCase","toUpperCase","ClearTransform","calculateBorders","nodeBounds","borderPoints","radius","borderSide","bx","by","bw","bh","drawSide","c1","c2","c3","c4","topLeftOuter","topLeftInner","topRightOuter","topRightInner","bottomRightOuter","bottomRightInner","bottomLeftOuter","bottomLeftInner","getCurvePoints","r1","r2","kappa","sqrt","ox","oy","xm","ym","topLeft","bezierCurve","topRight","bottomRight","bottomLeft","calculateCurvePoints","borderRadius","tlh","tlv","trh","trv","brh","brv","blh","blv","topWidth","rightHeight","bottomWidth","leftHeight","subdivide","startControl","endControl","end","lerp","t","ab","bc","cd","abbc","bccd","dest","curveTo","borderArgs","curveToReversed","borderData","radius1","radius2","outer1","inner1","outer2","inner2","parseCorner","corner1","corner2","negativeZIndex","cssInt","positiveZIndex","zIndex0","inlineLevel","css","isStackingContext","hasText","noLetterSpacing","getBorderRadiusData","side","arr","asInt","renderableNode","TEXT_NODE","isPositionedForStacking","zIndex","isPositioned","isFloating","isInlineBlock","not","callback","context","isTextNode","zIndexSort","contexts","hasOpacity","getOpacity","getWidth","nonIgnoredElement","nodeContainer","arrays","stripQuotes","first","getWords","characters","word","words","onWordBoundary","isWordBoundary","punycode","ucs2","encode","characterCode","hasUnicode","string","proxyUrl","createCallback","supportsCORS","createProxyUrl","XHR","jsonp","decode64","ProxyURL","supportsCORSImage","cleanup","useCORS","proxyCount","round","random","encodeURIComponent","ProxyImageContainer","PseudoElementContainer","before","Renderer","hasOwnStacking","ownStacking","children","rangeBounds","testRangeBounds","testCORS","svg","testSVG","SVGContainer","hasFabric","isInline","inlineFormatting","fabric","loadSVGFromString","createCanvas","base64","encoded1","encoded2","encoded3","encoded4","byte1","byte2","byte3","chars","len","output","String","fromCharCode","SVGNodeContainer","native","XMLSerializer","serializeToString","parseSVGDocument","TextContainer","capitalize","m","p1","p2","WebkitGradientContainer","RADIAL","xhr","XMLHttpRequest","responseText","Error","send","CanvasRenderer","ctx","taintCtx","textBaseline","variables","hasEntries","array","n","A","F","process","nextTick","G","B","observe","characterData","H","MessageChannel","port1","onmessage","port2","postMessage","I","setTimeout","p","J","K","f","q","L","u","TypeError","constructor","v","error","M","C","D","N","o","O","E","Array","isArray","Object","w","MutationObserver","WebKitMutationObserver","Uint8ClampedArray","importScripts","race","catch","z","polyfill","amd","ES6Promise","RangeError","errors","fn","mapDomain","parts","labels","regexSeparators","encoded","ucs2decode","extra","counter","charCodeAt","ucs2encode","stringFromCharCode","basicToDigit","codePoint","digitToBasic","digit","adapt","delta","numPoints","firstTime","damp","baseMinusTMin","tMax","skew","decode","input","out","oldi","baseMinusT","inputLength","initialN","bias","initialBias","lastIndexOf","delimiter","maxInt","tMin","handledCPCount","basicLength","currentValue","handledCPCountPlusOne","qMinusT","toUnicode","regexPunycode","toASCII","regexNonASCII","freeExports","freeModule","freeGlobal","key","overflow","not-basic","invalid-input","version","hasOwnProperty","html2canvasCloneIndex","nodeList","strict","innerWidth","innerHeight","onrendered","darken","amount","isBlack","_hex3","_hex6","substring","_rgb","Number","_rgba","isColor","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","whitesmoke","yellow","yellowgreen","getMetrics","findImages","reduce","imageNodes","addImage","loadImage","findBackgroundImage","parseBackgroundImages","hasImageBackground","newImage","imageExists","isSVG","isSameOrigin","protocol","hostname","port","getPromise","timeout","dummy","get","found","timer","res","clearTimeout","create","cloneTo","cssFloat","assignStack","hasAttribute","attribute","computedStyle","prefixedCss","prefixes","getComputedStyle","isNaN","fontWeight","parseClip","matches","CLIP","cssList","property","parseBackgroundSize","targetRatio","currentRatio","parseBackgroundPosition","backgroundSize","parseBackgroundRepeat","parseTextShadows","textShadow","shadows","TEXT_SHADOW_PROPERTY","TEXT_SHADOW_VALUES","offsetX","offsetY","parseTransform","hasTransform","offset","parseBounds","matrix","parseTransformMatrix","transform","MATRIX_PROPERTY","getValue","placeholder","appendToDOM","parseBorders","cssClip","cleanDOM","queue","asyncTimer","createStyles","PSEUDO_HIDE_ELEMENT_CLASS_BEFORE","PSEUDO_HIDE_ELEMENT_CLASS_AFTER","hidePseudoElements","getPseudoElement","after","display","isImage","pseudoNode","pseudoContainer","item","parentContainer","newStackingContext","parentStack","getParentStack","isRootElement","isBodyWithTransparentRoot","sort","parseTextBounds","textList","getRangeBounds","replacementNode","splitText","getWrapperBounds","wrapper","backupText","createRange","setStart","setEnd","negativeZindex","descendantElements","descendantNonFloats","nonInlineNonPositionedDescendants","nonPositionedFloats","inFlow","stackLevel0","positiveZindex","restore","paintText","paintNode","setOpacity","setTransform","paintCheckbox","paintRadio","paintElement","renderBackground","renderBorders","imgContainer","renderImage","imageContainer","paintFormValue","checked","font","circleStroke","circle","ceil","properties","textContent","applyTextTransform","letterRendering","character","fontShadow","clearShadow","renderTextDecoration","metrics","borderColorTransforms","inset","colorTransform","parseBackgroundClip","getHideClass","paddingLeft","paddingTop","paddingRight","paddingBottom","renderBackgroundColor","renderBackgroundImage","renderBorder","drawShape","renderBackgroundRepeating","gradientImage","renderBackgroundGradient","repeat","backgroundRepeatShape","renderBackgroundRepeat","testElement","rangeHeight","selectNode","removeContentType","objects","StaticCanvas","lowerCanvasEl","setWidth","setHeight","add","util","groupSVGElements","renderAll","atob","setFillStyle","fillStyle","fillRect","beginPath","arc","PI","closePath","fill","stroke","strokeColor","strokeStyle","shape","taints","sx","sy","sw","sh","dx","dy","dw","dh","shapes","point","rect","variant","setVariable","globalAlpha","translate","fillText","backgroundPosition","borderLeft","borderTop","createPattern","resizeImage","gradient","createLinearGradient","addColorStop","selecionadasFactory","mudaView","mostraPagina","selecionadas","periodoOptSeleciondads","carregandoMateria","nomes1","preparaEstatistica","cursoAtual","selecionadasDoCurso","calcula","feitas","total","horastotais","horasselecionadas","horastotaisOpt","percentualMateriasFeitas","percentualHorasFeitas","percentualHorasOptativasFeitas","functionThatReturnsStyle","ProfileModalCtrl","$uibModalInstance","ok","ProfilePageCtrl","fileReader","$filter","$uibModal","picture","removePicture","noPicture","uploadPicture","fileInput","socialProfiles","name","unconnect","showModal","animation","getFile","readAsDataUrl","file","switches","toastrLibConfig","toastrConfig","extend","closeButton","closeHtml","timeOut","autoDismiss","containerId","maxOpened","newestOnTop","positionClass","preventDuplicates","preventOpenDuplicates","target","animatedChange","changeValue","val","newValue","attr","oldvalue","next","directive","autoExpand","restrict","elem","autoFocus","$parse","attrs","model","$watch","focus","select","$apply","assign","includeWithScope","ele","ionSlider","maxPostfix","prettify","prettifySeparator","grid","gridMargin","postfix","step","hideMinMax","hideFromTo","from","to","disable","onChange","onFinish","values","$element","ionRangeSlider","prettify_enabled","prettify_separator","update","ngFileSelect","el","srcElement","files","scrollPosition","maxHeight","scrollTop","prevScrollTop","trackWidth","minWidth","prevTrackWidth","resize","zoomIn","delay","removeClass","factory","$window","store","localStorage","defaultValue","remove","removeItem","storeObject","JSON","stringify","getObject","$resource","$http","$localStorage","baseURL","loadUserCredentials","credentials","TOKEN_KEY","username","useCredentials","storeUserCredentials","isAuthenticated","authToken","token","defaults","headers","common","destroyUserCredentials","authFac","login","loginData","$broadcast","err","openConfirm","plain","logout","register","registerData","password","rememberMe","getUsername","baUtil","isDescendant","hexToRGB","hex","alpha","onLoad","reader","deferred","onError","onProgress","loaded","getReader","FileReader","onprogress","readAsDataURL","defer","AmCharts","criarAgenda","dado","editNome","idd","saveClass","aulaId","stopableInterval","calback","time","startInterval","cancel","baPanel","baPanelClass","transclude","baPanelTitle","titleTpl","baPanelBlur","baPanelBlurHelper","bodyBgSize","bodyBgLoad","getBodyBgImageSizes","addEventListener","recalculatePanelStyle","positionX","positionY","$isMobile","removeEventListener","elemW","elemH","finalHeight","finalWidth","imgRatio","containerRatio","baPanelSelf","BaSidebarCtrl","menuItems","getMenuItems","defaultSidebarState","stateRef","hoverItem","showHoverElem","hoverElemHeight","currentTarget","menuTopValue","hoverElemTop","canSidebarBeHidden","setMenuCollapsed","baSidebar","layoutSizes","jqWindow","_onWindowClick","$evt","originalEvent","$sidebarEventProcessed","isMenuCollapsed","_onWindowResize","newMenuCollapsed","shouldMenuBeCollapsed","newMenuHeight","_calculateMenuHeight","menuHeight","off","staticMenuItems","addStaticItem","_factory","defineMenuItemStates","meta","level","states","subMenu","isCollapsed","toggleMenuCollapsed","getAllStateRefsRecursive","_iterateSubItems","currentItem","subItem","baSidebarToggleMenu","baSidebarCollapseMenu","baSidebarTogglingItem","BaSidebarTogglingItemCtrl","$attrs","_isState","subItemsStateRefs","subItemState","vm","menuItem","$$menuItem","$eval","$$expandSubmenu","warn","$$collapseSubmenu","$expand","$collapse","$toggle","hasClass","toState","baUiSrefTogglingSubmenu","require","slideDown","slideUp","baUiSrefToggler","baWizard","controllerAs","baWizardCtrl","calcProgress","progress","tabNum","addTab","tab","setPrev","selectTab","submit","isAvailiable","tIndex","isFirstTab","isLastTab","nextTab","previousTab","baWizardStep","form","wizard","isSelected","$setSubmitted","isComplete","$valid","prevTab","pTab","backTop","speed","contentTop","$location","activePageTitle","MsgCenterCtrl","$sce","users","0","1","2","3","notifications","userId","messages","getMessage","msg","trustAsHtml","msgCenter","pageTop","AuthFactory","loggedIn","openLogin","openRegister","logOut","stateis","curstate","is","doLogin","doRegister","registration","widgets","ngModel","appImage","kameleonImg","profilePicture","ext","plainText","scroll","fadeIn","fadeOut","animate","duration","jQuery","$templateCache","put"],"mappings":"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","file":"scripts/app-c8ac8fe00b.js","sourcesContent":["/**\n * @author v.lugovsky\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.pages', [\n    'ui.router',\n\n    'BlurAdmin.pages.dashboard',\n    'BlurAdmin.pages.profile',\n    'BlurAdmin.pages.agenda',\n    'BlurAdmin.pages.materias',\n    'BlurAdmin.pages.login',\n    'BlurAdmin.pages.createAgenda',\n    'BlurAdmin.pages.deleteAgenda',\n    'BlurAdmin.pages.share',\n    'BlurAdmin.pages.register',\n\n  ])\n      .config(routeConfig);\n\n  /** @ngInject */\n  function routeConfig($urlRouterProvider, baSidebarServiceProvider) {\n    $urlRouterProvider.otherwise('/dashboard');\n\n  //   baSidebarServiceProvider.addStaticItem({\n  //     title: 'Pages',\n  //     icon: 'ion-document',\n  //     subMenu: [{\n  //       title: 'Sign In',\n  //       fixedHref: 'auth.html',\n  //       blank: true\n  //     }, {\n  //       title: 'Sign Up',\n  //       fixedHref: 'reg.html',\n  //       blank: true\n  //     }, {\n  //       title: 'User Profile',\n  //       stateRef: 'profile'\n  //     }, {\n  //       title: '404 Page',\n  //       fixedHref: '404.html',\n  //       blank: true\n  //     }]\n  //   });\n  //   baSidebarServiceProvider.addStaticItem({\n  //     title: 'Menu Level 1',\n  //     icon: 'ion-ios-more',\n  //     subMenu: [{\n  //       title: 'Menu Level 1.1',\n  //       disabled: true\n  //     }, {\n  //       title: 'Menu Level 1.2',\n  //       subMenu: [{\n  //         title: 'Menu Level 1.2.1',\n  //         disabled: true\n  //       }]\n  //     }]\n  //   });\n   }\n\n})();\n\n/**\n * @author v.lugovsky\n * created on 15.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme', [\n      'toastr',\n      'chart.js',\n      'angular-chartist',\n      'angular.morris-chart',\n      'textAngular',\n      'BlurAdmin.theme.components'\n  ]);\n\n})();\n\n(function () {\r\n  'use strict';\r\n\r\n  angular.module('BlurAdmin.pages.agenda', [])\r\n\r\n \r\n  .config(routeConfig);\r\n  /** @ngInject */\r\n  function routeConfig($stateProvider) {\r\n    $stateProvider\r\n        .state('agenda', {\r\n          url: '/agenda/:id',\r\n          templateUrl: 'app/pages/agenda/agenda.html',\r\n          controller: 'agendaController',\r\n          title: 'agenda',\r\n        //  data: {\r\n    //          requireLogin: true // this property will apply to all children of 'app'\r\n     //     },\r\n         \r\n          // data: {\r\n          //   requireLogin: true // this property will apply to all children of 'app'\r\n          // }\r\n        });\r\n  }\r\n\r\n\r\n\r\n\r\n})();\r\n\r\n\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.pages.createAgenda', [])\n      .config(routeConfig);\n\n  /** @ngInject */\n  function routeConfig($stateProvider) {\n    $stateProvider\n        .state('createAgenda', {\n          url: '/createAgenda',\n          templateUrl: 'app/pages/createAgenda/createAgenda.html',\n          title: 'Login',\n          \n        });\n  }\n\n})();\n/**\n * @author v.lugovsky\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.pages.dashboard', [])\n\n  .controller('dashController', ['$scope', 'agendasFactory', 'ngDialog','deleteAgendaFactory','$state','criarAgendaFactory', function ($scope,agendasFactory,ngDialog,deleteAgendaFactory, $state, criarAgendaFactory) {\n  \n    $scope.agendas = {};\n\n\n    $scope.CreateAgenda = function () {\n          ngDialog.open({ \n            template: 'app/pages/createAgenda/createAgenda.html', \n            scope: $scope, \n            className: 'ngdialog-theme-default', \n            controller:\"dashController\"\n          });\n      };\n\n      $scope.DeleteAgenda = function (agenda) {\n          \n          $scope.nomeDaAgenda = agenda.nome;\n           $scope.idDaAgenda = agenda._id;\n\n          ngDialog.open({ \n            template: 'app/pages/deleteAgenda/deleteAgenda.html', \n            scope: $scope, \n            className: 'ngdialog-theme-default', \n            controller:\"dashController\"\n          });\n\n\n      };\n\n      $scope.doDeleteAgenda = function(agendaid) {\n          \n          deleteAgendaFactory.delete({id: agendaid})\n          .$promise.then(\n             function (response) {\n                 $state.go($state.current, {}, {reload: true});\n               },\n               function (response) {\n  //                 $console.log(\"error\");\n               });\n    \n          ngDialog.close();\n\n      };\n\n       $scope.ShareAgenda = function (agenda) {\n          ngDialog.open({ \n            template: 'app/pages/share/share.html', \n            scope: $scope, \n            className: 'ngdialog-theme-default', \n            controller:\"dashController\"\n          });\n\n          $scope.nomeDoShare = agenda.nome;\n\n      };\n\n      // $scope.DeleteAgenda = function (agendaid) {\n\n      //       if (confirm(\"Tem certeza que quer deletar essa agenda?\") == true) {\n      //           deleteAgendaFactory.delete({id: agendaid})\n      //           .$promise.then(\n      //             function (response) {\n      //                 $state.go($state.current, {}, {reload: true});\n      //               },\n      //               function (response) {\n      //                   $sconsole.log(\"error\");\n      //               });\n\n      //           console.log('Delete favorites', agendaid);\n      //           console.log(\"deletado\");\n\n      //       } else {\n      //           console.log(\"cancelado a delecao\");\n      //       }\n     \n         \n      //  };\n\n      $scope.carregandoDash = true;\n\n    agendasFactory.query(\n        function (response) {\n             $scope.agendas = response;\n //            console.log(response)\n //            console.log(response.length)\n             $scope.numeroAgendas = response.length;\n\n             $scope.carregandoDash = false;\n            \n        },\n        function (response) {\n            $scope.message = \"Error: \" + response.status + \" \" + response.statusText;\n        });\n   \n      $scope.novaAgenda;\n  \n       $scope.doCreateAgenda = function() {\n//          console.log('Doing registration', $scope.novaAgenda);\n\n          criarAgendaFactory.criar($scope.novaAgenda);\n          \n          ngDialog.close();\n\n      };\n\n      $scope.checkNumber = function(){\n        if($scope.numeroAgendas < 7){\n          $scope.podeCriar= true;\n        }else{\n          $scope.podeCriar = false;\n        }\n      }\n\n  }])\n\n\n\n \n  .config(routeConfig);\n\n  /** @ngInject */\n  function routeConfig($stateProvider) {\n    $stateProvider\n        .state('dashboard', {\n          url: '/dashboard',\n          templateUrl: 'app/pages/dashboard/dashboard.html',\n          title: 'Início',\n          controller: 'dashController',\n          sidebarMeta: {\n            icon: 'ion-android-home',\n            order: 0,\n          },\n        });\n  }\n\n})();\n\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.pages.deleteAgenda', [])\n      .config(routeConfig);\n\n  /** @ngInject */\n  function routeConfig($stateProvider) {\n    $stateProvider\n        .state('deleteAgenda', {\n          url: '/deleteAgenda',\n          templateUrl: 'app/pages/deleteAgenda/deleteAgenda.html',\n          title: 'Login',\n          \n        });\n  }\n\n})();\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.pages.likeus', [])\n      .config(routeConfig);\n\n  /** @ngInject */\n  function routeConfig($stateProvider) {\n    $stateProvider\n        .state('likeus', {\n          url: '/likeus',\n          templateUrl: 'app/pages/likeus/likeus.html',\n          title: 'LikeUs',\n          \n        });\n  }\n\n})();\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.pages.login', [])\n      .config(routeConfig);\n\n  /** @ngInject */\n  function routeConfig($stateProvider) {\n    $stateProvider\n        .state('login', {\n          url: '/login',\n          templateUrl: 'app/pages/login/login.html',\n          title: 'Login',\n          \n        });\n  }\n\n})();\n(function () {\r\n  'use strict';\r\n\r\n  angular.module('BlurAdmin.pages.materias', [])\r\n      .config(routeConfig);\r\n\r\n  /** @ngInject */\r\n  function routeConfig($stateProvider) {\r\n    $stateProvider\r\n        .state('materias', {\r\n          url: '/materias',\r\n          templateUrl: 'app/pages/materias/materias.html',\r\n          title: 'Matérias Feitas',\r\n          controller: 'materiasController',\r\n          sidebarMeta: {\r\n            icon: 'ion-android-checkbox-outline',\r\n            order: 2,\r\n          },\r\n        });\r\n  }\r\n\r\n})();\r\n\r\n\n/**\n * @author v.lugovsky\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.pages.profile', [])\n      .config(routeConfig);\n\n  /** @ngInject */\n  function routeConfig($stateProvider) {\n    $stateProvider\n        .state('profile', {\n          url: '/profile',\n          title: 'Profile',\n          templateUrl: 'app/pages/profile/profile.html',\n          controller: 'ProfilePageCtrl',\n        });\n  }\n\n})();\n\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.pages.register', [])\n      .config(routeConfig);\n\n  /** @ngInject */\n  function routeConfig($stateProvider) {\n    $stateProvider\n        .state('register', {\n          url: '/register',\n          templateUrl: 'app/pages/register/register.html',\n          title: 'Login',\n          \n        });\n  }\n\n})();\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.pages.share', [])\n      .config(routeConfig);\n\n  /** @ngInject */\n  function routeConfig($stateProvider) {\n    $stateProvider\n        .state('share', {\n          url: '/share',\n          templateUrl: 'app/pages/share/share.html',\n          title: 'Login',\n          \n        });\n  }\n\n})();\n/**\n * @author v.lugovksy\n * created on 16.12.2015\n */\n/**\n * @author v.lugovsky\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components', []);\n\n})();\n\n'use strict';\n\nangular.module('BlurAdmin', [\n  'ngAnimate',\n  'ui.bootstrap',\n  'ui.sortable',\n  'ui.router',\n  'ngTouch',\n  'ngResource',\n  'ngDialog',\n  'toastr',\n  'smart-table',\n  \"xeditable\",\n  'ui.slimscroll',\n  'colorpicker.module',\n  'ngJsTree',\n  'angular-progress-button-styles',\n  \n  'BlurAdmin.theme',\n  'BlurAdmin.pages'\n]);\n/**\n * Created by k.danovsky on 13.05.2016.\n */\n\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n    .config(config);\n\n  /** @ngInject */\n  function config(baConfigProvider, colorHelper) {\n    //baConfigProvider.changeTheme({blur: true});\n    //\n    //baConfigProvider.changeColors({\n    //  default: 'rgba(#000000, 0.2)',\n    //  defaultText: '#ffffff',\n    //  dashboard: {\n    //    white: '#ffffff',\n    //  },\n    //});\n  }\n})();\n\n/**\n * Created by k.danovsky on 13.05.2016.\n */\n\n(function () {\n  'use strict';\n\n  var basic = {\n    default: '#ffffff',\n    defaultText: '#666666',\n    border: '#dddddd',\n    borderDark: '#aaaaaa',\n  };\n\n  // main functional color scheme\n  var colorScheme = {\n    primary: '#209e91',\n    info: '#2dacd1',\n    success: '#90b900',\n    warning: '#dfb81c',\n    danger: '#e85656',\n  };\n\n  // dashboard colors for charts\n  var dashboardColors = {\n    blueStone: '#005562',\n    surfieGreen: '#0e8174',\n    silverTree: '#6eba8c',\n    gossip: '#b9f2a1',\n    white: '#10c4b5',\n  };\n\n  angular.module('BlurAdmin.theme')\n    .provider('baConfig', configProvider);\n\n  /** @ngInject */\n  function configProvider(colorHelper) {\n    var conf = {\n      theme: {\n        blur: false,\n      },\n      colors: {\n        default: basic.default,\n        defaultText: basic.defaultText,\n        border: basic.border,\n        borderDark: basic.borderDark,\n\n        primary: colorScheme.primary,\n        info: colorScheme.info,\n        success: colorScheme.success,\n        warning: colorScheme.warning,\n        danger: colorScheme.danger,\n\n        primaryLight: colorHelper.tint(colorScheme.primary, 30),\n        infoLight: colorHelper.tint(colorScheme.info, 30),\n        successLight: colorHelper.tint(colorScheme.success, 30),\n        warningLight: colorHelper.tint(colorScheme.warning, 30),\n        dangerLight: colorHelper.tint(colorScheme.danger, 30),\n\n        primaryDark: colorHelper.shade(colorScheme.primary, 15),\n        infoDark: colorHelper.shade(colorScheme.info, 15),\n        successDark: colorHelper.shade(colorScheme.success, 15),\n        warningDark: colorHelper.shade(colorScheme.warning, 15),\n        dangerDark: colorHelper.shade(colorScheme.danger, 15),\n\n        dashboard: {\n          blueStone: dashboardColors.blueStone,\n          surfieGreen: dashboardColors.surfieGreen,\n          silverTree: dashboardColors.silverTree,\n          gossip: dashboardColors.gossip,\n          white: dashboardColors.white,\n        },\n      }\n    };\n\n    conf.changeTheme = function(theme) {\n      angular.merge(conf.theme, theme)\n    };\n\n    conf.changeColors = function(colors) {\n      angular.merge(conf.colors, colors)\n    };\n\n    conf.$get = function () {\n      delete conf.$get;\n      return conf;\n    };\n    return conf;\n  }\n})();\n\n/**\n * @author v.lugovsky\n * created on 15.12.2015\n */\n(function () {\n  'use strict';\n\n  var IMAGES_ROOT = 'assets/img/';\n\n  angular.module('BlurAdmin.theme')\n    .constant('layoutSizes', {\n      resWidthCollapseSidebar: 1200,\n      resWidthHideSidebar: 500\n    })\n    .constant('layoutPaths', {\n      images: {\n        root: IMAGES_ROOT,\n        profile: IMAGES_ROOT + 'app/profile/',\n        amMap: 'assets/img/theme/vendor/ammap//dist/ammap/images/',\n        amChart: 'assets/img/theme/vendor/amcharts/dist/amcharts/images/'\n      }\n    })\n    .constant('colorHelper', {\n      tint: function(color, weight) {\n        return mix('#ffffff', color, weight);\n      },\n      shade: function(color, weight) {\n        return mix('#000000', color, weight);\n      },\n    });\n\n  function shade(color, weight) {\n    return mix('#000000', color, weight);\n  }\n\n  function tint(color, weight) {\n    return mix('#ffffff', color, weight);\n  }\n\n  //SASS mix function\n  function mix(color1, color2, weight) {\n    // convert a decimal value to hex\n    function d2h(d) {\n      return d.toString(16);\n    }\n    // convert a hex value to decimal\n    function h2d(h) {\n      return parseInt(h, 16);\n    }\n\n    var result = \"#\";\n    for(var i = 1; i < 7; i += 2) {\n      var color1Part = h2d(color1.substr(i, 2));\n      var color2Part = h2d(color2.substr(i, 2));\n      var resultPart = d2h(Math.floor(color2Part + (color1Part - color2Part) * (weight / 100.0)));\n      result += ('0' + resultPart).slice(-2);\n    }\n    return result;\n  }\n})();\n\n/**\n * @author v.lugovksy\n * created on 15.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n    .run(themeRun);\n\n  /** @ngInject */\n  function themeRun($timeout, $rootScope, layoutPaths, preloader, $q, baSidebarService, themeLayoutSettings) {\n    var whatToWait = [\n      preloader.loadAmCharts(),\n      $timeout(3000)\n    ];\n\n    var theme = themeLayoutSettings;\n    if (theme.blur) {\n      if (theme.mobile) {\n        whatToWait.unshift(preloader.loadImg(layoutPaths.images.root + 'blur-bg-mobile.jpg'));\n      } else {\n        whatToWait.unshift(preloader.loadImg(layoutPaths.images.root + 'blur-bg.jpg'));\n        whatToWait.unshift(preloader.loadImg(layoutPaths.images.root + 'blur-bg-blurred.jpg'));\n      }\n    }\n\n    $q.all(whatToWait).then(function () {\n      $rootScope.$pageFinishedLoading = true;\n    });\n\n    $timeout(function () {\n      if (!$rootScope.$pageFinishedLoading) {\n        $rootScope.$pageFinishedLoading = true;\n      }\n    }, 7000);\n\n    $rootScope.$baSidebarService = baSidebarService;\n  }\n\n})();\n/**\n * Created by k.danovsky on 12.05.2016.\n */\n\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n    .service('themeLayoutSettings', themeLayoutSettings);\n\n  /** @ngInject */\n  function themeLayoutSettings(baConfig) {\n    var isMobile = (/android|webos|iphone|ipad|ipod|blackberry|windows phone/).test(navigator.userAgent.toLowerCase());\n    var mobileClass = isMobile ? 'mobile' : '';\n    var blurClass = baConfig.theme.blur ? 'blur-theme' : '';\n    angular.element(document.body).addClass(mobileClass).addClass(blurClass);\n\n    return {\n      blur: baConfig.theme.blur,\n      mobile: isMobile,\n    }\n  }\n\n})();\n/**\r\n * @author v.lugovsky\r\n * created on 16.12.2015\r\n */\r\n(function () {\r\n  'use strict';\r\n\r\n  angular.module('BlurAdmin.pages.agenda')\r\n\r\n      .controller('editNameController', ['$scope','agendasFactory', '$state', '$stateParams','editNomeAgendaFactory','ngDialog', function ($scope,agendasFactory,$state,$stateParams,editNomeAgendaFactory,ngDialog){\r\n\r\n\r\n        $scope.agenda = {};\r\n\r\n        $scope.agenda = agendasFactory.query({\r\n            id: $stateParams.id\r\n        })\r\n        .$promise.then(\r\n            function (response) {\r\n //             console.log(\"entrei1\");\r\n //              console.log(response);\r\n               $scope.agenda = response[0];\r\n                \r\n            },\r\n            function (response) {\r\n                $scope.message = \"Error: \" + response.status + \" \" + response.statusText;\r\n            }\r\n        );\r\n\r\n\r\n        $scope.doEditName = function() {\r\n          \r\n//            console.log($scope.novaAgenda.novoNome);\r\n//            console.log($scope.agenda._id);\r\n\r\n            editNomeAgendaFactory.mudar($scope.novaAgenda.novoNome, $scope.agenda._id);\r\n            \r\n            ngDialog.close();\r\n\r\n      };\r\n\r\n\r\n      }])\r\n\r\n\r\n\r\n\r\n\r\n\r\n      .controller('agendaController', ['$scope','aulasFactory','agendasFactory', '$state', '$stateParams','ngDialog','saveClassFactory','deleteClassFactory', function ($scope, aulasFactory,agendasFactory,$state,$stateParams,ngDialog,saveClassFactory,deleteClassFactory) {\r\n\r\n\r\n\r\n            \r\n            $scope.exportCanvasAsPNG = function() {\r\n\r\n\r\n             //   var myCanvas = $(document).find('#tabelaCompleta');\r\n                var canvasElement = document.getElementById(\"tabelaCompleta\");\r\n\r\n                var MIME_TYPE = \"image/png\";\r\n\r\n                console.log(canvasElement);\r\n\r\n                var imgURL = canvasElement.toDataURL();\r\n\r\n                var dlLink = document.createElement('a');\r\n                dlLink.download = agenda;\r\n                dlLink.href = imgURL;\r\n                dlLink.dataset.downloadurl = [MIME_TYPE, dlLink.download, dlLink.href].join(':');\r\n\r\n                document.body.appendChild(dlLink);\r\n                dlLink.click();\r\n                document.body.removeChild(dlLink);\r\n\r\n            }\r\n\r\n\r\n\r\n\r\n          $scope.dynamicPopover = {\r\n            content: '',\r\n            templateUrl: 'myPopoverTemplate.html',\r\n            title: 'fds'\r\n          };\r\n\r\n\r\n        //dropdown\r\n\r\n        $scope.status = {\r\n          isopen: false\r\n        };\r\n\r\n        $scope.toggled = function(open) {\r\n          $log.log('Dropdown is now: ', open);\r\n        };\r\n\r\n        $scope.toggleDropdown = function($event) {\r\n          $event.preventDefault();\r\n          $event.stopPropagation();\r\n          $scope.status.isopen = !$scope.status.isopen;\r\n        };\r\n\r\n        $scope.appendToEl = angular.element(document.querySelector('#dropdown-long-content'));\r\n\r\n\r\n        $scope.items = [\r\n\r\n          { curso:\"Engenharia Aeronáutica\",   logo:\"assets/img/icones-curso/aeronautica.png\"},\r\n          { curso:'Engenharia Ambiental',     logo:'assets/img/icones-curso/ambiental.png'}, \r\n          { curso:'Engenharia de Controle e Automação',  logo:'assets/img/icones-curso/automacao.png'}, \r\n          { curso:'Engenharia Biomédica',     logo:'assets/img/icones-curso/biomedica.png'}, \r\n          // { curso:'Engenharia Civíl',         logo:'assets/img/icones-curso/civil.png'}, \r\n          { curso:'Engenharia de Computação', logo:'assets/img/icones-curso/computacao.png'}, \r\n          { curso:'Engenharia Elétrica',      logo:'assets/img/icones-curso/eletrica.png'}, \r\n          { curso:'Eng. Elet. e de Telecomunicações',      logo:'assets/img/icones-curso/telecomunicacao.png'}, \r\n          { curso:'Engenharia Mecânica',      logo:'assets/img/icones-curso/mecanica.png'}, \r\n          { curso:'Engenharia Mecatrônica',   logo:'assets/img/icones-curso/mecatronica.png'}, \r\n          { curso:'Engenharia Química',       logo:'assets/img/icones-curso/quimica.png'} \r\n\r\n        ];\r\n\r\n        $scope.itemPaths = [\r\n          \r\n        ];\r\n\r\n        //fim dropdown\r\n\r\n         $scope.aulas= {};\r\n         $scope.agenda = {};\r\n         $scope.message = \"Loading ...\";\r\n\r\n        $scope.materiasEscolhidas = [];\r\n        $scope.tgPreenchidoNome = [];\r\n        $scope.tgPreenchidoNumero = [];\r\n        $scope.tgComErro = []\r\n        $scope.voltarACor = []\r\n\r\n         $scope.carregandoAgenda = true;\r\n        $scope.agenda = agendasFactory.query({\r\n            id: $stateParams.id\r\n        })\r\n        .$promise.then(\r\n            function (response) {\r\n //              console.log(response);\r\n\r\n                \r\n\r\n                $scope.nomeDaAgenda = response[0].nome;\r\n\r\n                if (response.length > 0){\r\n\r\n                  for(var i=0; i<response[0].aulas.length; i++ ){\r\n                      $scope.materiasEscolhidas.push(response[0].aulas[i])\r\n                  }\r\n\r\n                  $scope.mostrach();\r\n                  $scope.printa();\r\n\r\n//                  console.log('primeira materias');\r\n //                 console.log($scope.materiasEscolhidas) ;\r\n\r\n                  for(var i=0; i< $scope.materiasEscolhidas.length; i++ ){\r\n                     for(var j=0; j<$scope.materiasEscolhidas[i].labs.length; j++) {\r\n                        if($scope.materiasEscolhidas[i].labs[j].selected === true){\r\n\r\n                          $scope.materiasEscolhidas[i].labs[j].selectedId = $scope.materiasEscolhidas[i].labs[j]._id; \r\n\r\n                        }else{\r\n                          $scope.materiasEscolhidas[i].labs[j].selectedId = \"\";\r\n                        }\r\n                     }\r\n                  }\r\n                }\r\n           \r\n\r\n                $scope.carregandoAgenda = false;\r\n             \r\n            },\r\n            function (response) {\r\n                $scope.message = \"Error: \" + response.status + \" \" + response.statusText;\r\n            }\r\n        );\r\n\r\n        \r\n         $scope.chamarMaterias = function(e){\r\n                    \r\n                $scope.carregandoMaterias = true;\r\n\r\n                aulasFactory.query(\r\n                function (response) {\r\n\r\n                $scope.aulas = response;\r\n\r\n//                console.log(\"todas as aulas\");\r\n//                console.log($scope.aulas);\r\n\r\n                $scope.cursoSelecionado = [];\r\n\r\n                for(var i=0; i<$scope.aulas.length; i++){\r\n\r\n                  if($scope.aulas[i].curso == e){\r\n                   $scope.cursoSelecionado.push($scope.aulas[i]);\r\n                  }\r\n\r\n                }\r\n                \r\n //               console.log(\"aulas do curso selecionado\");\r\n //               console.log($scope.cursoSelecionado);\r\n\r\n                $scope.periodo1 = [];\r\n                $scope.periodo2 = [];\r\n                $scope.periodo3 = [];\r\n                $scope.periodo4 = [];\r\n                $scope.periodo5 = [];\r\n                $scope.periodo6 = [];\r\n                $scope.periodo7 = [];\r\n                $scope.periodo8 = [];\r\n                $scope.periodo9 = [];\r\n                $scope.periodo10 = [];\r\n                $scope.periodoOpt = [];\r\n\r\n\r\n              for(var i=0; i<$scope.cursoSelecionado.length; i++){\r\n\r\n\r\n                  \r\n                     for(var j=0; j<$scope.cursoSelecionado[i].labs.length; j++) {\r\n                          $scope.cursoSelecionado[i].labs[j].selectedId = \"\";\r\n                        \r\n                     }\r\n                  \r\n\r\n                   for(var k=0; k< $scope.materiasEscolhidas.length; k++ ){\r\n                     for(var l=0; l<$scope.materiasEscolhidas[k].labs.length; l++) {\r\n                        if($scope.materiasEscolhidas[k].labs[l].selected === true){\r\n\r\n                          $scope.materiasEscolhidas[k].labs[l].selectedId = $scope.materiasEscolhidas[k].labs[l]._id; \r\n\r\n                        }else{\r\n                          $scope.materiasEscolhidas[k].labs[l].selectedId = \"\";\r\n                        }\r\n                     }\r\n                  }\r\n                 \r\n                 if($scope.cursoSelecionado[i].periodo == \"1\"){\r\n                   $scope.periodo1.push($scope.cursoSelecionado[i]);\r\n            \r\n                }\r\n\r\n                else if($scope.cursoSelecionado[i].periodo == \"2\"){\r\n                   $scope.periodo2.push($scope.cursoSelecionado[i]);\r\n\r\n                }\r\n                else if($scope.cursoSelecionado[i].periodo == \"3\"){\r\n                   $scope.periodo3.push($scope.cursoSelecionado[i]);\r\n\r\n                }\r\n                else if($scope.cursoSelecionado[i].periodo == \"4\"){\r\n                   $scope.periodo4.push($scope.cursoSelecionado[i]);\r\n\r\n                }\r\n                else if($scope.cursoSelecionado[i].periodo == \"5\"){\r\n                   $scope.periodo5.push($scope.cursoSelecionado[i]);\r\n\r\n                }\r\n                else if($scope.cursoSelecionado[i].periodo == \"6\"){\r\n                   $scope.periodo6.push($scope.cursoSelecionado[i]);\r\n\r\n                }\r\n                else if($scope.cursoSelecionado[i].periodo == \"7\"){\r\n                   $scope.periodo7.push($scope.cursoSelecionado[i]);\r\n\r\n                }\r\n                else if($scope.cursoSelecionado[i].periodo == \"8\"){\r\n                   $scope.periodo8.push($scope.cursoSelecionado[i]);\r\n\r\n                }\r\n                else if($scope.cursoSelecionado[i].periodo == \"9\"){\r\n                   $scope.periodo9.push($scope.cursoSelecionado[i]);\r\n\r\n                }\r\n                else if($scope.cursoSelecionado[i].periodo == \"10\"){\r\n                   $scope.periodo10.push($scope.cursoSelecionado[i]);\r\n\r\n                }\r\n                else if($scope.cursoSelecionado[i].periodo == \"Opt\"){\r\n                   $scope.periodoOpt.push($scope.cursoSelecionado[i]);\r\n\r\n                }\r\n              }\r\n\r\n            $scope.vazio;\r\n\r\n            $scope.tabs = [\r\n              { title:'1', content: $scope.periodo1},\r\n              { title:'2', content: $scope.periodo2},\r\n              { title:'3', content: $scope.periodo3},\r\n              { title:'4', content: $scope.periodo4},\r\n              { title:'5', content: $scope.periodo5},\r\n              { title:'6', content: $scope.periodo6},\r\n              { title:'7', content: $scope.periodo7},\r\n              { title:'8', content: $scope.periodo8},\r\n              { title:'9', content: $scope.periodo9},\r\n              { title:'10', content: $scope.periodo10},\r\n              { title:'Opt', content: $scope.periodoOpt},\r\n              { title:'X', content: $scope.vazio}\r\n\r\n            ];\r\n\r\n\r\n            // for(i=0; i<$scope.agenda.aulas.length; i++){\r\n            //   $scope.materiasEscolhidas.push($scope.agenda.aulas[i])\r\n            // }\r\n\r\n\r\n            $scope.carregandoMaterias = false;\r\n\r\n            },\r\n            function (response) {\r\n                $scope.message = \"Error: \" + response.status + \" \" + response.statusText;\r\n            });\r\n            }\r\n   \r\n\r\n    $scope.colorirMateriaSelecionada = function(e) {\r\n      var style1 = {'background-color':'#DDDDDD'}\r\n      var style2 = {'background-color':'white'}\r\n      \r\n      var flag = false;\r\n      \r\n      for(var i=0; i< $scope.materiasEscolhidas.length; i++ ){\r\n        if ($scope.materiasEscolhidas[i]._id === e._id){\r\n          flag = true;\r\n          break;\r\n        }\r\n      }\r\n\r\n      if(flag){\r\n\r\n        return style1;\r\n      }else{\r\n\r\n        return style2;\r\n      }\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n        $scope.editName = function(){\r\n          ngDialog.open({ \r\n            template: './editName.html', \r\n            scope: $scope, \r\n            className: 'ngdialog-theme-default', \r\n            controller:\"editNameController\"\r\n          });\r\n        }\r\n\r\n        $scope.nomeDoCurso= \"Escolha um Curso.\";\r\n\r\n        $scope.mudaCurso = function(e){\r\n            $scope.nomeDoCurso = e;\r\n            $scope.chamarMaterias(e);\r\n        }\r\n\r\n\r\n        $scope.save = function(e){\r\n            var aula = e;\r\n           // saveClassFactory.save({id: $stateParams.id}, aula);\r\n             saveClassFactory.salvar(aula, $stateParams.id);\r\n        }\r\n    \r\n      \r\n\r\n        $scope.deletar = function(e){\r\n            var aula = e._id;\r\n            deleteClassFactory.delete({id: $stateParams.id}, {aulaid: aula})\r\n          //  console.log(aula);\r\n\r\n        }\r\n \r\n\r\n\r\n$scope.adiciona = function(e){\r\n\r\n  var flag = false;\r\n  $scope.itera = -1;\r\n\r\n\r\n  for($scope.itera=0; $scope.itera< $scope.materiasEscolhidas.length; $scope.itera++ ){\r\n    if ($scope.materiasEscolhidas[$scope.itera]._id === e._id){\r\n      flag = true;\r\n      $scope.deleta(e);\r\n      break;\r\n    }\r\n  }\r\n\r\n  if (!flag){\r\n //   console.log(\"entrei pra add\");\r\n    $scope.materiasEscolhidas.push(e);\r\n    $scope.materiasEscolhidas[$scope.materiasEscolhidas.length-1].selected = true;\r\n //   console.log($scope.materiasEscolhidas);\r\n\r\n    $scope.mostrach();\r\n    $scope.printa();\r\n\r\n    $scope.save($scope.materiasEscolhidas[$scope.materiasEscolhidas.length-1]);\r\n  }  \r\n};\r\n\r\n$scope.deleta = function(materia){\r\n\r\n\r\n  // materia.selected = false;\r\n  // for(var i=0;i<materia.labs.length;i++){\r\n  //   e.labs[i].selected = false\r\n  // }\r\n  \r\n  for(var posicao=0; posicao< $scope.materiasEscolhidas.length; posicao++ ){\r\n    if ($scope.materiasEscolhidas[posicao]._id === materia._id){\r\n\r\n      $scope.materiasEscolhidas.splice(posicao, 1);\r\n      break;\r\n    }\r\n  }\r\n\r\n  $scope.mostrach();\r\n  $scope.printa();\r\n\r\n  $scope.deletar(materia)\r\n\r\n};\r\n\r\n\r\n\r\n$scope.atribuiCor = function(materia,e){\r\n  \r\n\r\n   for(var posicao=0; posicao< $scope.materiasEscolhidas.length; posicao++ ){\r\n    if ($scope.materiasEscolhidas[posicao]._id === materia._id){\r\n\r\n      $scope.materiasEscolhidas[posicao].color = e;\r\n           \r\n      break;\r\n    }\r\n  }\r\n    \r\n  \r\n\r\n // console.log(\"materias escolhidas\");\r\n//  console.log($scope.materiasEscolhidas);\r\n  $scope.printa();\r\n  \r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n$scope.printa = function(){\r\n  for(var i=1;i<=102;i++){\r\n    if (i != 37 && i!= 38 && i != 39 && i!= 40 && i != 41 && i!= 42 );\r\n      document.getElementById('td' + i).innerHTML =  \" \";\r\n  \r\n  }\r\n  for(var i=1;i<=102;i++){\r\n    if (i != 37 && i!= 38 && i != 39 && i!= 40 && i != 41 && i!= 42)\r\n    document.getElementById('td' + i).style.backgroundColor = \"#fff\";\r\n  \r\n  }\r\n\r\n  for(var j=0;j<$scope.materiasEscolhidas.length;j++){\r\n  \r\n    for(i=0;i<$scope.materiasEscolhidas[j].horarios.length;i++){\r\n      \r\n      document.getElementById('td' + $scope.materiasEscolhidas[j].horarios[i]).innerHTML +=  $scope.materiasEscolhidas[j].nome + \".  \";\r\n      document.getElementById('td' + $scope.materiasEscolhidas[j].horarios[i]).style.backgroundColor = $scope.materiasEscolhidas[j].color;\r\n    } \r\n      \r\n    \r\n    for(var k=0; k< $scope.materiasEscolhidas[j].labs.length; k++){\r\n\r\n      if ($scope.materiasEscolhidas[j].labs[k].selected === true ){\r\n\r\n        for(var l=0;l<$scope.materiasEscolhidas[j].labs[k].horarios.length;l++){\r\n          var naoPrinteiPratica = false;  \r\n          //console.log($scope.materiasEscolhidas[j].labs[k].horarios[l])\r\n          document.getElementById('td' + $scope.materiasEscolhidas[j].labs[k].horarios[l]).innerHTML +=  $scope.materiasEscolhidas[j].nome +\" \" + $scope.materiasEscolhidas[j].labs[k].nome + \".  \";\r\n          document.getElementById('td' + $scope.materiasEscolhidas[j].labs[k].horarios[l]).style.backgroundColor = $scope.materiasEscolhidas[j].color;\r\n          \r\n        }\r\n      }\r\n    }\r\n      \r\n  }\r\n  \r\n  $scope.batehorario();\r\n  $scope.erros();\r\n  $scope.erros_pratica();\r\n};\r\n\r\n\r\n$scope.mostrach = function(){\r\n\r\n  $scope.chTeoricaFinal = 0;\r\n  for (var i=0;i<$scope.materiasEscolhidas.length;i++){\r\n    $scope.chTeoricaFinal += $scope.materiasEscolhidas[i].cargaHorariaTeorica;\r\n  }\r\n\r\n  $scope.chPraticaFinal = 0;\r\n  for (var i=0;i<$scope.materiasEscolhidas.length;i++){\r\n    $scope.chPraticaFinal += $scope.materiasEscolhidas[i].cargaHorariaPratica;\r\n  }\r\n\r\n  document.getElementById(\"printaChTeorica\").innerHTML = $scope.chTeoricaFinal;\r\n  document.getElementById(\"printaChPratica\").innerHTML = $scope.chPraticaFinal;\r\n};\r\n\r\n\r\n$scope.batehorario = function(){\r\n\r\n//  for (var i = 0; i < 98; i++) $scope.tgPreenchidoNome[i] = \"\";\r\n  for (var i = 0; i < 98; i++) $scope.tgPreenchidoNumero[i] = 0;\r\n\r\n  for(var j=0;j<$scope.materiasEscolhidas.length;j++){\r\n  \r\n    for (var i=0; i< $scope.materiasEscolhidas[j].horarios.length;i++){\r\n      \r\n//      $scope.tgPreenchidoNome[$scope.materiasEscolhidas[j].horarios[i]] += $scope.materiasEscolhidas[j].nome + \" \" ;\r\n      $scope.tgPreenchidoNumero[$scope.materiasEscolhidas[j].horarios[i]] += 1;\r\n    } \r\n\r\n      \r\n    for(var k=0; k< $scope.materiasEscolhidas[j].labs.length; k++){\r\n\r\n      if ($scope.materiasEscolhidas[j].labs[k].selected === true ){\r\n\r\n        for(var l=0;l<$scope.materiasEscolhidas[j].labs[k].horarios.length;l++){\r\n          var naoPrinteiPratica = false;  \r\n          $scope.tgPreenchidoNumero[$scope.materiasEscolhidas[j].labs[k].horarios[l]] += 1;\r\n        }\r\n      }\r\n    }\r\n      \r\n\r\n    \r\n\r\n\r\n  }   \r\n\r\n//  console.log($scope.tgPreenchidoNome);\r\n//  console.log($scope.tgPreenchidoNumero);\r\n\r\n  \r\n}\r\n\r\n\r\n$scope.erros = function(){\r\n  \r\n $scope.flag = false;\r\n  for(var i=1; i<$scope.tgPreenchidoNumero.length;i++){\r\n    if($scope.tgPreenchidoNumero[i] > 1){\r\n      document.getElementById('td' + i ).style.color=\"red\"\r\n      $scope.flag = true;\r\n    } \r\n    else if($scope.tgPreenchidoNumero[i] == 1)\r\n      document.getElementById('td' + i ).style.color=\"#66667D\"\r\n  }\r\n  return $scope.flag;\r\n\r\n}\r\n\r\n$scope.erros_pratica = function(){\r\n  $scope.flagDeErro = false\r\n  if ($scope.materiasEscolhidas.length == 0) { return false};\r\n\r\n  for(var j=0;j<$scope.materiasEscolhidas.length;j++){\r\n    $scope.flagDeErro = true\r\n    if  ($scope.materiasEscolhidas[j].labs.length == 0)\r\n      $scope.flagDeErro = false\r\n    else{ \r\n      for(var k=0; k< $scope.materiasEscolhidas[j].labs.length; k++){\r\n        \r\n\r\n        if ($scope.materiasEscolhidas[j].labs[k].selected === true ){\r\n            $scope.flagDeErro = false\r\n                    \r\n        }\r\n      }\r\n    }\r\n    if($scope.flagDeErro)\r\n      return true\r\n  }\r\n  return false\r\n}\r\n\r\n$scope.$on('colorpicker-closed', function(event, colorObject){\r\n//     console.log(colorObject);\r\n//     console.log(\"malandramente\");\r\n     var corAComparar = colorObject.value;\r\n//     console.log(corAComparar);\r\n\r\n    for(var posicao=0; posicao< $scope.materiasEscolhidas.length; posicao++ ){\r\n      if ($scope.materiasEscolhidas[posicao].color === corAComparar){\r\n      $scope.deletar($scope.materiasEscolhidas[posicao]);\r\n      $scope.save($scope.materiasEscolhidas[posicao]);     \r\n      break; \r\n    }\r\n  }\r\n\r\n\r\n});\r\n\r\n\r\n$scope.printapratica = function(valor,pai){\r\n\r\n  $scope.deletar(pai);\r\n  // coloca todas as praticas como falsa\r\n  for(var posicao=0; posicao< $scope.materiasEscolhidas.length; posicao++ ){\r\n\r\n    if ($scope.materiasEscolhidas[posicao]._id === pai._id){\r\n     for(var j=0; j<$scope.materiasEscolhidas[posicao].labs.length; j++){\r\n\r\n         $scope.materiasEscolhidas[posicao].labs[j].selected = false;\r\n         $scope.materiasEscolhidas[posicao].labs[j].selectedId = \"\";\r\n     }\r\n      \r\n     break; \r\n    }\r\n  }\r\n\r\n  //coloca uma unica pratica como verdadeira\r\n  for(var posicao=0; posicao< $scope.materiasEscolhidas.length; posicao++ ){\r\n\r\n    if ($scope.materiasEscolhidas[posicao]._id === pai._id){\r\n\r\n     for(var j=0; j<$scope.materiasEscolhidas[posicao].labs.length; j++){\r\n\r\n        if($scope.materiasEscolhidas[posicao].labs[j].nome === valor.nome){\r\n            $scope.materiasEscolhidas[posicao].labs[j].selected = true;\r\n            $scope.materiasEscolhidas[posicao].labs[j].selectedId = valor._id;\r\n            $scope.save($scope.materiasEscolhidas[posicao]);\r\n            break;\r\n        }\r\n     }\r\n           \r\n     break; \r\n    }\r\n  }\r\n\r\n//  console.log(\"apos pratica\");\r\n//  console.log($scope.materiasEscolhidas);\r\n\r\n  $scope.printa();\r\n  $scope.erros_pratica();\r\n\r\n}\r\n \r\nfunction printData()\r\n{\r\n   var divToPrint=document.getElementById(\"printTable\");\r\n   newWin= window.open(\"\");\r\n   newWin.document.write(divToPrint.outerHTML);\r\n   newWin.print();\r\n   newWin.close();\r\n}\r\n\r\n$('button').on('click',function(){\r\nprintData();\r\n})\r\n\r\n\r\n\r\n  \r\n  }])\r\n\r\n})();\r\n\n/*\r\n  html2canvas 0.5.0-alpha1 <http://html2canvas.hertzen.com>\r\n  Copyright (c) 2015 Niklas von Hertzen\r\n\r\n  Released under MIT License\r\n*/\r\n\r\n(function(window, document, exports, global, define, undefined){\r\n\r\n/*!\r\n * @overview es6-promise - a tiny implementation of Promises/A+.\r\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\r\n * @license   Licensed under MIT license\r\n *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE\r\n * @version   2.0.1\r\n */\r\n\r\n(function(){function r(a,b){n[l]=a;n[l+1]=b;l+=2;2===l&&A()}function s(a){return\"function\"===typeof a}function F(){return function(){process.nextTick(t)}}function G(){var a=0,b=new B(t),c=document.createTextNode(\"\");b.observe(c,{characterData:!0});return function(){c.data=a=++a%2}}function H(){var a=new MessageChannel;a.port1.onmessage=t;return function(){a.port2.postMessage(0)}}function I(){return function(){setTimeout(t,1)}}function t(){for(var a=0;a<l;a+=2)(0,n[a])(n[a+1]),n[a]=void 0,n[a+1]=void 0;\r\nl=0}function p(){}function J(a,b,c,d){try{a.call(b,c,d)}catch(e){return e}}function K(a,b,c){r(function(a){var e=!1,f=J(c,b,function(c){e||(e=!0,b!==c?q(a,c):m(a,c))},function(b){e||(e=!0,g(a,b))});!e&&f&&(e=!0,g(a,f))},a)}function L(a,b){1===b.a?m(a,b.b):2===a.a?g(a,b.b):u(b,void 0,function(b){q(a,b)},function(b){g(a,b)})}function q(a,b){if(a===b)g(a,new TypeError(\"You cannot resolve a promise with itself\"));else if(\"function\"===typeof b||\"object\"===typeof b&&null!==b)if(b.constructor===a.constructor)L(a,\r\nb);else{var c;try{c=b.then}catch(d){v.error=d,c=v}c===v?g(a,v.error):void 0===c?m(a,b):s(c)?K(a,b,c):m(a,b)}else m(a,b)}function M(a){a.f&&a.f(a.b);x(a)}function m(a,b){void 0===a.a&&(a.b=b,a.a=1,0!==a.e.length&&r(x,a))}function g(a,b){void 0===a.a&&(a.a=2,a.b=b,r(M,a))}function u(a,b,c,d){var e=a.e,f=e.length;a.f=null;e[f]=b;e[f+1]=c;e[f+2]=d;0===f&&a.a&&r(x,a)}function x(a){var b=a.e,c=a.a;if(0!==b.length){for(var d,e,f=a.b,g=0;g<b.length;g+=3)d=b[g],e=b[g+c],d?C(c,d,e,f):e(f);a.e.length=0}}function D(){this.error=\r\nnull}function C(a,b,c,d){var e=s(c),f,k,h,l;if(e){try{f=c(d)}catch(n){y.error=n,f=y}f===y?(l=!0,k=f.error,f=null):h=!0;if(b===f){g(b,new TypeError(\"A promises callback cannot return that same promise.\"));return}}else f=d,h=!0;void 0===b.a&&(e&&h?q(b,f):l?g(b,k):1===a?m(b,f):2===a&&g(b,f))}function N(a,b){try{b(function(b){q(a,b)},function(b){g(a,b)})}catch(c){g(a,c)}}function k(a,b,c,d){this.n=a;this.c=new a(p,d);this.i=c;this.o(b)?(this.m=b,this.d=this.length=b.length,this.l(),0===this.length?m(this.c,\r\nthis.b):(this.length=this.length||0,this.k(),0===this.d&&m(this.c,this.b))):g(this.c,this.p())}function h(a){O++;this.b=this.a=void 0;this.e=[];if(p!==a){if(!s(a))throw new TypeError(\"You must pass a resolver function as the first argument to the promise constructor\");if(!(this instanceof h))throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");N(this,a)}}var E=Array.isArray?Array.isArray:function(a){return\"[object Array]\"===\r\nObject.prototype.toString.call(a)},l=0,w=\"undefined\"!==typeof window?window:{},B=w.MutationObserver||w.WebKitMutationObserver,w=\"undefined\"!==typeof Uint8ClampedArray&&\"undefined\"!==typeof importScripts&&\"undefined\"!==typeof MessageChannel,n=Array(1E3),A;A=\"undefined\"!==typeof process&&\"[object process]\"==={}.toString.call(process)?F():B?G():w?H():I();var v=new D,y=new D;k.prototype.o=function(a){return E(a)};k.prototype.p=function(){return Error(\"Array Methods must be provided an Array\")};k.prototype.l=\r\nfunction(){this.b=Array(this.length)};k.prototype.k=function(){for(var a=this.length,b=this.c,c=this.m,d=0;void 0===b.a&&d<a;d++)this.j(c[d],d)};k.prototype.j=function(a,b){var c=this.n;\"object\"===typeof a&&null!==a?a.constructor===c&&void 0!==a.a?(a.f=null,this.g(a.a,b,a.b)):this.q(c.resolve(a),b):(this.d--,this.b[b]=this.h(a))};k.prototype.g=function(a,b,c){var d=this.c;void 0===d.a&&(this.d--,this.i&&2===a?g(d,c):this.b[b]=this.h(c));0===this.d&&m(d,this.b)};k.prototype.h=function(a){return a};\r\nk.prototype.q=function(a,b){var c=this;u(a,void 0,function(a){c.g(1,b,a)},function(a){c.g(2,b,a)})};var O=0;h.all=function(a,b){return(new k(this,a,!0,b)).c};h.race=function(a,b){function c(a){q(e,a)}function d(a){g(e,a)}var e=new this(p,b);if(!E(a))return (g(e,new TypeError(\"You must pass an array to race.\")), e);for(var f=a.length,h=0;void 0===e.a&&h<f;h++)u(this.resolve(a[h]),void 0,c,d);return e};h.resolve=function(a,b){if(a&&\"object\"===typeof a&&a.constructor===this)return a;var c=new this(p,b);\r\nq(c,a);return c};h.reject=function(a,b){var c=new this(p,b);g(c,a);return c};h.prototype={constructor:h,then:function(a,b){var c=this.a;if(1===c&&!a||2===c&&!b)return this;var d=new this.constructor(p),e=this.b;if(c){var f=arguments[c-1];r(function(){C(c,d,f,e)})}else u(this,d,a,b);return d},\"catch\":function(a){return this.then(null,a)}};var z={Promise:h,polyfill:function(){var a;a=\"undefined\"!==typeof global?global:\"undefined\"!==typeof window&&window.document?window:self;\"Promise\"in a&&\"resolve\"in\r\na.Promise&&\"reject\"in a.Promise&&\"all\"in a.Promise&&\"race\"in a.Promise&&function(){var b;new a.Promise(function(a){b=a});return s(b)}()||(a.Promise=h)}};\"function\"===typeof define&&define.amd?define(function(){return z}):\"undefined\"!==typeof module&&module.exports?module.exports=z:\"undefined\"!==typeof this&&(this.ES6Promise=z);}).call(window);\r\nif (window) {\r\n    window.ES6Promise.polyfill();\r\n}\r\n\r\n\r\nif (typeof(document) === \"undefined\" || typeof(Object.create) !== \"function\" || typeof(document.createElement(\"canvas\").getContext) !== \"function\") {\r\n    (window || module.exports).html2canvas = function() {\r\n        return Promise.reject(\"No canvas support\");\r\n    };\r\n    return;\r\n}\r\n\r\n/*! https://mths.be/punycode v1.3.1 by @mathias */\r\n;(function(root) {\r\n\r\n\t/** Detect free variables */\r\n\tvar freeExports = typeof exports == 'object' && exports &&\r\n\t\t!exports.nodeType && exports;\r\n\tvar freeModule = typeof module == 'object' && module &&\r\n\t\t!module.nodeType && module;\r\n\tvar freeGlobal = typeof global == 'object' && global;\r\n\tif (\r\n\t\tfreeGlobal.global === freeGlobal ||\r\n\t\tfreeGlobal.window === freeGlobal ||\r\n\t\tfreeGlobal.self === freeGlobal\r\n\t) {\r\n\t\troot = freeGlobal;\r\n\t}\r\n\r\n\t/**\r\n\t * The `punycode` object.\r\n\t * @name punycode\r\n\t * @type Object\r\n\t */\r\n\tvar punycode,\r\n\r\n\t/** Highest positive signed 32-bit float value */\r\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\r\n\r\n\t/** Bootstring parameters */\r\n\tbase = 36,\r\n\ttMin = 1,\r\n\ttMax = 26,\r\n\tskew = 38,\r\n\tdamp = 700,\r\n\tinitialBias = 72,\r\n\tinitialN = 128, // 0x80\r\n\tdelimiter = '-', // '\\x2D'\r\n\r\n\t/** Regular expressions */\r\n\tregexPunycode = /^xn--/,\r\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\r\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\r\n\r\n\t/** Error messages */\r\n\terrors = {\r\n\t\t'overflow': 'Overflow: input needs wider integers to process',\r\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\r\n\t\t'invalid-input': 'Invalid input'\r\n\t},\r\n\r\n\t/** Convenience shortcuts */\r\n\tbaseMinusTMin = base - tMin,\r\n\tfloor = Math.floor,\r\n\tstringFromCharCode = String.fromCharCode,\r\n\r\n\t/** Temporary variable */\r\n\tkey;\r\n\r\n\t/*--------------------------------------------------------------------------*/\r\n\r\n\t/**\r\n\t * A generic error utility function.\r\n\t * @private\r\n\t * @param {String} type The error type.\r\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\r\n\t */\r\n\tfunction error(type) {\r\n\t\tthrow RangeError(errors[type]);\r\n\t}\r\n\r\n\t/**\r\n\t * A generic `Array#map` utility function.\r\n\t * @private\r\n\t * @param {Array} array The array to iterate over.\r\n\t * @param {Function} callback The function that gets called for every array\r\n\t * item.\r\n\t * @returns {Array} A new array of values returned by the callback function.\r\n\t */\r\n\tfunction map(array, fn) {\r\n\t\tvar length = array.length;\r\n\t\tvar result = [];\r\n\t\twhile (length--) {\r\n\t\t\tresult[length] = fn(array[length]);\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\t/**\r\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\r\n\t * addresses.\r\n\t * @private\r\n\t * @param {String} domain The domain name or email address.\r\n\t * @param {Function} callback The function that gets called for every\r\n\t * character.\r\n\t * @returns {Array} A new string of characters returned by the callback\r\n\t * function.\r\n\t */\r\n\tfunction mapDomain(string, fn) {\r\n\t\tvar parts = string.split('@');\r\n\t\tvar result = '';\r\n\t\tif (parts.length > 1) {\r\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\r\n\t\t\t// the local part (i.e. everything up to `@`) intact.\r\n\t\t\tresult = parts[0] + '@';\r\n\t\t\tstring = parts[1];\r\n\t\t}\r\n\t\tvar labels = string.split(regexSeparators);\r\n\t\tvar encoded = map(labels, fn).join('.');\r\n\t\treturn result + encoded;\r\n\t}\r\n\r\n\t/**\r\n\t * Creates an array containing the numeric code points of each Unicode\r\n\t * character in the string. While JavaScript uses UCS-2 internally,\r\n\t * this function will convert a pair of surrogate halves (each of which\r\n\t * UCS-2 exposes as separate characters) into a single code point,\r\n\t * matching UTF-16.\r\n\t * @see `punycode.ucs2.encode`\r\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\r\n\t * @memberOf punycode.ucs2\r\n\t * @name decode\r\n\t * @param {String} string The Unicode input string (UCS-2).\r\n\t * @returns {Array} The new array of code points.\r\n\t */\r\n\tfunction ucs2decode(string) {\r\n\t\tvar output = [],\r\n\t\t    counter = 0,\r\n\t\t    length = string.length,\r\n\t\t    value,\r\n\t\t    extra;\r\n\t\twhile (counter < length) {\r\n\t\t\tvalue = string.charCodeAt(counter++);\r\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\r\n\t\t\t\t// high surrogate, and there is a next character\r\n\t\t\t\textra = string.charCodeAt(counter++);\r\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\r\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\r\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\r\n\t\t\t\t\toutput.push(value);\r\n\t\t\t\t\tcounter--;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\toutput.push(value);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn output;\r\n\t}\r\n\r\n\t/**\r\n\t * Creates a string based on an array of numeric code points.\r\n\t * @see `punycode.ucs2.decode`\r\n\t * @memberOf punycode.ucs2\r\n\t * @name encode\r\n\t * @param {Array} codePoints The array of numeric code points.\r\n\t * @returns {String} The new Unicode string (UCS-2).\r\n\t */\r\n\tfunction ucs2encode(array) {\r\n\t\treturn map(array, function(value) {\r\n\t\t\tvar output = '';\r\n\t\t\tif (value > 0xFFFF) {\r\n\t\t\t\tvalue -= 0x10000;\r\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\r\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\r\n\t\t\t}\r\n\t\t\toutput += stringFromCharCode(value);\r\n\t\t\treturn output;\r\n\t\t}).join('');\r\n\t}\r\n\r\n\t/**\r\n\t * Converts a basic code point into a digit/integer.\r\n\t * @see `digitToBasic()`\r\n\t * @private\r\n\t * @param {Number} codePoint The basic numeric code point value.\r\n\t * @returns {Number} The numeric value of a basic code point (for use in\r\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\r\n\t * the code point does not represent a value.\r\n\t */\r\n\tfunction basicToDigit(codePoint) {\r\n\t\tif (codePoint - 48 < 10) {\r\n\t\t\treturn codePoint - 22;\r\n\t\t}\r\n\t\tif (codePoint - 65 < 26) {\r\n\t\t\treturn codePoint - 65;\r\n\t\t}\r\n\t\tif (codePoint - 97 < 26) {\r\n\t\t\treturn codePoint - 97;\r\n\t\t}\r\n\t\treturn base;\r\n\t}\r\n\r\n\t/**\r\n\t * Converts a digit/integer into a basic code point.\r\n\t * @see `basicToDigit()`\r\n\t * @private\r\n\t * @param {Number} digit The numeric value of a basic code point.\r\n\t * @returns {Number} The basic code point whose value (when used for\r\n\t * representing integers) is `digit`, which needs to be in the range\r\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\r\n\t * used; else, the lowercase form is used. The behavior is undefined\r\n\t * if `flag` is non-zero and `digit` has no uppercase form.\r\n\t */\r\n\tfunction digitToBasic(digit, flag) {\r\n\t\t//  0..25 map to ASCII a..z or A..Z\r\n\t\t// 26..35 map to ASCII 0..9\r\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\r\n\t}\r\n\r\n\t/**\r\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\r\n\t * http://tools.ietf.org/html/rfc3492#section-3.4\r\n\t * @private\r\n\t */\r\n\tfunction adapt(delta, numPoints, firstTime) {\r\n\t\tvar k = 0;\r\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\r\n\t\tdelta += floor(delta / numPoints);\r\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\r\n\t\t\tdelta = floor(delta / baseMinusTMin);\r\n\t\t}\r\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\r\n\t}\r\n\r\n\t/**\r\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\r\n\t * symbols.\r\n\t * @memberOf punycode\r\n\t * @param {String} input The Punycode string of ASCII-only symbols.\r\n\t * @returns {String} The resulting string of Unicode symbols.\r\n\t */\r\n\tfunction decode(input) {\r\n\t\t// Don't use UCS-2\r\n\t\tvar output = [],\r\n\t\t    inputLength = input.length,\r\n\t\t    out,\r\n\t\t    i = 0,\r\n\t\t    n = initialN,\r\n\t\t    bias = initialBias,\r\n\t\t    basic,\r\n\t\t    j,\r\n\t\t    index,\r\n\t\t    oldi,\r\n\t\t    w,\r\n\t\t    k,\r\n\t\t    digit,\r\n\t\t    t,\r\n\t\t    /** Cached calculation results */\r\n\t\t    baseMinusT;\r\n\r\n\t\t// Handle the basic code points: let `basic` be the number of input code\r\n\t\t// points before the last delimiter, or `0` if there is none, then copy\r\n\t\t// the first basic code points to the output.\r\n\r\n\t\tbasic = input.lastIndexOf(delimiter);\r\n\t\tif (basic < 0) {\r\n\t\t\tbasic = 0;\r\n\t\t}\r\n\r\n\t\tfor (j = 0; j < basic; ++j) {\r\n\t\t\t// if it's not a basic code point\r\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\r\n\t\t\t\terror('not-basic');\r\n\t\t\t}\r\n\t\t\toutput.push(input.charCodeAt(j));\r\n\t\t}\r\n\r\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\r\n\t\t// points were copied; start at the beginning otherwise.\r\n\r\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\r\n\r\n\t\t\t// `index` is the index of the next character to be consumed.\r\n\t\t\t// Decode a generalized variable-length integer into `delta`,\r\n\t\t\t// which gets added to `i`. The overflow checking is easier\r\n\t\t\t// if we increase `i` as we go, then subtract off its starting\r\n\t\t\t// value at the end to obtain `delta`.\r\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\r\n\r\n\t\t\t\tif (index >= inputLength) {\r\n\t\t\t\t\terror('invalid-input');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\r\n\r\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\r\n\t\t\t\t\terror('overflow');\r\n\t\t\t\t}\r\n\r\n\t\t\t\ti += digit * w;\r\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\r\n\r\n\t\t\t\tif (digit < t) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbaseMinusT = base - t;\r\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\r\n\t\t\t\t\terror('overflow');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tw *= baseMinusT;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tout = output.length + 1;\r\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\r\n\r\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\r\n\t\t\t// incrementing `n` each time, so we'll fix that now:\r\n\t\t\tif (floor(i / out) > maxInt - n) {\r\n\t\t\t\terror('overflow');\r\n\t\t\t}\r\n\r\n\t\t\tn += floor(i / out);\r\n\t\t\ti %= out;\r\n\r\n\t\t\t// Insert `n` at position `i` of the output\r\n\t\t\toutput.splice(i++, 0, n);\r\n\r\n\t\t}\r\n\r\n\t\treturn ucs2encode(output);\r\n\t}\r\n\r\n\t/**\r\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\r\n\t * Punycode string of ASCII-only symbols.\r\n\t * @memberOf punycode\r\n\t * @param {String} input The string of Unicode symbols.\r\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\r\n\t */\r\n\tfunction encode(input) {\r\n\t\tvar n,\r\n\t\t    delta,\r\n\t\t    handledCPCount,\r\n\t\t    basicLength,\r\n\t\t    bias,\r\n\t\t    j,\r\n\t\t    m,\r\n\t\t    q,\r\n\t\t    k,\r\n\t\t    t,\r\n\t\t    currentValue,\r\n\t\t    output = [],\r\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\r\n\t\t    inputLength,\r\n\t\t    /** Cached calculation results */\r\n\t\t    handledCPCountPlusOne,\r\n\t\t    baseMinusT,\r\n\t\t    qMinusT;\r\n\r\n\t\t// Convert the input in UCS-2 to Unicode\r\n\t\tinput = ucs2decode(input);\r\n\r\n\t\t// Cache the length\r\n\t\tinputLength = input.length;\r\n\r\n\t\t// Initialize the state\r\n\t\tn = initialN;\r\n\t\tdelta = 0;\r\n\t\tbias = initialBias;\r\n\r\n\t\t// Handle the basic code points\r\n\t\tfor (j = 0; j < inputLength; ++j) {\r\n\t\t\tcurrentValue = input[j];\r\n\t\t\tif (currentValue < 0x80) {\r\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\thandledCPCount = basicLength = output.length;\r\n\r\n\t\t// `handledCPCount` is the number of code points that have been handled;\r\n\t\t// `basicLength` is the number of basic code points.\r\n\r\n\t\t// Finish the basic string - if it is not empty - with a delimiter\r\n\t\tif (basicLength) {\r\n\t\t\toutput.push(delimiter);\r\n\t\t}\r\n\r\n\t\t// Main encoding loop:\r\n\t\twhile (handledCPCount < inputLength) {\r\n\r\n\t\t\t// All non-basic code points < n have been handled already. Find the next\r\n\t\t\t// larger one:\r\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\r\n\t\t\t\tcurrentValue = input[j];\r\n\t\t\t\tif (currentValue >= n && currentValue < m) {\r\n\t\t\t\t\tm = currentValue;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\r\n\t\t\t// but guard against overflow\r\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\r\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\r\n\t\t\t\terror('overflow');\r\n\t\t\t}\r\n\r\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\r\n\t\t\tn = m;\r\n\r\n\t\t\tfor (j = 0; j < inputLength; ++j) {\r\n\t\t\t\tcurrentValue = input[j];\r\n\r\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\r\n\t\t\t\t\terror('overflow');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (currentValue == n) {\r\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\r\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\r\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\r\n\t\t\t\t\t\tif (q < t) {\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tqMinusT = q - t;\r\n\t\t\t\t\t\tbaseMinusT = base - t;\r\n\t\t\t\t\t\toutput.push(\r\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\r\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\r\n\t\t\t\t\tdelta = 0;\r\n\t\t\t\t\t++handledCPCount;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t++delta;\r\n\t\t\t++n;\r\n\r\n\t\t}\r\n\t\treturn output.join('');\r\n\t}\r\n\r\n\t/**\r\n\t * Converts a Punycode string representing a domain name or an email address\r\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\r\n\t * it doesn't matter if you call it on a string that has already been\r\n\t * converted to Unicode.\r\n\t * @memberOf punycode\r\n\t * @param {String} input The Punycoded domain name or email address to\r\n\t * convert to Unicode.\r\n\t * @returns {String} The Unicode representation of the given Punycode\r\n\t * string.\r\n\t */\r\n\tfunction toUnicode(input) {\r\n\t\treturn mapDomain(input, function(string) {\r\n\t\t\treturn regexPunycode.test(string)\r\n\t\t\t\t? decode(string.slice(4).toLowerCase())\r\n\t\t\t\t: string;\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Converts a Unicode string representing a domain name or an email address to\r\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\r\n\t * i.e. it doesn't matter if you call it with a domain that's already in\r\n\t * ASCII.\r\n\t * @memberOf punycode\r\n\t * @param {String} input The domain name or email address to convert, as a\r\n\t * Unicode string.\r\n\t * @returns {String} The Punycode representation of the given domain name or\r\n\t * email address.\r\n\t */\r\n\tfunction toASCII(input) {\r\n\t\treturn mapDomain(input, function(string) {\r\n\t\t\treturn regexNonASCII.test(string)\r\n\t\t\t\t? 'xn--' + encode(string)\r\n\t\t\t\t: string;\r\n\t\t});\r\n\t}\r\n\r\n\t/*--------------------------------------------------------------------------*/\r\n\r\n\t/** Define the public API */\r\n\tpunycode = {\r\n\t\t/**\r\n\t\t * A string representing the current Punycode.js version number.\r\n\t\t * @memberOf punycode\r\n\t\t * @type String\r\n\t\t */\r\n\t\t'version': '1.3.1',\r\n\t\t/**\r\n\t\t * An object of methods to convert from JavaScript's internal character\r\n\t\t * representation (UCS-2) to Unicode code points, and back.\r\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\r\n\t\t * @memberOf punycode\r\n\t\t * @type Object\r\n\t\t */\r\n\t\t'ucs2': {\r\n\t\t\t'decode': ucs2decode,\r\n\t\t\t'encode': ucs2encode\r\n\t\t},\r\n\t\t'decode': decode,\r\n\t\t'encode': encode,\r\n\t\t'toASCII': toASCII,\r\n\t\t'toUnicode': toUnicode\r\n\t};\r\n\r\n\t/** Expose `punycode` */\r\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\r\n\t// like the following:\r\n\tif (\r\n\t\ttypeof define == 'function' &&\r\n\t\ttypeof define.amd == 'object' &&\r\n\t\tdefine.amd\r\n\t) {\r\n\t\tdefine('punycode', function() {\r\n\t\t\treturn punycode;\r\n\t\t});\r\n\t} else if (freeExports && freeModule) {\r\n\t\tif (module.exports == freeExports) { // in Node.js or RingoJS v0.8.0+\r\n\t\t\tfreeModule.exports = punycode;\r\n\t\t} else { // in Narwhal or RingoJS v0.7.0-\r\n\t\t\tfor (key in punycode) {\r\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\r\n\t\t\t}\r\n\t\t}\r\n\t} else { // in Rhino or a web browser\r\n\t\troot.punycode = punycode;\r\n\t}\r\n\r\n}(this));\r\n\r\nvar html2canvasNodeAttribute = \"data-html2canvas-node\";\r\nvar html2canvasCanvasCloneAttribute = \"data-html2canvas-canvas-clone\";\r\nvar html2canvasCanvasCloneIndex = 0;\r\nvar html2canvasCloneIndex = 0;\r\n\r\nwindow.html2canvas = function(nodeList, options) {\r\n    var index = html2canvasCloneIndex++;\r\n    options = options || {};\r\n    if (options.logging) {\r\n        window.html2canvas.logging = true;\r\n        window.html2canvas.start = Date.now();\r\n    }\r\n\r\n    options.async = typeof(options.async) === \"undefined\" ? true : options.async;\r\n    options.allowTaint = typeof(options.allowTaint) === \"undefined\" ? false : options.allowTaint;\r\n    options.removeContainer = typeof(options.removeContainer) === \"undefined\" ? true : options.removeContainer;\r\n    options.javascriptEnabled = typeof(options.javascriptEnabled) === \"undefined\" ? false : options.javascriptEnabled;\r\n    options.imageTimeout = typeof(options.imageTimeout) === \"undefined\" ? 10000 : options.imageTimeout;\r\n    options.renderer = typeof(options.renderer) === \"function\" ? options.renderer : CanvasRenderer;\r\n    options.strict = !!options.strict;\r\n\r\n    if (typeof(nodeList) === \"string\") {\r\n        if (typeof(options.proxy) !== \"string\") {\r\n            return Promise.reject(\"Proxy must be used when rendering url\");\r\n        }\r\n        var width = options.width != null ? options.width : window.innerWidth;\r\n        var height = options.height != null ? options.height : window.innerHeight;\r\n        return loadUrlDocument(absoluteUrl(nodeList), options.proxy, document, width, height, options).then(function(container) {\r\n            return renderWindow(container.contentWindow.document.documentElement, container, options, width, height);\r\n        });\r\n    }\r\n\r\n    var node = ((nodeList === undefined) ? [document.documentElement] : ((nodeList.length) ? nodeList : [nodeList]))[0];\r\n    node.setAttribute(html2canvasNodeAttribute + index, index);\r\n    return renderDocument(node.ownerDocument, options, node.ownerDocument.defaultView.innerWidth, node.ownerDocument.defaultView.innerHeight, index).then(function(canvas) {\r\n        if (typeof(options.onrendered) === \"function\") {\r\n            log(\"options.onrendered is deprecated, html2canvas returns a Promise containing the canvas\");\r\n            options.onrendered(canvas);\r\n        }\r\n        return canvas;\r\n    });\r\n};\r\n\r\nwindow.html2canvas.punycode = this.punycode;\r\nwindow.html2canvas.proxy = {};\r\n\r\nfunction renderDocument(document, options, windowWidth, windowHeight, html2canvasIndex) {\r\n    return createWindowClone(document, document, windowWidth, windowHeight, options, document.defaultView.pageXOffset, document.defaultView.pageYOffset).then(function(container) {\r\n        log(\"Document cloned\");\r\n        var attributeName = html2canvasNodeAttribute + html2canvasIndex;\r\n        var selector = \"[\" + attributeName + \"='\" + html2canvasIndex + \"']\";\r\n        document.querySelector(selector).removeAttribute(attributeName);\r\n        var clonedWindow = container.contentWindow;\r\n        var node = clonedWindow.document.querySelector(selector);\r\n        var oncloneHandler = (typeof(options.onclone) === \"function\") ? Promise.resolve(options.onclone(clonedWindow.document)) : Promise.resolve(true);\r\n        return oncloneHandler.then(function() {\r\n            return renderWindow(node, container, options, windowWidth, windowHeight);\r\n        });\r\n    });\r\n}\r\n\r\nfunction renderWindow(node, container, options, windowWidth, windowHeight) {\r\n    var clonedWindow = container.contentWindow;\r\n    var support = new Support(clonedWindow.document);\r\n    var imageLoader = new ImageLoader(options, support);\r\n    var bounds = getBounds(node);\r\n    var width = options.type === \"view\" ? windowWidth : documentWidth(clonedWindow.document);\r\n    var height = options.type === \"view\" ? windowHeight : documentHeight(clonedWindow.document);\r\n    var renderer = new options.renderer(width, height, imageLoader, options, document);\r\n    var parser = new NodeParser(node, renderer, support, imageLoader, options);\r\n    return parser.ready.then(function() {\r\n        log(\"Finished rendering\");\r\n        var canvas;\r\n\r\n        if (options.type === \"view\") {\r\n            canvas = crop(renderer.canvas, {width: renderer.canvas.width, height: renderer.canvas.height, top: 0, left: 0, x: 0, y: 0});\r\n        } else if (node === clonedWindow.document.body || node === clonedWindow.document.documentElement || options.canvas != null) {\r\n            canvas = renderer.canvas;\r\n        } else {\r\n            canvas = crop(renderer.canvas, {width:  options.width != null ? options.width : bounds.width, height: options.height != null ? options.height : bounds.height, top: bounds.top, left: bounds.left, x: clonedWindow.pageXOffset, y: clonedWindow.pageYOffset});\r\n        }\r\n\r\n        cleanupContainer(container, options);\r\n        return canvas;\r\n    });\r\n}\r\n\r\nfunction cleanupContainer(container, options) {\r\n    if (options.removeContainer) {\r\n        container.parentNode.removeChild(container);\r\n        log(\"Cleaned up container\");\r\n    }\r\n}\r\n\r\nfunction crop(canvas, bounds) {\r\n    var croppedCanvas = document.createElement(\"canvas\");\r\n    var x1 = Math.min(canvas.width - 1, Math.max(0, bounds.left));\r\n    var x2 = Math.min(canvas.width, Math.max(1, bounds.left + bounds.width));\r\n    var y1 = Math.min(canvas.height - 1, Math.max(0, bounds.top));\r\n    var y2 = Math.min(canvas.height, Math.max(1, bounds.top + bounds.height));\r\n    croppedCanvas.width = bounds.width;\r\n    croppedCanvas.height =  bounds.height;\r\n    log(\"Cropping canvas at:\", \"left:\", bounds.left, \"top:\", bounds.top, \"width:\", (x2-x1), \"height:\", (y2-y1));\r\n    log(\"Resulting crop with width\", bounds.width, \"and height\", bounds.height, \" with x\", x1, \"and y\", y1);\r\n    croppedCanvas.getContext(\"2d\").drawImage(canvas, x1, y1, x2-x1, y2-y1, bounds.x, bounds.y, x2-x1, y2-y1);\r\n    return croppedCanvas;\r\n}\r\n\r\nfunction documentWidth (doc) {\r\n    return Math.max(\r\n        Math.max(doc.body.scrollWidth, doc.documentElement.scrollWidth),\r\n        Math.max(doc.body.offsetWidth, doc.documentElement.offsetWidth),\r\n        Math.max(doc.body.clientWidth, doc.documentElement.clientWidth)\r\n    );\r\n}\r\n\r\nfunction documentHeight (doc) {\r\n    return Math.max(\r\n        Math.max(doc.body.scrollHeight, doc.documentElement.scrollHeight),\r\n        Math.max(doc.body.offsetHeight, doc.documentElement.offsetHeight),\r\n        Math.max(doc.body.clientHeight, doc.documentElement.clientHeight)\r\n    );\r\n}\r\n\r\nfunction smallImage() {\r\n    return \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\";\r\n}\r\n\r\nfunction isIE9() {\r\n    return document.documentMode && document.documentMode <= 9;\r\n}\r\n\r\n// https://github.com/niklasvh/html2canvas/issues/503\r\nfunction cloneNodeIE9(node, javascriptEnabled) {\r\n    var clone = node.nodeType === 3 ? document.createTextNode(node.nodeValue) : node.cloneNode(false);\r\n\r\n    var child = node.firstChild;\r\n    while(child) {\r\n        if (javascriptEnabled === true || child.nodeType !== 1 || child.nodeName !== 'SCRIPT') {\r\n            clone.appendChild(cloneNodeIE9(child, javascriptEnabled));\r\n        }\r\n        child = child.nextSibling;\r\n    }\r\n\r\n    return clone;\r\n}\r\n\r\nfunction createWindowClone(ownerDocument, containerDocument, width, height, options, x ,y) {\r\n    labelCanvasElements(ownerDocument);\r\n    var documentElement = isIE9() ? cloneNodeIE9(ownerDocument.documentElement, options.javascriptEnabled) : ownerDocument.documentElement.cloneNode(true);\r\n    var container = containerDocument.createElement(\"iframe\");\r\n\r\n    container.className = \"html2canvas-container\";\r\n    container.style.visibility = \"hidden\";\r\n    container.style.position = \"fixed\";\r\n    container.style.left = \"-10000px\";\r\n    container.style.top = \"0px\";\r\n    container.style.border = \"0\";\r\n    container.width = width;\r\n    container.height = height;\r\n    container.scrolling = \"no\"; // ios won't scroll without it\r\n    containerDocument.body.appendChild(container);\r\n\r\n    return new Promise(function(resolve) {\r\n        var documentClone = container.contentWindow.document;\r\n\r\n        cloneNodeValues(ownerDocument.documentElement, documentElement, \"textarea\");\r\n        cloneNodeValues(ownerDocument.documentElement, documentElement, \"select\");\r\n\r\n        /* Chrome doesn't detect relative background-images assigned in inline <style> sheets when fetched through getComputedStyle\r\n         if window url is about:blank, we can assign the url to current by writing onto the document\r\n         */\r\n        container.contentWindow.onload = container.onload = function() {\r\n            var interval = setInterval(function() {\r\n                if (documentClone.body.childNodes.length > 0) {\r\n                    cloneCanvasContents(ownerDocument, documentClone);\r\n                    clearInterval(interval);\r\n                    if (options.type === \"view\") {\r\n                        container.contentWindow.scrollTo(x, y);\r\n                    }\r\n                    resolve(container);\r\n                }\r\n            }, 50);\r\n        };\r\n\r\n        documentClone.open();\r\n        documentClone.write(\"<!DOCTYPE html><html></html>\");\r\n        // Chrome scrolls the parent document for some reason after the write to the cloned window???\r\n        restoreOwnerScroll(ownerDocument, x, y);\r\n        documentClone.replaceChild(options.javascriptEnabled === true ? documentClone.adoptNode(documentElement) : removeScriptNodes(documentClone.adoptNode(documentElement)), documentClone.documentElement);\r\n        documentClone.close();\r\n    });\r\n}\r\n\r\nfunction cloneNodeValues(document, clone, nodeName) {\r\n    var originalNodes = document.getElementsByTagName(nodeName);\r\n    var clonedNodes = clone.getElementsByTagName(nodeName);\r\n    var count = originalNodes.length;\r\n    for (var i = 0; i < count; i++) {\r\n        clonedNodes[i].value = originalNodes[i].value;\r\n    }\r\n}\r\n\r\nfunction restoreOwnerScroll(ownerDocument, x, y) {\r\n    if (ownerDocument.defaultView && (x !== ownerDocument.defaultView.pageXOffset || y !== ownerDocument.defaultView.pageYOffset)) {\r\n        ownerDocument.defaultView.scrollTo(x, y);\r\n    }\r\n}\r\n\r\nfunction loadUrlDocument(src, proxy, document, width, height, options) {\r\n    return new Proxy(src, proxy, window.document).then(documentFromHTML(src)).then(function(doc) {\r\n        return createWindowClone(doc, document, width, height, options, 0, 0);\r\n    });\r\n}\r\n\r\nfunction documentFromHTML(src) {\r\n    return function(html) {\r\n        var parser = new DOMParser(), doc;\r\n        try {\r\n            doc = parser.parseFromString(html, \"text/html\");\r\n        } catch(e) {\r\n            log(\"DOMParser not supported, falling back to createHTMLDocument\");\r\n            doc = document.implementation.createHTMLDocument(\"\");\r\n            try {\r\n                doc.open();\r\n                doc.write(html);\r\n                doc.close();\r\n            } catch(ee) {\r\n                log(\"createHTMLDocument write not supported, falling back to document.body.innerHTML\");\r\n                doc.body.innerHTML = html; // ie9 doesnt support writing to documentElement\r\n            }\r\n        }\r\n\r\n        var b = doc.querySelector(\"base\");\r\n        if (!b || !b.href.host) {\r\n            var base = doc.createElement(\"base\");\r\n            base.href = src;\r\n            doc.head.insertBefore(base, doc.head.firstChild);\r\n        }\r\n\r\n        return doc;\r\n    };\r\n}\r\n\r\n\r\nfunction labelCanvasElements(ownerDocument) {\r\n    [].slice.call(ownerDocument.querySelectorAll(\"canvas\"), 0).forEach(function(canvas) {\r\n        canvas.setAttribute(html2canvasCanvasCloneAttribute, \"canvas-\" + html2canvasCanvasCloneIndex++);\r\n    });\r\n}\r\n\r\nfunction cloneCanvasContents(ownerDocument, documentClone) {\r\n    [].slice.call(ownerDocument.querySelectorAll(\"[\" + html2canvasCanvasCloneAttribute + \"]\"), 0).forEach(function(canvas) {\r\n        try {\r\n            var clonedCanvas = documentClone.querySelector('[' + html2canvasCanvasCloneAttribute + '=\"' + canvas.getAttribute(html2canvasCanvasCloneAttribute) + '\"]');\r\n            if (clonedCanvas) {\r\n                clonedCanvas.width = canvas.width;\r\n                clonedCanvas.height = canvas.height;\r\n                clonedCanvas.getContext(\"2d\").putImageData(canvas.getContext(\"2d\").getImageData(0, 0, canvas.width, canvas.height), 0, 0);\r\n            }\r\n        } catch(e) {\r\n            log(\"Unable to copy canvas content from\", canvas, e);\r\n        }\r\n        canvas.removeAttribute(html2canvasCanvasCloneAttribute);\r\n    });\r\n}\r\n\r\nfunction removeScriptNodes(parent) {\r\n    [].slice.call(parent.childNodes, 0).filter(isElementNode).forEach(function(node) {\r\n        if (node.tagName === \"SCRIPT\") {\r\n            parent.removeChild(node);\r\n        } else {\r\n            removeScriptNodes(node);\r\n        }\r\n    });\r\n    return parent;\r\n}\r\n\r\nfunction isElementNode(node) {\r\n    return node.nodeType === Node.ELEMENT_NODE;\r\n}\r\n\r\nfunction absoluteUrl(url) {\r\n    var link = document.createElement(\"a\");\r\n    link.href = url;\r\n    link.href = link.href;\r\n    return link;\r\n}\r\n\r\n// http://dev.w3.org/csswg/css-color/\r\n\r\nfunction Color(value) {\r\n    this.r = 0;\r\n    this.g = 0;\r\n    this.b = 0;\r\n    this.a = null;\r\n    var result = this.fromArray(value) ||\r\n        this.namedColor(value) ||\r\n        this.rgb(value) ||\r\n        this.rgba(value) ||\r\n        this.hex6(value) ||\r\n        this.hex3(value);\r\n}\r\n\r\nColor.prototype.darken = function(amount) {\r\n    var a = 1 - amount;\r\n    return  new Color([\r\n        Math.round(this.r * a),\r\n        Math.round(this.g * a),\r\n        Math.round(this.b * a),\r\n        this.a\r\n    ]);\r\n};\r\n\r\nColor.prototype.isTransparent = function() {\r\n    return this.a === 0;\r\n};\r\n\r\nColor.prototype.isBlack = function() {\r\n    return this.r === 0 && this.g === 0 && this.b === 0;\r\n};\r\n\r\nColor.prototype.fromArray = function(array) {\r\n    if (Array.isArray(array)) {\r\n        this.r = Math.min(array[0], 255);\r\n        this.g = Math.min(array[1], 255);\r\n        this.b = Math.min(array[2], 255);\r\n        if (array.length > 3) {\r\n            this.a = array[3];\r\n        }\r\n    }\r\n\r\n    return (Array.isArray(array));\r\n};\r\n\r\nvar _hex3 = /^#([a-f0-9]{3})$/i;\r\n\r\nColor.prototype.hex3 = function(value) {\r\n    var match = null;\r\n    if ((match = value.match(_hex3)) !== null) {\r\n        this.r = parseInt(match[1][0] + match[1][0], 16);\r\n        this.g = parseInt(match[1][1] + match[1][1], 16);\r\n        this.b = parseInt(match[1][2] + match[1][2], 16);\r\n    }\r\n    return match !== null;\r\n};\r\n\r\nvar _hex6 = /^#([a-f0-9]{6})$/i;\r\n\r\nColor.prototype.hex6 = function(value) {\r\n    var match = null;\r\n    if ((match = value.match(_hex6)) !== null) {\r\n        this.r = parseInt(match[1].substring(0, 2), 16);\r\n        this.g = parseInt(match[1].substring(2, 4), 16);\r\n        this.b = parseInt(match[1].substring(4, 6), 16);\r\n    }\r\n    return match !== null;\r\n};\r\n\r\n\r\nvar _rgb = /^rgb\\((\\d{1,3}) *, *(\\d{1,3}) *, *(\\d{1,3})\\)$/;\r\n\r\nColor.prototype.rgb = function(value) {\r\n    var match = null;\r\n    if ((match = value.match(_rgb)) !== null) {\r\n        this.r = Number(match[1]);\r\n        this.g = Number(match[2]);\r\n        this.b = Number(match[3]);\r\n    }\r\n    return match !== null;\r\n};\r\n\r\nvar _rgba = /^rgba\\((\\d{1,3}) *, *(\\d{1,3}) *, *(\\d{1,3}) *, *(\\d+\\.?\\d*)\\)$/;\r\n\r\nColor.prototype.rgba = function(value) {\r\n    var match = null;\r\n    if ((match = value.match(_rgba)) !== null) {\r\n        this.r = Number(match[1]);\r\n        this.g = Number(match[2]);\r\n        this.b = Number(match[3]);\r\n        this.a = Number(match[4]);\r\n    }\r\n    return match !== null;\r\n};\r\n\r\nColor.prototype.toString = function() {\r\n    return this.a !== null && this.a !== 1 ?\r\n    \"rgba(\" + [this.r, this.g, this.b, this.a].join(\",\") + \")\" :\r\n    \"rgb(\" + [this.r, this.g, this.b].join(\",\") + \")\";\r\n};\r\n\r\nColor.prototype.namedColor = function(value) {\r\n    var color = colors[value.toLowerCase()];\r\n    if (color) {\r\n        this.r = color[0];\r\n        this.g = color[1];\r\n        this.b = color[2];\r\n    } else if (value.toLowerCase() === \"transparent\") {\r\n        this.r = this.g = this.b = this.a = 0;\r\n        return true;\r\n    }\r\n\r\n    return !!color;\r\n};\r\n\r\nColor.prototype.isColor = true;\r\n\r\n// JSON.stringify([].slice.call($$('.named-color-table tr'), 1).map(function(row) { return [row.childNodes[3].textContent, row.childNodes[5].textContent.trim().split(\",\").map(Number)] }).reduce(function(data, row) {data[row[0]] = row[1]; return data}, {}))\r\nvar colors = {\r\n    \"aliceblue\": [240, 248, 255],\r\n    \"antiquewhite\": [250, 235, 215],\r\n    \"aqua\": [0, 255, 255],\r\n    \"aquamarine\": [127, 255, 212],\r\n    \"azure\": [240, 255, 255],\r\n    \"beige\": [245, 245, 220],\r\n    \"bisque\": [255, 228, 196],\r\n    \"black\": [0, 0, 0],\r\n    \"blanchedalmond\": [255, 235, 205],\r\n    \"blue\": [0, 0, 255],\r\n    \"blueviolet\": [138, 43, 226],\r\n    \"brown\": [165, 42, 42],\r\n    \"burlywood\": [222, 184, 135],\r\n    \"cadetblue\": [95, 158, 160],\r\n    \"chartreuse\": [127, 255, 0],\r\n    \"chocolate\": [210, 105, 30],\r\n    \"coral\": [255, 127, 80],\r\n    \"cornflowerblue\": [100, 149, 237],\r\n    \"cornsilk\": [255, 248, 220],\r\n    \"crimson\": [220, 20, 60],\r\n    \"cyan\": [0, 255, 255],\r\n    \"darkblue\": [0, 0, 139],\r\n    \"darkcyan\": [0, 139, 139],\r\n    \"darkgoldenrod\": [184, 134, 11],\r\n    \"darkgray\": [169, 169, 169],\r\n    \"darkgreen\": [0, 100, 0],\r\n    \"darkgrey\": [169, 169, 169],\r\n    \"darkkhaki\": [189, 183, 107],\r\n    \"darkmagenta\": [139, 0, 139],\r\n    \"darkolivegreen\": [85, 107, 47],\r\n    \"darkorange\": [255, 140, 0],\r\n    \"darkorchid\": [153, 50, 204],\r\n    \"darkred\": [139, 0, 0],\r\n    \"darksalmon\": [233, 150, 122],\r\n    \"darkseagreen\": [143, 188, 143],\r\n    \"darkslateblue\": [72, 61, 139],\r\n    \"darkslategray\": [47, 79, 79],\r\n    \"darkslategrey\": [47, 79, 79],\r\n    \"darkturquoise\": [0, 206, 209],\r\n    \"darkviolet\": [148, 0, 211],\r\n    \"deeppink\": [255, 20, 147],\r\n    \"deepskyblue\": [0, 191, 255],\r\n    \"dimgray\": [105, 105, 105],\r\n    \"dimgrey\": [105, 105, 105],\r\n    \"dodgerblue\": [30, 144, 255],\r\n    \"firebrick\": [178, 34, 34],\r\n    \"floralwhite\": [255, 250, 240],\r\n    \"forestgreen\": [34, 139, 34],\r\n    \"fuchsia\": [255, 0, 255],\r\n    \"gainsboro\": [220, 220, 220],\r\n    \"ghostwhite\": [248, 248, 255],\r\n    \"gold\": [255, 215, 0],\r\n    \"goldenrod\": [218, 165, 32],\r\n    \"gray\": [128, 128, 128],\r\n    \"green\": [0, 128, 0],\r\n    \"greenyellow\": [173, 255, 47],\r\n    \"grey\": [128, 128, 128],\r\n    \"honeydew\": [240, 255, 240],\r\n    \"hotpink\": [255, 105, 180],\r\n    \"indianred\": [205, 92, 92],\r\n    \"indigo\": [75, 0, 130],\r\n    \"ivory\": [255, 255, 240],\r\n    \"khaki\": [240, 230, 140],\r\n    \"lavender\": [230, 230, 250],\r\n    \"lavenderblush\": [255, 240, 245],\r\n    \"lawngreen\": [124, 252, 0],\r\n    \"lemonchiffon\": [255, 250, 205],\r\n    \"lightblue\": [173, 216, 230],\r\n    \"lightcoral\": [240, 128, 128],\r\n    \"lightcyan\": [224, 255, 255],\r\n    \"lightgoldenrodyellow\": [250, 250, 210],\r\n    \"lightgray\": [211, 211, 211],\r\n    \"lightgreen\": [144, 238, 144],\r\n    \"lightgrey\": [211, 211, 211],\r\n    \"lightpink\": [255, 182, 193],\r\n    \"lightsalmon\": [255, 160, 122],\r\n    \"lightseagreen\": [32, 178, 170],\r\n    \"lightskyblue\": [135, 206, 250],\r\n    \"lightslategray\": [119, 136, 153],\r\n    \"lightslategrey\": [119, 136, 153],\r\n    \"lightsteelblue\": [176, 196, 222],\r\n    \"lightyellow\": [255, 255, 224],\r\n    \"lime\": [0, 255, 0],\r\n    \"limegreen\": [50, 205, 50],\r\n    \"linen\": [250, 240, 230],\r\n    \"magenta\": [255, 0, 255],\r\n    \"maroon\": [128, 0, 0],\r\n    \"mediumaquamarine\": [102, 205, 170],\r\n    \"mediumblue\": [0, 0, 205],\r\n    \"mediumorchid\": [186, 85, 211],\r\n    \"mediumpurple\": [147, 112, 219],\r\n    \"mediumseagreen\": [60, 179, 113],\r\n    \"mediumslateblue\": [123, 104, 238],\r\n    \"mediumspringgreen\": [0, 250, 154],\r\n    \"mediumturquoise\": [72, 209, 204],\r\n    \"mediumvioletred\": [199, 21, 133],\r\n    \"midnightblue\": [25, 25, 112],\r\n    \"mintcream\": [245, 255, 250],\r\n    \"mistyrose\": [255, 228, 225],\r\n    \"moccasin\": [255, 228, 181],\r\n    \"navajowhite\": [255, 222, 173],\r\n    \"navy\": [0, 0, 128],\r\n    \"oldlace\": [253, 245, 230],\r\n    \"olive\": [128, 128, 0],\r\n    \"olivedrab\": [107, 142, 35],\r\n    \"orange\": [255, 165, 0],\r\n    \"orangered\": [255, 69, 0],\r\n    \"orchid\": [218, 112, 214],\r\n    \"palegoldenrod\": [238, 232, 170],\r\n    \"palegreen\": [152, 251, 152],\r\n    \"paleturquoise\": [175, 238, 238],\r\n    \"palevioletred\": [219, 112, 147],\r\n    \"papayawhip\": [255, 239, 213],\r\n    \"peachpuff\": [255, 218, 185],\r\n    \"peru\": [205, 133, 63],\r\n    \"pink\": [255, 192, 203],\r\n    \"plum\": [221, 160, 221],\r\n    \"powderblue\": [176, 224, 230],\r\n    \"purple\": [128, 0, 128],\r\n    \"rebeccapurple\": [102, 51, 153],\r\n    \"red\": [255, 0, 0],\r\n    \"rosybrown\": [188, 143, 143],\r\n    \"royalblue\": [65, 105, 225],\r\n    \"saddlebrown\": [139, 69, 19],\r\n    \"salmon\": [250, 128, 114],\r\n    \"sandybrown\": [244, 164, 96],\r\n    \"seagreen\": [46, 139, 87],\r\n    \"seashell\": [255, 245, 238],\r\n    \"sienna\": [160, 82, 45],\r\n    \"silver\": [192, 192, 192],\r\n    \"skyblue\": [135, 206, 235],\r\n    \"slateblue\": [106, 90, 205],\r\n    \"slategray\": [112, 128, 144],\r\n    \"slategrey\": [112, 128, 144],\r\n    \"snow\": [255, 250, 250],\r\n    \"springgreen\": [0, 255, 127],\r\n    \"steelblue\": [70, 130, 180],\r\n    \"tan\": [210, 180, 140],\r\n    \"teal\": [0, 128, 128],\r\n    \"thistle\": [216, 191, 216],\r\n    \"tomato\": [255, 99, 71],\r\n    \"turquoise\": [64, 224, 208],\r\n    \"violet\": [238, 130, 238],\r\n    \"wheat\": [245, 222, 179],\r\n    \"white\": [255, 255, 255],\r\n    \"whitesmoke\": [245, 245, 245],\r\n    \"yellow\": [255, 255, 0],\r\n    \"yellowgreen\": [154, 205, 50]\r\n};\r\n\r\n\r\nfunction DummyImageContainer(src) {\r\n    this.src = src;\r\n    log(\"DummyImageContainer for\", src);\r\n    if (!this.promise || !this.image) {\r\n        log(\"Initiating DummyImageContainer\");\r\n        DummyImageContainer.prototype.image = new Image();\r\n        var image = this.image;\r\n        DummyImageContainer.prototype.promise = new Promise(function(resolve, reject) {\r\n            image.onload = resolve;\r\n            image.onerror = reject;\r\n            image.src = smallImage();\r\n            if (image.complete === true) {\r\n                resolve(image);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nfunction Font(family, size) {\r\n    var container = document.createElement('div'),\r\n        img = document.createElement('img'),\r\n        span = document.createElement('span'),\r\n        sampleText = 'Hidden Text',\r\n        baseline,\r\n        middle;\r\n\r\n    container.style.visibility = \"hidden\";\r\n    container.style.fontFamily = family;\r\n    container.style.fontSize = size;\r\n    container.style.margin = 0;\r\n    container.style.padding = 0;\r\n\r\n    document.body.appendChild(container);\r\n\r\n    img.src = smallImage();\r\n    img.width = 1;\r\n    img.height = 1;\r\n\r\n    img.style.margin = 0;\r\n    img.style.padding = 0;\r\n    img.style.verticalAlign = \"baseline\";\r\n\r\n    span.style.fontFamily = family;\r\n    span.style.fontSize = size;\r\n    span.style.margin = 0;\r\n    span.style.padding = 0;\r\n\r\n    span.appendChild(document.createTextNode(sampleText));\r\n    container.appendChild(span);\r\n    container.appendChild(img);\r\n    baseline = (img.offsetTop - span.offsetTop) + 1;\r\n\r\n    container.removeChild(span);\r\n    container.appendChild(document.createTextNode(sampleText));\r\n\r\n    container.style.lineHeight = \"normal\";\r\n    img.style.verticalAlign = \"super\";\r\n\r\n    middle = (img.offsetTop-container.offsetTop) + 1;\r\n\r\n    document.body.removeChild(container);\r\n\r\n    this.baseline = baseline;\r\n    this.lineWidth = 1;\r\n    this.middle = middle;\r\n}\r\n\r\nfunction FontMetrics() {\r\n    this.data = {};\r\n}\r\n\r\nFontMetrics.prototype.getMetrics = function(family, size) {\r\n    if (this.data[family + \"-\" + size] === undefined) {\r\n        this.data[family + \"-\" + size] = new Font(family, size);\r\n    }\r\n    return this.data[family + \"-\" + size];\r\n};\r\n\r\nfunction FrameContainer(container, sameOrigin, options) {\r\n    this.image = null;\r\n    this.src = container;\r\n    var self = this;\r\n    var bounds = getBounds(container);\r\n    this.promise = (!sameOrigin ? this.proxyLoad(options.proxy, bounds, options) : new Promise(function(resolve) {\r\n        if (container.contentWindow.document.URL === \"about:blank\" || container.contentWindow.document.documentElement == null) {\r\n            container.contentWindow.onload = container.onload = function() {\r\n                resolve(container);\r\n            };\r\n        } else {\r\n            resolve(container);\r\n        }\r\n    })).then(function(container) {\r\n        return html2canvas(container.contentWindow.document.documentElement, {type: 'view', width: container.width, height: container.height, proxy: options.proxy, javascriptEnabled: options.javascriptEnabled, removeContainer: options.removeContainer, allowTaint: options.allowTaint, imageTimeout: options.imageTimeout / 2});\r\n    }).then(function(canvas) {\r\n        return self.image = canvas;\r\n    });\r\n}\r\n\r\nFrameContainer.prototype.proxyLoad = function(proxy, bounds, options) {\r\n    var container = this.src;\r\n    return loadUrlDocument(container.src, proxy, container.ownerDocument, bounds.width, bounds.height, options);\r\n};\r\n\r\nfunction GradientContainer(imageData) {\r\n    this.src = imageData.value;\r\n    this.colorStops = [];\r\n    this.type = null;\r\n    this.x0 = 0.5;\r\n    this.y0 = 0.5;\r\n    this.x1 = 0.5;\r\n    this.y1 = 0.5;\r\n    this.promise = Promise.resolve(true);\r\n}\r\n\r\nGradientContainer.prototype.TYPES = {\r\n    LINEAR: 1,\r\n    RADIAL: 2\r\n};\r\n\r\nfunction ImageContainer(src, cors) {\r\n    this.src = src;\r\n    this.image = new Image();\r\n    var self = this;\r\n    this.tainted = null;\r\n    this.promise = new Promise(function(resolve, reject) {\r\n        self.image.onload = resolve;\r\n        self.image.onerror = reject;\r\n        if (cors) {\r\n            self.image.crossOrigin = \"anonymous\";\r\n        }\r\n        self.image.src = src;\r\n        if (self.image.complete === true) {\r\n            resolve(self.image);\r\n        }\r\n    });\r\n}\r\n\r\nfunction ImageLoader(options, support) {\r\n    this.link = null;\r\n    this.options = options;\r\n    this.support = support;\r\n    this.origin = this.getOrigin(window.location.href);\r\n}\r\n\r\nImageLoader.prototype.findImages = function(nodes) {\r\n    var images = [];\r\n    nodes.reduce(function(imageNodes, container) {\r\n        switch(container.node.nodeName) {\r\n        case \"IMG\":\r\n            return imageNodes.concat([{\r\n                args: [container.node.src],\r\n                method: \"url\"\r\n            }]);\r\n        case \"svg\":\r\n        case \"IFRAME\":\r\n            return imageNodes.concat([{\r\n                args: [container.node],\r\n                method: container.node.nodeName\r\n            }]);\r\n        }\r\n        return imageNodes;\r\n    }, []).forEach(this.addImage(images, this.loadImage), this);\r\n    return images;\r\n};\r\n\r\nImageLoader.prototype.findBackgroundImage = function(images, container) {\r\n    container.parseBackgroundImages().filter(this.hasImageBackground).forEach(this.addImage(images, this.loadImage), this);\r\n    return images;\r\n};\r\n\r\nImageLoader.prototype.addImage = function(images, callback) {\r\n    return function(newImage) {\r\n        newImage.args.forEach(function(image) {\r\n            if (!this.imageExists(images, image)) {\r\n                images.splice(0, 0, callback.call(this, newImage));\r\n                log('Added image #' + (images.length), typeof(image) === \"string\" ? image.substring(0, 100) : image);\r\n            }\r\n        }, this);\r\n    };\r\n};\r\n\r\nImageLoader.prototype.hasImageBackground = function(imageData) {\r\n    return imageData.method !== \"none\";\r\n};\r\n\r\nImageLoader.prototype.loadImage = function(imageData) {\r\n    if (imageData.method === \"url\") {\r\n        var src = imageData.args[0];\r\n        if (this.isSVG(src) && !this.support.svg && !this.options.allowTaint) {\r\n            return new SVGContainer(src);\r\n        } else if (src.match(/data:image\\/.*;base64,/i)) {\r\n            return new ImageContainer(src.replace(/url\\(['\"]{0,}|['\"]{0,}\\)$/ig, ''), false);\r\n        } else if (this.isSameOrigin(src) || this.options.allowTaint === true || this.isSVG(src)) {\r\n            return new ImageContainer(src, false);\r\n        } else if (this.support.cors && !this.options.allowTaint && this.options.useCORS) {\r\n            return new ImageContainer(src, true);\r\n        } else if (this.options.proxy) {\r\n            return new ProxyImageContainer(src, this.options.proxy);\r\n        } else {\r\n            return new DummyImageContainer(src);\r\n        }\r\n    } else if (imageData.method === \"linear-gradient\") {\r\n        return new LinearGradientContainer(imageData);\r\n    } else if (imageData.method === \"gradient\") {\r\n        return new WebkitGradientContainer(imageData);\r\n    } else if (imageData.method === \"svg\") {\r\n        return new SVGNodeContainer(imageData.args[0], this.support.svg);\r\n    } else if (imageData.method === \"IFRAME\") {\r\n        return new FrameContainer(imageData.args[0], this.isSameOrigin(imageData.args[0].src), this.options);\r\n    } else {\r\n        return new DummyImageContainer(imageData);\r\n    }\r\n};\r\n\r\nImageLoader.prototype.isSVG = function(src) {\r\n    return src.substring(src.length - 3).toLowerCase() === \"svg\" || SVGContainer.prototype.isInline(src);\r\n};\r\n\r\nImageLoader.prototype.imageExists = function(images, src) {\r\n    return images.some(function(image) {\r\n        return image.src === src;\r\n    });\r\n};\r\n\r\nImageLoader.prototype.isSameOrigin = function(url) {\r\n    return (this.getOrigin(url) === this.origin);\r\n};\r\n\r\nImageLoader.prototype.getOrigin = function(url) {\r\n    var link = this.link || (this.link = document.createElement(\"a\"));\r\n    link.href = url;\r\n    link.href = link.href; // IE9, LOL! - http://jsfiddle.net/niklasvh/2e48b/\r\n    return link.protocol + link.hostname + link.port;\r\n};\r\n\r\nImageLoader.prototype.getPromise = function(container) {\r\n    return this.timeout(container, this.options.imageTimeout)['catch'](function() {\r\n        var dummy = new DummyImageContainer(container.src);\r\n        return dummy.promise.then(function(image) {\r\n            container.image = image;\r\n        });\r\n    });\r\n};\r\n\r\nImageLoader.prototype.get = function(src) {\r\n    var found = null;\r\n    return this.images.some(function(img) {\r\n        return (found = img).src === src;\r\n    }) ? found : null;\r\n};\r\n\r\nImageLoader.prototype.fetch = function(nodes) {\r\n    this.images = nodes.reduce(bind(this.findBackgroundImage, this), this.findImages(nodes));\r\n    this.images.forEach(function(image, index) {\r\n        image.promise.then(function() {\r\n            log(\"Succesfully loaded image #\"+ (index+1), image);\r\n        }, function(e) {\r\n            log(\"Failed loading image #\"+ (index+1), image, e);\r\n        });\r\n    });\r\n    this.ready = Promise.all(this.images.map(this.getPromise, this));\r\n    log(\"Finished searching images\");\r\n    return this;\r\n};\r\n\r\nImageLoader.prototype.timeout = function(container, timeout) {\r\n    var timer;\r\n    var promise = Promise.race([container.promise, new Promise(function(res, reject) {\r\n        timer = setTimeout(function() {\r\n            log(\"Timed out loading image\", container);\r\n            reject(container);\r\n        }, timeout);\r\n    })]).then(function(container) {\r\n        clearTimeout(timer);\r\n        return container;\r\n    });\r\n    promise['catch'](function() {\r\n        clearTimeout(timer);\r\n    });\r\n    return promise;\r\n};\r\n\r\nfunction LinearGradientContainer(imageData) {\r\n    GradientContainer.apply(this, arguments);\r\n    this.type = this.TYPES.LINEAR;\r\n\r\n    var hasDirection = imageData.args[0].match(this.stepRegExp) === null;\r\n\r\n    if (hasDirection) {\r\n        imageData.args[0].split(\" \").reverse().forEach(function(position) {\r\n            switch(position) {\r\n            case \"left\":\r\n                this.x0 = 0;\r\n                this.x1 = 1;\r\n                break;\r\n            case \"top\":\r\n                this.y0 = 0;\r\n                this.y1 = 1;\r\n                break;\r\n            case \"right\":\r\n                this.x0 = 1;\r\n                this.x1 = 0;\r\n                break;\r\n            case \"bottom\":\r\n                this.y0 = 1;\r\n                this.y1 = 0;\r\n                break;\r\n            case \"to\":\r\n                var y0 = this.y0;\r\n                var x0 = this.x0;\r\n                this.y0 = this.y1;\r\n                this.x0 = this.x1;\r\n                this.x1 = x0;\r\n                this.y1 = y0;\r\n                break;\r\n            }\r\n        }, this);\r\n    } else {\r\n        this.y0 = 0;\r\n        this.y1 = 1;\r\n    }\r\n\r\n    this.colorStops = imageData.args.slice(hasDirection ? 1 : 0).map(function(colorStop) {\r\n        var colorStopMatch = colorStop.match(this.stepRegExp);\r\n        return {\r\n            color: new Color(colorStopMatch[1]),\r\n            stop: colorStopMatch[3] === \"%\" ? colorStopMatch[2] / 100 : null\r\n        };\r\n    }, this);\r\n\r\n    if (this.colorStops[0].stop === null) {\r\n        this.colorStops[0].stop = 0;\r\n    }\r\n\r\n    if (this.colorStops[this.colorStops.length - 1].stop === null) {\r\n        this.colorStops[this.colorStops.length - 1].stop = 1;\r\n    }\r\n\r\n    this.colorStops.forEach(function(colorStop, index) {\r\n        if (colorStop.stop === null) {\r\n            this.colorStops.slice(index).some(function(find, count) {\r\n                if (find.stop !== null) {\r\n                    colorStop.stop = ((find.stop - this.colorStops[index - 1].stop) / (count + 1)) + this.colorStops[index - 1].stop;\r\n                    return true;\r\n                } else {\r\n                    return false;\r\n                }\r\n            }, this);\r\n        }\r\n    }, this);\r\n}\r\n\r\nLinearGradientContainer.prototype = Object.create(GradientContainer.prototype);\r\n\r\nLinearGradientContainer.prototype.stepRegExp = /((?:rgb|rgba)\\(\\d{1,3},\\s\\d{1,3},\\s\\d{1,3}(?:,\\s[0-9\\.]+)?\\))\\s*(\\d{1,3})?(%|px)?/;\r\n\r\nfunction log() {\r\n    if (window.html2canvas.logging && window.console && window.console.log) {\r\n        Function.prototype.bind.call(window.console.log, (window.console)).apply(window.console, [(Date.now() - window.html2canvas.start) + \"ms\", \"html2canvas:\"].concat([].slice.call(arguments, 0)));\r\n    }\r\n}\r\n\r\nfunction NodeContainer(node, parent) {\r\n    this.node = node;\r\n    this.parent = parent;\r\n    this.stack = null;\r\n    this.bounds = null;\r\n    this.borders = null;\r\n    this.clip = [];\r\n    this.backgroundClip = [];\r\n    this.offsetBounds = null;\r\n    this.visible = null;\r\n    this.computedStyles = null;\r\n    this.colors = {};\r\n    this.styles = {};\r\n    this.backgroundImages = null;\r\n    this.transformData = null;\r\n    this.transformMatrix = null;\r\n    this.isPseudoElement = false;\r\n    this.opacity = null;\r\n}\r\n\r\nNodeContainer.prototype.cloneTo = function(stack) {\r\n    stack.visible = this.visible;\r\n    stack.borders = this.borders;\r\n    stack.bounds = this.bounds;\r\n    stack.clip = this.clip;\r\n    stack.backgroundClip = this.backgroundClip;\r\n    stack.computedStyles = this.computedStyles;\r\n    stack.styles = this.styles;\r\n    stack.backgroundImages = this.backgroundImages;\r\n    stack.opacity = this.opacity;\r\n};\r\n\r\nNodeContainer.prototype.getOpacity = function() {\r\n    return this.opacity === null ? (this.opacity = this.cssFloat('opacity')) : this.opacity;\r\n};\r\n\r\nNodeContainer.prototype.assignStack = function(stack) {\r\n    this.stack = stack;\r\n    stack.children.push(this);\r\n};\r\n\r\nNodeContainer.prototype.isElementVisible = function() {\r\n    return this.node.nodeType === Node.TEXT_NODE ? this.parent.visible : (\r\n        this.css('display') !== \"none\" &&\r\n        this.css('visibility') !== \"hidden\" &&\r\n        !this.node.hasAttribute(\"data-html2canvas-ignore\") &&\r\n        (this.node.nodeName !== \"INPUT\" || this.node.getAttribute(\"type\") !== \"hidden\")\r\n    );\r\n};\r\n\r\nNodeContainer.prototype.css = function(attribute) {\r\n    if (!this.computedStyles) {\r\n        this.computedStyles = this.isPseudoElement ? this.parent.computedStyle(this.before ? \":before\" : \":after\") : this.computedStyle(null);\r\n    }\r\n\r\n    return this.styles[attribute] || (this.styles[attribute] = this.computedStyles[attribute]);\r\n};\r\n\r\nNodeContainer.prototype.prefixedCss = function(attribute) {\r\n    var prefixes = [\"webkit\", \"moz\", \"ms\", \"o\"];\r\n    var value = this.css(attribute);\r\n    if (value === undefined) {\r\n        prefixes.some(function(prefix) {\r\n            value = this.css(prefix + attribute.substr(0, 1).toUpperCase() + attribute.substr(1));\r\n            return value !== undefined;\r\n        }, this);\r\n    }\r\n    return value === undefined ? null : value;\r\n};\r\n\r\nNodeContainer.prototype.computedStyle = function(type) {\r\n    return this.node.ownerDocument.defaultView.getComputedStyle(this.node, type);\r\n};\r\n\r\nNodeContainer.prototype.cssInt = function(attribute) {\r\n    var value = parseInt(this.css(attribute), 10);\r\n    return (isNaN(value)) ? 0 : value; // borders in old IE are throwing 'medium' for demo.html\r\n};\r\n\r\nNodeContainer.prototype.color = function(attribute) {\r\n    return this.colors[attribute] || (this.colors[attribute] = new Color(this.css(attribute)));\r\n};\r\n\r\nNodeContainer.prototype.cssFloat = function(attribute) {\r\n    var value = parseFloat(this.css(attribute));\r\n    return (isNaN(value)) ? 0 : value;\r\n};\r\n\r\nNodeContainer.prototype.fontWeight = function() {\r\n    var weight = this.css(\"fontWeight\");\r\n    switch(parseInt(weight, 10)){\r\n    case 401:\r\n        weight = \"bold\";\r\n        break;\r\n    case 400:\r\n        weight = \"normal\";\r\n        break;\r\n    }\r\n    return weight;\r\n};\r\n\r\nNodeContainer.prototype.parseClip = function() {\r\n    var matches = this.css('clip').match(this.CLIP);\r\n    if (matches) {\r\n        return {\r\n            top: parseInt(matches[1], 10),\r\n            right: parseInt(matches[2], 10),\r\n            bottom: parseInt(matches[3], 10),\r\n            left: parseInt(matches[4], 10)\r\n        };\r\n    }\r\n    return null;\r\n};\r\n\r\nNodeContainer.prototype.parseBackgroundImages = function() {\r\n    return this.backgroundImages || (this.backgroundImages = parseBackgrounds(this.css(\"backgroundImage\")));\r\n};\r\n\r\nNodeContainer.prototype.cssList = function(property, index) {\r\n    var value = (this.css(property) || '').split(',');\r\n    value = value[index || 0] || value[0] || 'auto';\r\n    value = value.trim().split(' ');\r\n    if (value.length === 1) {\r\n        value = [value[0], value[0]];\r\n    }\r\n    return value;\r\n};\r\n\r\nNodeContainer.prototype.parseBackgroundSize = function(bounds, image, index) {\r\n    var size = this.cssList(\"backgroundSize\", index);\r\n    var width, height;\r\n\r\n    if (isPercentage(size[0])) {\r\n        width = bounds.width * parseFloat(size[0]) / 100;\r\n    } else if (/contain|cover/.test(size[0])) {\r\n        var targetRatio = bounds.width / bounds.height, currentRatio = image.width / image.height;\r\n        return (targetRatio < currentRatio ^ size[0] === 'contain') ?  {width: bounds.height * currentRatio, height: bounds.height} : {width: bounds.width, height: bounds.width / currentRatio};\r\n    } else {\r\n        width = parseInt(size[0], 10);\r\n    }\r\n\r\n    if (size[0] === 'auto' && size[1] === 'auto') {\r\n        height = image.height;\r\n    } else if (size[1] === 'auto') {\r\n        height = width / image.width * image.height;\r\n    } else if (isPercentage(size[1])) {\r\n        height =  bounds.height * parseFloat(size[1]) / 100;\r\n    } else {\r\n        height = parseInt(size[1], 10);\r\n    }\r\n\r\n    if (size[0] === 'auto') {\r\n        width = height / image.height * image.width;\r\n    }\r\n\r\n    return {width: width, height: height};\r\n};\r\n\r\nNodeContainer.prototype.parseBackgroundPosition = function(bounds, image, index, backgroundSize) {\r\n    var position = this.cssList('backgroundPosition', index);\r\n    var left, top;\r\n\r\n    if (isPercentage(position[0])){\r\n        left = (bounds.width - (backgroundSize || image).width) * (parseFloat(position[0]) / 100);\r\n    } else {\r\n        left = parseInt(position[0], 10);\r\n    }\r\n\r\n    if (position[1] === 'auto') {\r\n        top = left / image.width * image.height;\r\n    } else if (isPercentage(position[1])){\r\n        top =  (bounds.height - (backgroundSize || image).height) * parseFloat(position[1]) / 100;\r\n    } else {\r\n        top = parseInt(position[1], 10);\r\n    }\r\n\r\n    if (position[0] === 'auto') {\r\n        left = top / image.height * image.width;\r\n    }\r\n\r\n    return {left: left, top: top};\r\n};\r\n\r\nNodeContainer.prototype.parseBackgroundRepeat = function(index) {\r\n    return this.cssList(\"backgroundRepeat\", index)[0];\r\n};\r\n\r\nNodeContainer.prototype.parseTextShadows = function() {\r\n    var textShadow = this.css(\"textShadow\");\r\n    var results = [];\r\n\r\n    if (textShadow && textShadow !== 'none') {\r\n        var shadows = textShadow.match(this.TEXT_SHADOW_PROPERTY);\r\n        for (var i = 0; shadows && (i < shadows.length); i++) {\r\n            var s = shadows[i].match(this.TEXT_SHADOW_VALUES);\r\n            results.push({\r\n                color: new Color(s[0]),\r\n                offsetX: s[1] ? parseFloat(s[1].replace('px', '')) : 0,\r\n                offsetY: s[2] ? parseFloat(s[2].replace('px', '')) : 0,\r\n                blur: s[3] ? s[3].replace('px', '') : 0\r\n            });\r\n        }\r\n    }\r\n    return results;\r\n};\r\n\r\nNodeContainer.prototype.parseTransform = function() {\r\n    if (!this.transformData) {\r\n        if (this.hasTransform()) {\r\n            var offset = this.parseBounds();\r\n            var origin = this.prefixedCss(\"transformOrigin\").split(\" \").map(removePx).map(asFloat);\r\n            origin[0] += offset.left;\r\n            origin[1] += offset.top;\r\n            this.transformData = {\r\n                origin: origin,\r\n                matrix: this.parseTransformMatrix()\r\n            };\r\n        } else {\r\n            this.transformData = {\r\n                origin: [0, 0],\r\n                matrix: [1, 0, 0, 1, 0, 0]\r\n            };\r\n        }\r\n    }\r\n    return this.transformData;\r\n};\r\n\r\nNodeContainer.prototype.parseTransformMatrix = function() {\r\n    if (!this.transformMatrix) {\r\n        var transform = this.prefixedCss(\"transform\");\r\n        var matrix = transform ? parseMatrix(transform.match(this.MATRIX_PROPERTY)) : null;\r\n        this.transformMatrix = matrix ? matrix : [1, 0, 0, 1, 0, 0];\r\n    }\r\n    return this.transformMatrix;\r\n};\r\n\r\nNodeContainer.prototype.parseBounds = function() {\r\n    return this.bounds || (this.bounds = this.hasTransform() ? offsetBounds(this.node) : getBounds(this.node));\r\n};\r\n\r\nNodeContainer.prototype.hasTransform = function() {\r\n    return this.parseTransformMatrix().join(\",\") !== \"1,0,0,1,0,0\" || (this.parent && this.parent.hasTransform());\r\n};\r\n\r\nNodeContainer.prototype.getValue = function() {\r\n    var value = this.node.value || \"\";\r\n    if (this.node.tagName === \"SELECT\") {\r\n        value = selectionValue(this.node);\r\n    } else if (this.node.type === \"password\") {\r\n        value = Array(value.length + 1).join('\\u2022'); // jshint ignore:line\r\n    }\r\n    return value.length === 0 ? (this.node.placeholder || \"\") : value;\r\n};\r\n\r\nNodeContainer.prototype.MATRIX_PROPERTY = /(matrix)\\((.+)\\)/;\r\nNodeContainer.prototype.TEXT_SHADOW_PROPERTY = /((rgba|rgb)\\([^\\)]+\\)(\\s-?\\d+px){0,})/g;\r\nNodeContainer.prototype.TEXT_SHADOW_VALUES = /(-?\\d+px)|(#.+)|(rgb\\(.+\\))|(rgba\\(.+\\))/g;\r\nNodeContainer.prototype.CLIP = /^rect\\((\\d+)px,? (\\d+)px,? (\\d+)px,? (\\d+)px\\)$/;\r\n\r\nfunction selectionValue(node) {\r\n    var option = node.options[node.selectedIndex || 0];\r\n    return option ? (option.text || \"\") : \"\";\r\n}\r\n\r\nfunction parseMatrix(match) {\r\n    if (match && match[1] === \"matrix\") {\r\n        return match[2].split(\",\").map(function(s) {\r\n            return parseFloat(s.trim());\r\n        });\r\n    }\r\n}\r\n\r\nfunction isPercentage(value) {\r\n    return value.toString().indexOf(\"%\") !== -1;\r\n}\r\n\r\nfunction parseBackgrounds(backgroundImage) {\r\n    var whitespace = ' \\r\\n\\t',\r\n        method, definition, prefix, prefix_i, block, results = [],\r\n        mode = 0, numParen = 0, quote, args;\r\n    var appendResult = function() {\r\n        if(method) {\r\n            if (definition.substr(0, 1) === '\"') {\r\n                definition = definition.substr(1, definition.length - 2);\r\n            }\r\n            if (definition) {\r\n                args.push(definition);\r\n            }\r\n            if (method.substr(0, 1) === '-' && (prefix_i = method.indexOf('-', 1 ) + 1) > 0) {\r\n                prefix = method.substr(0, prefix_i);\r\n                method = method.substr(prefix_i);\r\n            }\r\n            results.push({\r\n                prefix: prefix,\r\n                method: method.toLowerCase(),\r\n                value: block,\r\n                args: args,\r\n                image: null\r\n            });\r\n        }\r\n        args = [];\r\n        method = prefix = definition = block = '';\r\n    };\r\n    args = [];\r\n    method = prefix = definition = block = '';\r\n    backgroundImage.split(\"\").forEach(function(c) {\r\n        if (mode === 0 && whitespace.indexOf(c) > -1) {\r\n            return;\r\n        }\r\n        switch(c) {\r\n        case '\"':\r\n            if(!quote) {\r\n                quote = c;\r\n            } else if(quote === c) {\r\n                quote = null;\r\n            }\r\n            break;\r\n        case '(':\r\n            if(quote) {\r\n                break;\r\n            } else if(mode === 0) {\r\n                mode = 1;\r\n                block += c;\r\n                return;\r\n            } else {\r\n                numParen++;\r\n            }\r\n            break;\r\n        case ')':\r\n            if (quote) {\r\n                break;\r\n            } else if(mode === 1) {\r\n                if(numParen === 0) {\r\n                    mode = 0;\r\n                    block += c;\r\n                    appendResult();\r\n                    return;\r\n                } else {\r\n                    numParen--;\r\n                }\r\n            }\r\n            break;\r\n\r\n        case ',':\r\n            if (quote) {\r\n                break;\r\n            } else if(mode === 0) {\r\n                appendResult();\r\n                return;\r\n            } else if (mode === 1) {\r\n                if (numParen === 0 && !method.match(/^url$/i)) {\r\n                    args.push(definition);\r\n                    definition = '';\r\n                    block += c;\r\n                    return;\r\n                }\r\n            }\r\n            break;\r\n        }\r\n\r\n        block += c;\r\n        if (mode === 0) {\r\n            method += c;\r\n        } else {\r\n            definition += c;\r\n        }\r\n    });\r\n\r\n    appendResult();\r\n    return results;\r\n}\r\n\r\nfunction removePx(str) {\r\n    return str.replace(\"px\", \"\");\r\n}\r\n\r\nfunction asFloat(str) {\r\n    return parseFloat(str);\r\n}\r\n\r\nfunction getBounds(node) {\r\n    if (node.getBoundingClientRect) {\r\n        var clientRect = node.getBoundingClientRect();\r\n        var width = node.offsetWidth == null ? clientRect.width : node.offsetWidth;\r\n        return {\r\n            top: clientRect.top,\r\n            bottom: clientRect.bottom || (clientRect.top + clientRect.height),\r\n            right: clientRect.left + width,\r\n            left: clientRect.left,\r\n            width:  width,\r\n            height: node.offsetHeight == null ? clientRect.height : node.offsetHeight\r\n        };\r\n    }\r\n    return {};\r\n}\r\n\r\nfunction offsetBounds(node) {\r\n    var parent = node.offsetParent ? offsetBounds(node.offsetParent) : {top: 0, left: 0};\r\n\r\n    return {\r\n        top: node.offsetTop + parent.top,\r\n        bottom: node.offsetTop + node.offsetHeight + parent.top,\r\n        right: node.offsetLeft + parent.left + node.offsetWidth,\r\n        left: node.offsetLeft + parent.left,\r\n        width: node.offsetWidth,\r\n        height: node.offsetHeight\r\n    };\r\n}\r\n\r\nfunction NodeParser(element, renderer, support, imageLoader, options) {\r\n    log(\"Starting NodeParser\");\r\n    this.renderer = renderer;\r\n    this.options = options;\r\n    this.range = null;\r\n    this.support = support;\r\n    this.renderQueue = [];\r\n    this.stack = new StackingContext(true, 1, element.ownerDocument, null);\r\n    var parent = new NodeContainer(element, null);\r\n    if (options.background) {\r\n        renderer.rectangle(0, 0, renderer.width, renderer.height, new Color(options.background));\r\n    }\r\n    if (element === element.ownerDocument.documentElement) {\r\n        // http://www.w3.org/TR/css3-background/#special-backgrounds\r\n        var canvasBackground = new NodeContainer(parent.color('backgroundColor').isTransparent() ? element.ownerDocument.body : element.ownerDocument.documentElement, null);\r\n        renderer.rectangle(0, 0, renderer.width, renderer.height, canvasBackground.color('backgroundColor'));\r\n    }\r\n    parent.visibile = parent.isElementVisible();\r\n    this.createPseudoHideStyles(element.ownerDocument);\r\n    this.disableAnimations(element.ownerDocument);\r\n    this.nodes = flatten([parent].concat(this.getChildren(parent)).filter(function(container) {\r\n        return container.visible = container.isElementVisible();\r\n    }).map(this.getPseudoElements, this));\r\n    this.fontMetrics = new FontMetrics();\r\n    log(\"Fetched nodes, total:\", this.nodes.length);\r\n    log(\"Calculate overflow clips\");\r\n    this.calculateOverflowClips();\r\n    log(\"Start fetching images\");\r\n    this.images = imageLoader.fetch(this.nodes.filter(isElement));\r\n    this.ready = this.images.ready.then(bind(function() {\r\n        log(\"Images loaded, starting parsing\");\r\n        log(\"Creating stacking contexts\");\r\n        this.createStackingContexts();\r\n        log(\"Sorting stacking contexts\");\r\n        this.sortStackingContexts(this.stack);\r\n        this.parse(this.stack);\r\n        log(\"Render queue created with \" + this.renderQueue.length + \" items\");\r\n        return new Promise(bind(function(resolve) {\r\n            if (!options.async) {\r\n                this.renderQueue.forEach(this.paint, this);\r\n                resolve();\r\n            } else if (typeof(options.async) === \"function\") {\r\n                options.async.call(this, this.renderQueue, resolve);\r\n            } else if (this.renderQueue.length > 0){\r\n                this.renderIndex = 0;\r\n                this.asyncRenderer(this.renderQueue, resolve);\r\n            } else {\r\n                resolve();\r\n            }\r\n        }, this));\r\n    }, this));\r\n}\r\n\r\nNodeParser.prototype.calculateOverflowClips = function() {\r\n    this.nodes.forEach(function(container) {\r\n        if (isElement(container)) {\r\n            if (isPseudoElement(container)) {\r\n                container.appendToDOM();\r\n            }\r\n            container.borders = this.parseBorders(container);\r\n            var clip = (container.css('overflow') === \"hidden\") ? [container.borders.clip] : [];\r\n            var cssClip = container.parseClip();\r\n            if (cssClip && [\"absolute\", \"fixed\"].indexOf(container.css('position')) !== -1) {\r\n                clip.push([[\"rect\",\r\n                        container.bounds.left + cssClip.left,\r\n                        container.bounds.top + cssClip.top,\r\n                        cssClip.right - cssClip.left,\r\n                        cssClip.bottom - cssClip.top\r\n                ]]);\r\n            }\r\n            container.clip = hasParentClip(container) ? container.parent.clip.concat(clip) : clip;\r\n            container.backgroundClip = (container.css('overflow') !== \"hidden\") ? container.clip.concat([container.borders.clip]) : container.clip;\r\n            if (isPseudoElement(container)) {\r\n                container.cleanDOM();\r\n            }\r\n        } else if (isTextNode(container)) {\r\n            container.clip = hasParentClip(container) ? container.parent.clip : [];\r\n        }\r\n        if (!isPseudoElement(container)) {\r\n            container.bounds = null;\r\n        }\r\n    }, this);\r\n};\r\n\r\nfunction hasParentClip(container) {\r\n    return container.parent && container.parent.clip.length;\r\n}\r\n\r\nNodeParser.prototype.asyncRenderer = function(queue, resolve, asyncTimer) {\r\n    asyncTimer = asyncTimer || Date.now();\r\n    this.paint(queue[this.renderIndex++]);\r\n    if (queue.length === this.renderIndex) {\r\n        resolve();\r\n    } else if (asyncTimer + 20 > Date.now()) {\r\n        this.asyncRenderer(queue, resolve, asyncTimer);\r\n    } else {\r\n        setTimeout(bind(function() {\r\n            this.asyncRenderer(queue, resolve);\r\n        }, this), 0);\r\n    }\r\n};\r\n\r\nNodeParser.prototype.createPseudoHideStyles = function(document) {\r\n    this.createStyles(document, '.' + PseudoElementContainer.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE + ':before { content: \"\" !important; display: none !important; }' +\r\n        '.' + PseudoElementContainer.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER + ':after { content: \"\" !important; display: none !important; }');\r\n};\r\n\r\nNodeParser.prototype.disableAnimations = function(document) {\r\n    this.createStyles(document, '* { -webkit-animation: none !important; -moz-animation: none !important; -o-animation: none !important; animation: none !important; ' +\r\n        '-webkit-transition: none !important; -moz-transition: none !important; -o-transition: none !important; transition: none !important;}');\r\n};\r\n\r\nNodeParser.prototype.createStyles = function(document, styles) {\r\n    var hidePseudoElements = document.createElement('style');\r\n    hidePseudoElements.innerHTML = styles;\r\n    document.body.appendChild(hidePseudoElements);\r\n};\r\n\r\nNodeParser.prototype.getPseudoElements = function(container) {\r\n    var nodes = [[container]];\r\n    if (container.node.nodeType === Node.ELEMENT_NODE) {\r\n        var before = this.getPseudoElement(container, \":before\");\r\n        var after = this.getPseudoElement(container, \":after\");\r\n\r\n        if (before) {\r\n            nodes.push(before);\r\n        }\r\n\r\n        if (after) {\r\n            nodes.push(after);\r\n        }\r\n    }\r\n    return flatten(nodes);\r\n};\r\n\r\nfunction toCamelCase(str) {\r\n    return str.replace(/(\\-[a-z])/g, function(match){\r\n        return match.toUpperCase().replace('-','');\r\n    });\r\n}\r\n\r\nNodeParser.prototype.getPseudoElement = function(container, type) {\r\n    var style = container.computedStyle(type);\r\n    if(!style || !style.content || style.content === \"none\" || style.content === \"-moz-alt-content\" || style.display === \"none\") {\r\n        return null;\r\n    }\r\n\r\n    var content = stripQuotes(style.content);\r\n    var isImage = content.substr(0, 3) === 'url';\r\n    var pseudoNode = document.createElement(isImage ? 'img' : 'html2canvaspseudoelement');\r\n    var pseudoContainer = new PseudoElementContainer(pseudoNode, container, type);\r\n\r\n    for (var i = style.length-1; i >= 0; i--) {\r\n        var property = toCamelCase(style.item(i));\r\n        pseudoNode.style[property] = style[property];\r\n    }\r\n\r\n    pseudoNode.className = PseudoElementContainer.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE + \" \" + PseudoElementContainer.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER;\r\n\r\n    if (isImage) {\r\n        pseudoNode.src = parseBackgrounds(content)[0].args[0];\r\n        return [pseudoContainer];\r\n    } else {\r\n        var text = document.createTextNode(content);\r\n        pseudoNode.appendChild(text);\r\n        return [pseudoContainer, new TextContainer(text, pseudoContainer)];\r\n    }\r\n};\r\n\r\n\r\nNodeParser.prototype.getChildren = function(parentContainer) {\r\n    return flatten([].filter.call(parentContainer.node.childNodes, renderableNode).map(function(node) {\r\n        var container = [node.nodeType === Node.TEXT_NODE ? new TextContainer(node, parentContainer) : new NodeContainer(node, parentContainer)].filter(nonIgnoredElement);\r\n        return node.nodeType === Node.ELEMENT_NODE && container.length && node.tagName !== \"TEXTAREA\" ? (container[0].isElementVisible() ? container.concat(this.getChildren(container[0])) : []) : container;\r\n    }, this));\r\n};\r\n\r\nNodeParser.prototype.newStackingContext = function(container, hasOwnStacking) {\r\n    var stack = new StackingContext(hasOwnStacking, container.getOpacity(), container.node, container.parent);\r\n    container.cloneTo(stack);\r\n    var parentStack = hasOwnStacking ? stack.getParentStack(this) : stack.parent.stack;\r\n    parentStack.contexts.push(stack);\r\n    container.stack = stack;\r\n};\r\n\r\nNodeParser.prototype.createStackingContexts = function() {\r\n    this.nodes.forEach(function(container) {\r\n        if (isElement(container) && (this.isRootElement(container) || hasOpacity(container) || isPositionedForStacking(container) || this.isBodyWithTransparentRoot(container) || container.hasTransform())) {\r\n            this.newStackingContext(container, true);\r\n        } else if (isElement(container) && ((isPositioned(container) && zIndex0(container)) || isInlineBlock(container) || isFloating(container))) {\r\n            this.newStackingContext(container, false);\r\n        } else {\r\n            container.assignStack(container.parent.stack);\r\n        }\r\n    }, this);\r\n};\r\n\r\nNodeParser.prototype.isBodyWithTransparentRoot = function(container) {\r\n    return container.node.nodeName === \"BODY\" && container.parent.color('backgroundColor').isTransparent();\r\n};\r\n\r\nNodeParser.prototype.isRootElement = function(container) {\r\n    return container.parent === null;\r\n};\r\n\r\nNodeParser.prototype.sortStackingContexts = function(stack) {\r\n    stack.contexts.sort(zIndexSort(stack.contexts.slice(0)));\r\n    stack.contexts.forEach(this.sortStackingContexts, this);\r\n};\r\n\r\nNodeParser.prototype.parseTextBounds = function(container) {\r\n    return function(text, index, textList) {\r\n        if (container.parent.css(\"textDecoration\").substr(0, 4) !== \"none\" || text.trim().length !== 0) {\r\n            if (this.support.rangeBounds && !container.parent.hasTransform()) {\r\n                var offset = textList.slice(0, index).join(\"\").length;\r\n                return this.getRangeBounds(container.node, offset, text.length);\r\n            } else if (container.node && typeof(container.node.data) === \"string\") {\r\n                var replacementNode = container.node.splitText(text.length);\r\n                var bounds = this.getWrapperBounds(container.node, container.parent.hasTransform());\r\n                container.node = replacementNode;\r\n                return bounds;\r\n            }\r\n        } else if(!this.support.rangeBounds || container.parent.hasTransform()){\r\n            container.node = container.node.splitText(text.length);\r\n        }\r\n        return {};\r\n    };\r\n};\r\n\r\nNodeParser.prototype.getWrapperBounds = function(node, transform) {\r\n    var wrapper = node.ownerDocument.createElement('html2canvaswrapper');\r\n    var parent = node.parentNode,\r\n        backupText = node.cloneNode(true);\r\n\r\n    wrapper.appendChild(node.cloneNode(true));\r\n    parent.replaceChild(wrapper, node);\r\n    var bounds = transform ? offsetBounds(wrapper) : getBounds(wrapper);\r\n    parent.replaceChild(backupText, wrapper);\r\n    return bounds;\r\n};\r\n\r\nNodeParser.prototype.getRangeBounds = function(node, offset, length) {\r\n    var range = this.range || (this.range = node.ownerDocument.createRange());\r\n    range.setStart(node, offset);\r\n    range.setEnd(node, offset + length);\r\n    return range.getBoundingClientRect();\r\n};\r\n\r\nfunction ClearTransform() {}\r\n\r\nNodeParser.prototype.parse = function(stack) {\r\n    // http://www.w3.org/TR/CSS21/visuren.html#z-index\r\n    var negativeZindex = stack.contexts.filter(negativeZIndex); // 2. the child stacking contexts with negative stack levels (most negative first).\r\n    var descendantElements = stack.children.filter(isElement);\r\n    var descendantNonFloats = descendantElements.filter(not(isFloating));\r\n    var nonInlineNonPositionedDescendants = descendantNonFloats.filter(not(isPositioned)).filter(not(inlineLevel)); // 3 the in-flow, non-inline-level, non-positioned descendants.\r\n    var nonPositionedFloats = descendantElements.filter(not(isPositioned)).filter(isFloating); // 4. the non-positioned floats.\r\n    var inFlow = descendantNonFloats.filter(not(isPositioned)).filter(inlineLevel); // 5. the in-flow, inline-level, non-positioned descendants, including inline tables and inline blocks.\r\n    var stackLevel0 = stack.contexts.concat(descendantNonFloats.filter(isPositioned)).filter(zIndex0); // 6. the child stacking contexts with stack level 0 and the positioned descendants with stack level 0.\r\n    var text = stack.children.filter(isTextNode).filter(hasText);\r\n    var positiveZindex = stack.contexts.filter(positiveZIndex); // 7. the child stacking contexts with positive stack levels (least positive first).\r\n    negativeZindex.concat(nonInlineNonPositionedDescendants).concat(nonPositionedFloats)\r\n        .concat(inFlow).concat(stackLevel0).concat(text).concat(positiveZindex).forEach(function(container) {\r\n            this.renderQueue.push(container);\r\n            if (isStackingContext(container)) {\r\n                this.parse(container);\r\n                this.renderQueue.push(new ClearTransform());\r\n            }\r\n        }, this);\r\n};\r\n\r\nNodeParser.prototype.paint = function(container) {\r\n    try {\r\n        if (container instanceof ClearTransform) {\r\n            this.renderer.ctx.restore();\r\n        } else if (isTextNode(container)) {\r\n            if (isPseudoElement(container.parent)) {\r\n                container.parent.appendToDOM();\r\n            }\r\n            this.paintText(container);\r\n            if (isPseudoElement(container.parent)) {\r\n                container.parent.cleanDOM();\r\n            }\r\n        } else {\r\n            this.paintNode(container);\r\n        }\r\n    } catch(e) {\r\n        log(e);\r\n        if (this.options.strict) {\r\n            throw e;\r\n        }\r\n    }\r\n};\r\n\r\nNodeParser.prototype.paintNode = function(container) {\r\n    if (isStackingContext(container)) {\r\n        this.renderer.setOpacity(container.opacity);\r\n        this.renderer.ctx.save();\r\n        if (container.hasTransform()) {\r\n            this.renderer.setTransform(container.parseTransform());\r\n        }\r\n    }\r\n\r\n    if (container.node.nodeName === \"INPUT\" && container.node.type === \"checkbox\") {\r\n        this.paintCheckbox(container);\r\n    } else if (container.node.nodeName === \"INPUT\" && container.node.type === \"radio\") {\r\n        this.paintRadio(container);\r\n    } else {\r\n        this.paintElement(container);\r\n    }\r\n};\r\n\r\nNodeParser.prototype.paintElement = function(container) {\r\n    var bounds = container.parseBounds();\r\n    this.renderer.clip(container.backgroundClip, function() {\r\n        this.renderer.renderBackground(container, bounds, container.borders.borders.map(getWidth));\r\n    }, this);\r\n\r\n    this.renderer.clip(container.clip, function() {\r\n        this.renderer.renderBorders(container.borders.borders);\r\n    }, this);\r\n\r\n    this.renderer.clip(container.backgroundClip, function() {\r\n        switch (container.node.nodeName) {\r\n        case \"svg\":\r\n        case \"IFRAME\":\r\n            var imgContainer = this.images.get(container.node);\r\n            if (imgContainer) {\r\n                this.renderer.renderImage(container, bounds, container.borders, imgContainer);\r\n            } else {\r\n                log(\"Error loading <\" + container.node.nodeName + \">\", container.node);\r\n            }\r\n            break;\r\n        case \"IMG\":\r\n            var imageContainer = this.images.get(container.node.src);\r\n            if (imageContainer) {\r\n                this.renderer.renderImage(container, bounds, container.borders, imageContainer);\r\n            } else {\r\n                log(\"Error loading <img>\", container.node.src);\r\n            }\r\n            break;\r\n        case \"CANVAS\":\r\n            this.renderer.renderImage(container, bounds, container.borders, {image: container.node});\r\n            break;\r\n        case \"SELECT\":\r\n        case \"INPUT\":\r\n        case \"TEXTAREA\":\r\n            this.paintFormValue(container);\r\n            break;\r\n        }\r\n    }, this);\r\n};\r\n\r\nNodeParser.prototype.paintCheckbox = function(container) {\r\n    var b = container.parseBounds();\r\n\r\n    var size = Math.min(b.width, b.height);\r\n    var bounds = {width: size - 1, height: size - 1, top: b.top, left: b.left};\r\n    var r = [3, 3];\r\n    var radius = [r, r, r, r];\r\n    var borders = [1,1,1,1].map(function(w) {\r\n        return {color: new Color('#A5A5A5'), width: w};\r\n    });\r\n\r\n    var borderPoints = calculateCurvePoints(bounds, radius, borders);\r\n\r\n    this.renderer.clip(container.backgroundClip, function() {\r\n        this.renderer.rectangle(bounds.left + 1, bounds.top + 1, bounds.width - 2, bounds.height - 2, new Color(\"#DEDEDE\"));\r\n        this.renderer.renderBorders(calculateBorders(borders, bounds, borderPoints, radius));\r\n        if (container.node.checked) {\r\n            this.renderer.font(new Color('#424242'), 'normal', 'normal', 'bold', (size - 3) + \"px\", 'arial');\r\n            this.renderer.text(\"\\u2714\", bounds.left + size / 6, bounds.top + size - 1);\r\n        }\r\n    }, this);\r\n};\r\n\r\nNodeParser.prototype.paintRadio = function(container) {\r\n    var bounds = container.parseBounds();\r\n\r\n    var size = Math.min(bounds.width, bounds.height) - 2;\r\n\r\n    this.renderer.clip(container.backgroundClip, function() {\r\n        this.renderer.circleStroke(bounds.left + 1, bounds.top + 1, size, new Color('#DEDEDE'), 1, new Color('#A5A5A5'));\r\n        if (container.node.checked) {\r\n            this.renderer.circle(Math.ceil(bounds.left + size / 4) + 1, Math.ceil(bounds.top + size / 4) + 1, Math.floor(size / 2), new Color('#424242'));\r\n        }\r\n    }, this);\r\n};\r\n\r\nNodeParser.prototype.paintFormValue = function(container) {\r\n    var value = container.getValue();\r\n    if (value.length > 0) {\r\n        var document = container.node.ownerDocument;\r\n        var wrapper = document.createElement('html2canvaswrapper');\r\n        var properties = ['lineHeight', 'textAlign', 'fontFamily', 'fontWeight', 'fontSize', 'color',\r\n            'paddingLeft', 'paddingTop', 'paddingRight', 'paddingBottom',\r\n            'width', 'height', 'borderLeftStyle', 'borderTopStyle', 'borderLeftWidth', 'borderTopWidth',\r\n            'boxSizing', 'whiteSpace', 'wordWrap'];\r\n\r\n        properties.forEach(function(property) {\r\n            try {\r\n                wrapper.style[property] = container.css(property);\r\n            } catch(e) {\r\n                // Older IE has issues with \"border\"\r\n                log(\"html2canvas: Parse: Exception caught in renderFormValue: \" + e.message);\r\n            }\r\n        });\r\n        var bounds = container.parseBounds();\r\n        wrapper.style.position = \"fixed\";\r\n        wrapper.style.left = bounds.left + \"px\";\r\n        wrapper.style.top = bounds.top + \"px\";\r\n        wrapper.textContent = value;\r\n        document.body.appendChild(wrapper);\r\n        this.paintText(new TextContainer(wrapper.firstChild, container));\r\n        document.body.removeChild(wrapper);\r\n    }\r\n};\r\n\r\nNodeParser.prototype.paintText = function(container) {\r\n    container.applyTextTransform();\r\n    var characters = window.html2canvas.punycode.ucs2.decode(container.node.data);\r\n    var textList = (!this.options.letterRendering || noLetterSpacing(container)) && !hasUnicode(container.node.data) ? getWords(characters) : characters.map(function(character) {\r\n        return window.html2canvas.punycode.ucs2.encode([character]);\r\n    });\r\n\r\n    var weight = container.parent.fontWeight();\r\n    var size = container.parent.css('fontSize');\r\n    var family = container.parent.css('fontFamily');\r\n    var shadows = container.parent.parseTextShadows();\r\n\r\n    this.renderer.font(container.parent.color('color'), container.parent.css('fontStyle'), container.parent.css('fontVariant'), weight, size, family);\r\n    if (shadows.length) {\r\n        // TODO: support multiple text shadows\r\n        this.renderer.fontShadow(shadows[0].color, shadows[0].offsetX, shadows[0].offsetY, shadows[0].blur);\r\n    } else {\r\n        this.renderer.clearShadow();\r\n    }\r\n\r\n    this.renderer.clip(container.parent.clip, function() {\r\n        textList.map(this.parseTextBounds(container), this).forEach(function(bounds, index) {\r\n            if (bounds) {\r\n                this.renderer.text(textList[index], bounds.left, bounds.bottom);\r\n                this.renderTextDecoration(container.parent, bounds, this.fontMetrics.getMetrics(family, size));\r\n            }\r\n        }, this);\r\n    }, this);\r\n};\r\n\r\nNodeParser.prototype.renderTextDecoration = function(container, bounds, metrics) {\r\n    switch(container.css(\"textDecoration\").split(\" \")[0]) {\r\n    case \"underline\":\r\n        // Draws a line at the baseline of the font\r\n        // TODO As some browsers display the line as more than 1px if the font-size is big, need to take that into account both in position and size\r\n        this.renderer.rectangle(bounds.left, Math.round(bounds.top + metrics.baseline + metrics.lineWidth), bounds.width, 1, container.color(\"color\"));\r\n        break;\r\n    case \"overline\":\r\n        this.renderer.rectangle(bounds.left, Math.round(bounds.top), bounds.width, 1, container.color(\"color\"));\r\n        break;\r\n    case \"line-through\":\r\n        // TODO try and find exact position for line-through\r\n        this.renderer.rectangle(bounds.left, Math.ceil(bounds.top + metrics.middle + metrics.lineWidth), bounds.width, 1, container.color(\"color\"));\r\n        break;\r\n    }\r\n};\r\n\r\nvar borderColorTransforms = {\r\n    inset: [\r\n        [\"darken\", 0.60],\r\n        [\"darken\", 0.10],\r\n        [\"darken\", 0.10],\r\n        [\"darken\", 0.60]\r\n    ]\r\n};\r\n\r\nNodeParser.prototype.parseBorders = function(container) {\r\n    var nodeBounds = container.parseBounds();\r\n    var radius = getBorderRadiusData(container);\r\n    var borders = [\"Top\", \"Right\", \"Bottom\", \"Left\"].map(function(side, index) {\r\n        var style = container.css('border' + side + 'Style');\r\n        var color = container.color('border' + side + 'Color');\r\n        if (style === \"inset\" && color.isBlack()) {\r\n            color = new Color([255, 255, 255, color.a]); // this is wrong, but\r\n        }\r\n        var colorTransform = borderColorTransforms[style] ? borderColorTransforms[style][index] : null;\r\n        return {\r\n            width: container.cssInt('border' + side + 'Width'),\r\n            color: colorTransform ? color[colorTransform[0]](colorTransform[1]) : color,\r\n            args: null\r\n        };\r\n    });\r\n    var borderPoints = calculateCurvePoints(nodeBounds, radius, borders);\r\n\r\n    return {\r\n        clip: this.parseBackgroundClip(container, borderPoints, borders, radius, nodeBounds),\r\n        borders: calculateBorders(borders, nodeBounds, borderPoints, radius)\r\n    };\r\n};\r\n\r\nfunction calculateBorders(borders, nodeBounds, borderPoints, radius) {\r\n    return borders.map(function(border, borderSide) {\r\n        if (border.width > 0) {\r\n            var bx = nodeBounds.left;\r\n            var by = nodeBounds.top;\r\n            var bw = nodeBounds.width;\r\n            var bh = nodeBounds.height - (borders[2].width);\r\n\r\n            switch(borderSide) {\r\n            case 0:\r\n                // top border\r\n                bh = borders[0].width;\r\n                border.args = drawSide({\r\n                        c1: [bx, by],\r\n                        c2: [bx + bw, by],\r\n                        c3: [bx + bw - borders[1].width, by + bh],\r\n                        c4: [bx + borders[3].width, by + bh]\r\n                    }, radius[0], radius[1],\r\n                    borderPoints.topLeftOuter, borderPoints.topLeftInner, borderPoints.topRightOuter, borderPoints.topRightInner);\r\n                break;\r\n            case 1:\r\n                // right border\r\n                bx = nodeBounds.left + nodeBounds.width - (borders[1].width);\r\n                bw = borders[1].width;\r\n\r\n                border.args = drawSide({\r\n                        c1: [bx + bw, by],\r\n                        c2: [bx + bw, by + bh + borders[2].width],\r\n                        c3: [bx, by + bh],\r\n                        c4: [bx, by + borders[0].width]\r\n                    }, radius[1], radius[2],\r\n                    borderPoints.topRightOuter, borderPoints.topRightInner, borderPoints.bottomRightOuter, borderPoints.bottomRightInner);\r\n                break;\r\n            case 2:\r\n                // bottom border\r\n                by = (by + nodeBounds.height) - (borders[2].width);\r\n                bh = borders[2].width;\r\n                border.args = drawSide({\r\n                        c1: [bx + bw, by + bh],\r\n                        c2: [bx, by + bh],\r\n                        c3: [bx + borders[3].width, by],\r\n                        c4: [bx + bw - borders[3].width, by]\r\n                    }, radius[2], radius[3],\r\n                    borderPoints.bottomRightOuter, borderPoints.bottomRightInner, borderPoints.bottomLeftOuter, borderPoints.bottomLeftInner);\r\n                break;\r\n            case 3:\r\n                // left border\r\n                bw = borders[3].width;\r\n                border.args = drawSide({\r\n                        c1: [bx, by + bh + borders[2].width],\r\n                        c2: [bx, by],\r\n                        c3: [bx + bw, by + borders[0].width],\r\n                        c4: [bx + bw, by + bh]\r\n                    }, radius[3], radius[0],\r\n                    borderPoints.bottomLeftOuter, borderPoints.bottomLeftInner, borderPoints.topLeftOuter, borderPoints.topLeftInner);\r\n                break;\r\n            }\r\n        }\r\n        return border;\r\n    });\r\n}\r\n\r\nNodeParser.prototype.parseBackgroundClip = function(container, borderPoints, borders, radius, bounds) {\r\n    var backgroundClip = container.css('backgroundClip'),\r\n        borderArgs = [];\r\n\r\n    switch(backgroundClip) {\r\n    case \"content-box\":\r\n    case \"padding-box\":\r\n        parseCorner(borderArgs, radius[0], radius[1], borderPoints.topLeftInner, borderPoints.topRightInner, bounds.left + borders[3].width, bounds.top + borders[0].width);\r\n        parseCorner(borderArgs, radius[1], radius[2], borderPoints.topRightInner, borderPoints.bottomRightInner, bounds.left + bounds.width - borders[1].width, bounds.top + borders[0].width);\r\n        parseCorner(borderArgs, radius[2], radius[3], borderPoints.bottomRightInner, borderPoints.bottomLeftInner, bounds.left + bounds.width - borders[1].width, bounds.top + bounds.height - borders[2].width);\r\n        parseCorner(borderArgs, radius[3], radius[0], borderPoints.bottomLeftInner, borderPoints.topLeftInner, bounds.left + borders[3].width, bounds.top + bounds.height - borders[2].width);\r\n        break;\r\n\r\n    default:\r\n        parseCorner(borderArgs, radius[0], radius[1], borderPoints.topLeftOuter, borderPoints.topRightOuter, bounds.left, bounds.top);\r\n        parseCorner(borderArgs, radius[1], radius[2], borderPoints.topRightOuter, borderPoints.bottomRightOuter, bounds.left + bounds.width, bounds.top);\r\n        parseCorner(borderArgs, radius[2], radius[3], borderPoints.bottomRightOuter, borderPoints.bottomLeftOuter, bounds.left + bounds.width, bounds.top + bounds.height);\r\n        parseCorner(borderArgs, radius[3], radius[0], borderPoints.bottomLeftOuter, borderPoints.topLeftOuter, bounds.left, bounds.top + bounds.height);\r\n        break;\r\n    }\r\n\r\n    return borderArgs;\r\n};\r\n\r\nfunction getCurvePoints(x, y, r1, r2) {\r\n    var kappa = 4 * ((Math.sqrt(2) - 1) / 3);\r\n    var ox = (r1) * kappa, // control point offset horizontal\r\n        oy = (r2) * kappa, // control point offset vertical\r\n        xm = x + r1, // x-middle\r\n        ym = y + r2; // y-middle\r\n    return {\r\n        topLeft: bezierCurve({x: x, y: ym}, {x: x, y: ym - oy}, {x: xm - ox, y: y}, {x: xm, y: y}),\r\n        topRight: bezierCurve({x: x, y: y}, {x: x + ox,y: y}, {x: xm, y: ym - oy}, {x: xm, y: ym}),\r\n        bottomRight: bezierCurve({x: xm, y: y}, {x: xm, y: y + oy}, {x: x + ox, y: ym}, {x: x, y: ym}),\r\n        bottomLeft: bezierCurve({x: xm, y: ym}, {x: xm - ox, y: ym}, {x: x, y: y + oy}, {x: x, y:y})\r\n    };\r\n}\r\n\r\nfunction calculateCurvePoints(bounds, borderRadius, borders) {\r\n    var x = bounds.left,\r\n        y = bounds.top,\r\n        width = bounds.width,\r\n        height = bounds.height,\r\n\r\n        tlh = borderRadius[0][0],\r\n        tlv = borderRadius[0][1],\r\n        trh = borderRadius[1][0],\r\n        trv = borderRadius[1][1],\r\n        brh = borderRadius[2][0],\r\n        brv = borderRadius[2][1],\r\n        blh = borderRadius[3][0],\r\n        blv = borderRadius[3][1];\r\n\r\n    var topWidth = width - trh,\r\n        rightHeight = height - brv,\r\n        bottomWidth = width - brh,\r\n        leftHeight = height - blv;\r\n\r\n    return {\r\n        topLeftOuter: getCurvePoints(x, y, tlh, tlv).topLeft.subdivide(0.5),\r\n        topLeftInner: getCurvePoints(x + borders[3].width, y + borders[0].width, Math.max(0, tlh - borders[3].width), Math.max(0, tlv - borders[0].width)).topLeft.subdivide(0.5),\r\n        topRightOuter: getCurvePoints(x + topWidth, y, trh, trv).topRight.subdivide(0.5),\r\n        topRightInner: getCurvePoints(x + Math.min(topWidth, width + borders[3].width), y + borders[0].width, (topWidth > width + borders[3].width) ? 0 :trh - borders[3].width, trv - borders[0].width).topRight.subdivide(0.5),\r\n        bottomRightOuter: getCurvePoints(x + bottomWidth, y + rightHeight, brh, brv).bottomRight.subdivide(0.5),\r\n        bottomRightInner: getCurvePoints(x + Math.min(bottomWidth, width - borders[3].width), y + Math.min(rightHeight, height + borders[0].width), Math.max(0, brh - borders[1].width),  brv - borders[2].width).bottomRight.subdivide(0.5),\r\n        bottomLeftOuter: getCurvePoints(x, y + leftHeight, blh, blv).bottomLeft.subdivide(0.5),\r\n        bottomLeftInner: getCurvePoints(x + borders[3].width, y + leftHeight, Math.max(0, blh - borders[3].width), blv - borders[2].width).bottomLeft.subdivide(0.5)\r\n    };\r\n}\r\n\r\nfunction bezierCurve(start, startControl, endControl, end) {\r\n    var lerp = function (a, b, t) {\r\n        return {\r\n            x: a.x + (b.x - a.x) * t,\r\n            y: a.y + (b.y - a.y) * t\r\n        };\r\n    };\r\n\r\n    return {\r\n        start: start,\r\n        startControl: startControl,\r\n        endControl: endControl,\r\n        end: end,\r\n        subdivide: function(t) {\r\n            var ab = lerp(start, startControl, t),\r\n                bc = lerp(startControl, endControl, t),\r\n                cd = lerp(endControl, end, t),\r\n                abbc = lerp(ab, bc, t),\r\n                bccd = lerp(bc, cd, t),\r\n                dest = lerp(abbc, bccd, t);\r\n            return [bezierCurve(start, ab, abbc, dest), bezierCurve(dest, bccd, cd, end)];\r\n        },\r\n        curveTo: function(borderArgs) {\r\n            borderArgs.push([\"bezierCurve\", startControl.x, startControl.y, endControl.x, endControl.y, end.x, end.y]);\r\n        },\r\n        curveToReversed: function(borderArgs) {\r\n            borderArgs.push([\"bezierCurve\", endControl.x, endControl.y, startControl.x, startControl.y, start.x, start.y]);\r\n        }\r\n    };\r\n}\r\n\r\nfunction drawSide(borderData, radius1, radius2, outer1, inner1, outer2, inner2) {\r\n    var borderArgs = [];\r\n\r\n    if (radius1[0] > 0 || radius1[1] > 0) {\r\n        borderArgs.push([\"line\", outer1[1].start.x, outer1[1].start.y]);\r\n        outer1[1].curveTo(borderArgs);\r\n    } else {\r\n        borderArgs.push([ \"line\", borderData.c1[0], borderData.c1[1]]);\r\n    }\r\n\r\n    if (radius2[0] > 0 || radius2[1] > 0) {\r\n        borderArgs.push([\"line\", outer2[0].start.x, outer2[0].start.y]);\r\n        outer2[0].curveTo(borderArgs);\r\n        borderArgs.push([\"line\", inner2[0].end.x, inner2[0].end.y]);\r\n        inner2[0].curveToReversed(borderArgs);\r\n    } else {\r\n        borderArgs.push([\"line\", borderData.c2[0], borderData.c2[1]]);\r\n        borderArgs.push([\"line\", borderData.c3[0], borderData.c3[1]]);\r\n    }\r\n\r\n    if (radius1[0] > 0 || radius1[1] > 0) {\r\n        borderArgs.push([\"line\", inner1[1].end.x, inner1[1].end.y]);\r\n        inner1[1].curveToReversed(borderArgs);\r\n    } else {\r\n        borderArgs.push([\"line\", borderData.c4[0], borderData.c4[1]]);\r\n    }\r\n\r\n    return borderArgs;\r\n}\r\n\r\nfunction parseCorner(borderArgs, radius1, radius2, corner1, corner2, x, y) {\r\n    if (radius1[0] > 0 || radius1[1] > 0) {\r\n        borderArgs.push([\"line\", corner1[0].start.x, corner1[0].start.y]);\r\n        corner1[0].curveTo(borderArgs);\r\n        corner1[1].curveTo(borderArgs);\r\n    } else {\r\n        borderArgs.push([\"line\", x, y]);\r\n    }\r\n\r\n    if (radius2[0] > 0 || radius2[1] > 0) {\r\n        borderArgs.push([\"line\", corner2[0].start.x, corner2[0].start.y]);\r\n    }\r\n}\r\n\r\nfunction negativeZIndex(container) {\r\n    return container.cssInt(\"zIndex\") < 0;\r\n}\r\n\r\nfunction positiveZIndex(container) {\r\n    return container.cssInt(\"zIndex\") > 0;\r\n}\r\n\r\nfunction zIndex0(container) {\r\n    return container.cssInt(\"zIndex\") === 0;\r\n}\r\n\r\nfunction inlineLevel(container) {\r\n    return [\"inline\", \"inline-block\", \"inline-table\"].indexOf(container.css(\"display\")) !== -1;\r\n}\r\n\r\nfunction isStackingContext(container) {\r\n    return (container instanceof StackingContext);\r\n}\r\n\r\nfunction hasText(container) {\r\n    return container.node.data.trim().length > 0;\r\n}\r\n\r\nfunction noLetterSpacing(container) {\r\n    return (/^(normal|none|0px)$/.test(container.parent.css(\"letterSpacing\")));\r\n}\r\n\r\nfunction getBorderRadiusData(container) {\r\n    return [\"TopLeft\", \"TopRight\", \"BottomRight\", \"BottomLeft\"].map(function(side) {\r\n        var value = container.css('border' + side + 'Radius');\r\n        var arr = value.split(\" \");\r\n        if (arr.length <= 1) {\r\n            arr[1] = arr[0];\r\n        }\r\n        return arr.map(asInt);\r\n    });\r\n}\r\n\r\nfunction renderableNode(node) {\r\n    return (node.nodeType === Node.TEXT_NODE || node.nodeType === Node.ELEMENT_NODE);\r\n}\r\n\r\nfunction isPositionedForStacking(container) {\r\n    var position = container.css(\"position\");\r\n    var zIndex = ([\"absolute\", \"relative\", \"fixed\"].indexOf(position) !== -1) ? container.css(\"zIndex\") : \"auto\";\r\n    return zIndex !== \"auto\";\r\n}\r\n\r\nfunction isPositioned(container) {\r\n    return container.css(\"position\") !== \"static\";\r\n}\r\n\r\nfunction isFloating(container) {\r\n    return container.css(\"float\") !== \"none\";\r\n}\r\n\r\nfunction isInlineBlock(container) {\r\n    return [\"inline-block\", \"inline-table\"].indexOf(container.css(\"display\")) !== -1;\r\n}\r\n\r\nfunction not(callback) {\r\n    var context = this;\r\n    return function() {\r\n        return !callback.apply(context, arguments);\r\n    };\r\n}\r\n\r\nfunction isElement(container) {\r\n    return container.node.nodeType === Node.ELEMENT_NODE;\r\n}\r\n\r\nfunction isPseudoElement(container) {\r\n    return container.isPseudoElement === true;\r\n}\r\n\r\nfunction isTextNode(container) {\r\n    return container.node.nodeType === Node.TEXT_NODE;\r\n}\r\n\r\nfunction zIndexSort(contexts) {\r\n    return function(a, b) {\r\n        return (a.cssInt(\"zIndex\") + (contexts.indexOf(a) / contexts.length)) - (b.cssInt(\"zIndex\") + (contexts.indexOf(b) / contexts.length));\r\n    };\r\n}\r\n\r\nfunction hasOpacity(container) {\r\n    return container.getOpacity() < 1;\r\n}\r\n\r\nfunction bind(callback, context) {\r\n    return function() {\r\n        return callback.apply(context, arguments);\r\n    };\r\n}\r\n\r\nfunction asInt(value) {\r\n    return parseInt(value, 10);\r\n}\r\n\r\nfunction getWidth(border) {\r\n    return border.width;\r\n}\r\n\r\nfunction nonIgnoredElement(nodeContainer) {\r\n    return (nodeContainer.node.nodeType !== Node.ELEMENT_NODE || [\"SCRIPT\", \"HEAD\", \"TITLE\", \"OBJECT\", \"BR\", \"OPTION\"].indexOf(nodeContainer.node.nodeName) === -1);\r\n}\r\n\r\nfunction flatten(arrays) {\r\n    return [].concat.apply([], arrays);\r\n}\r\n\r\nfunction stripQuotes(content) {\r\n    var first = content.substr(0, 1);\r\n    return (first === content.substr(content.length - 1) && first.match(/'|\"/)) ? content.substr(1, content.length - 2) : content;\r\n}\r\n\r\nfunction getWords(characters) {\r\n    var words = [], i = 0, onWordBoundary = false, word;\r\n    while(characters.length) {\r\n        if (isWordBoundary(characters[i]) === onWordBoundary) {\r\n            word = characters.splice(0, i);\r\n            if (word.length) {\r\n                words.push(window.html2canvas.punycode.ucs2.encode(word));\r\n            }\r\n            onWordBoundary =! onWordBoundary;\r\n            i = 0;\r\n        } else {\r\n            i++;\r\n        }\r\n\r\n        if (i >= characters.length) {\r\n            word = characters.splice(0, i);\r\n            if (word.length) {\r\n                words.push(window.html2canvas.punycode.ucs2.encode(word));\r\n            }\r\n        }\r\n    }\r\n    return words;\r\n}\r\n\r\nfunction isWordBoundary(characterCode) {\r\n    return [\r\n        32, // <space>\r\n        13, // \\r\r\n        10, // \\n\r\n        9, // \\t\r\n        45 // -\r\n    ].indexOf(characterCode) !== -1;\r\n}\r\n\r\nfunction hasUnicode(string) {\r\n    return (/[^\\u0000-\\u00ff]/).test(string);\r\n}\r\n\r\nfunction Proxy(src, proxyUrl, document) {\r\n    if (!proxyUrl) {\r\n        return Promise.reject(\"No proxy configured\");\r\n    }\r\n    var callback = createCallback(supportsCORS);\r\n    var url = createProxyUrl(proxyUrl, src, callback);\r\n\r\n    return supportsCORS ? XHR(url) : (jsonp(document, url, callback).then(function(response) {\r\n        return decode64(response.content);\r\n    }));\r\n}\r\nvar proxyCount = 0;\r\n\r\nvar supportsCORS = ('withCredentials' in new XMLHttpRequest());\r\nvar supportsCORSImage = ('crossOrigin' in new Image());\r\n\r\nfunction ProxyURL(src, proxyUrl, document) {\r\n    var callback = createCallback(supportsCORSImage);\r\n    var url = createProxyUrl(proxyUrl, src, callback);\r\n    return (supportsCORSImage ? Promise.resolve(url) : jsonp(document, url, callback).then(function(response) {\r\n        return \"data:\" + response.type + \";base64,\" + response.content;\r\n    }));\r\n}\r\n\r\nfunction jsonp(document, url, callback) {\r\n    return new Promise(function(resolve, reject) {\r\n        var s = document.createElement(\"script\");\r\n        var cleanup = function() {\r\n            delete window.html2canvas.proxy[callback];\r\n            document.body.removeChild(s);\r\n        };\r\n        window.html2canvas.proxy[callback] = function(response) {\r\n            cleanup();\r\n            resolve(response);\r\n        };\r\n        s.src = url;\r\n        s.onerror = function(e) {\r\n            cleanup();\r\n            reject(e);\r\n        };\r\n        document.body.appendChild(s);\r\n    });\r\n}\r\n\r\nfunction createCallback(useCORS) {\r\n    return !useCORS ? \"html2canvas_\" + Date.now() + \"_\" + (++proxyCount) + \"_\" + Math.round(Math.random() * 100000) : \"\";\r\n}\r\n\r\nfunction createProxyUrl(proxyUrl, src, callback) {\r\n    return proxyUrl + \"?url=\" + encodeURIComponent(src) + (callback.length ? \"&callback=html2canvas.proxy.\" + callback : \"\");\r\n}\r\n\r\nfunction ProxyImageContainer(src, proxy) {\r\n    var script = document.createElement(\"script\");\r\n    var link = document.createElement(\"a\");\r\n    link.href = src;\r\n    src = link.href;\r\n    this.src = src;\r\n    this.image = new Image();\r\n    var self = this;\r\n    this.promise = new Promise(function(resolve, reject) {\r\n        self.image.crossOrigin = \"Anonymous\";\r\n        self.image.onload = resolve;\r\n        self.image.onerror = reject;\r\n\r\n        new ProxyURL(src, proxy, document).then(function(url) {\r\n            self.image.src = url;\r\n        })['catch'](reject);\r\n    });\r\n}\r\n\r\nfunction PseudoElementContainer(node, parent, type) {\r\n    NodeContainer.call(this, node, parent);\r\n    this.isPseudoElement = true;\r\n    this.before = type === \":before\";\r\n}\r\n\r\nPseudoElementContainer.prototype.cloneTo = function(stack) {\r\n    PseudoElementContainer.prototype.cloneTo.call(this, stack);\r\n    stack.isPseudoElement = true;\r\n    stack.before = this.before;\r\n};\r\n\r\nPseudoElementContainer.prototype = Object.create(NodeContainer.prototype);\r\n\r\nPseudoElementContainer.prototype.appendToDOM = function() {\r\n    if (this.before) {\r\n        this.parent.node.insertBefore(this.node, this.parent.node.firstChild);\r\n    } else {\r\n        this.parent.node.appendChild(this.node);\r\n    }\r\n    this.parent.node.className += \" \" + this.getHideClass();\r\n};\r\n\r\nPseudoElementContainer.prototype.cleanDOM = function() {\r\n    this.node.parentNode.removeChild(this.node);\r\n    this.parent.node.className = this.parent.node.className.replace(this.getHideClass(), \"\");\r\n};\r\n\r\nPseudoElementContainer.prototype.getHideClass = function() {\r\n    return this[\"PSEUDO_HIDE_ELEMENT_CLASS_\" + (this.before ? \"BEFORE\" : \"AFTER\")];\r\n};\r\n\r\nPseudoElementContainer.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE = \"___html2canvas___pseudoelement_before\";\r\nPseudoElementContainer.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER = \"___html2canvas___pseudoelement_after\";\r\n\r\nfunction Renderer(width, height, images, options, document) {\r\n    this.width = width;\r\n    this.height = height;\r\n    this.images = images;\r\n    this.options = options;\r\n    this.document = document;\r\n}\r\n\r\nRenderer.prototype.renderImage = function(container, bounds, borderData, imageContainer) {\r\n    var paddingLeft = container.cssInt('paddingLeft'),\r\n        paddingTop = container.cssInt('paddingTop'),\r\n        paddingRight = container.cssInt('paddingRight'),\r\n        paddingBottom = container.cssInt('paddingBottom'),\r\n        borders = borderData.borders;\r\n\r\n    var width = bounds.width - (borders[1].width + borders[3].width + paddingLeft + paddingRight);\r\n    var height = bounds.height - (borders[0].width + borders[2].width + paddingTop + paddingBottom);\r\n    this.drawImage(\r\n        imageContainer,\r\n        0,\r\n        0,\r\n        imageContainer.image.width || width,\r\n        imageContainer.image.height || height,\r\n        bounds.left + paddingLeft + borders[3].width,\r\n        bounds.top + paddingTop + borders[0].width,\r\n        width,\r\n        height\r\n    );\r\n};\r\n\r\nRenderer.prototype.renderBackground = function(container, bounds, borderData) {\r\n    if (bounds.height > 0 && bounds.width > 0) {\r\n        this.renderBackgroundColor(container, bounds);\r\n        this.renderBackgroundImage(container, bounds, borderData);\r\n    }\r\n};\r\n\r\nRenderer.prototype.renderBackgroundColor = function(container, bounds) {\r\n    var color = container.color(\"backgroundColor\");\r\n    if (!color.isTransparent()) {\r\n        this.rectangle(bounds.left, bounds.top, bounds.width, bounds.height, color);\r\n    }\r\n};\r\n\r\nRenderer.prototype.renderBorders = function(borders) {\r\n    borders.forEach(this.renderBorder, this);\r\n};\r\n\r\nRenderer.prototype.renderBorder = function(data) {\r\n    if (!data.color.isTransparent() && data.args !== null) {\r\n        this.drawShape(data.args, data.color);\r\n    }\r\n};\r\n\r\nRenderer.prototype.renderBackgroundImage = function(container, bounds, borderData) {\r\n    var backgroundImages = container.parseBackgroundImages();\r\n    backgroundImages.reverse().forEach(function(backgroundImage, index, arr) {\r\n        switch(backgroundImage.method) {\r\n        case \"url\":\r\n            var image = this.images.get(backgroundImage.args[0]);\r\n            if (image) {\r\n                this.renderBackgroundRepeating(container, bounds, image, arr.length - (index+1), borderData);\r\n            } else {\r\n                log(\"Error loading background-image\", backgroundImage.args[0]);\r\n            }\r\n            break;\r\n        case \"linear-gradient\":\r\n        case \"gradient\":\r\n            var gradientImage = this.images.get(backgroundImage.value);\r\n            if (gradientImage) {\r\n                this.renderBackgroundGradient(gradientImage, bounds, borderData);\r\n            } else {\r\n                log(\"Error loading background-image\", backgroundImage.args[0]);\r\n            }\r\n            break;\r\n        case \"none\":\r\n            break;\r\n        default:\r\n            log(\"Unknown background-image type\", backgroundImage.args[0]);\r\n        }\r\n    }, this);\r\n};\r\n\r\nRenderer.prototype.renderBackgroundRepeating = function(container, bounds, imageContainer, index, borderData) {\r\n    var size = container.parseBackgroundSize(bounds, imageContainer.image, index);\r\n    var position = container.parseBackgroundPosition(bounds, imageContainer.image, index, size);\r\n    var repeat = container.parseBackgroundRepeat(index);\r\n    switch (repeat) {\r\n    case \"repeat-x\":\r\n    case \"repeat no-repeat\":\r\n        this.backgroundRepeatShape(imageContainer, position, size, bounds, bounds.left + borderData[3], bounds.top + position.top + borderData[0], 99999, size.height, borderData);\r\n        break;\r\n    case \"repeat-y\":\r\n    case \"no-repeat repeat\":\r\n        this.backgroundRepeatShape(imageContainer, position, size, bounds, bounds.left + position.left + borderData[3], bounds.top + borderData[0], size.width, 99999, borderData);\r\n        break;\r\n    case \"no-repeat\":\r\n        this.backgroundRepeatShape(imageContainer, position, size, bounds, bounds.left + position.left + borderData[3], bounds.top + position.top + borderData[0], size.width, size.height, borderData);\r\n        break;\r\n    default:\r\n        this.renderBackgroundRepeat(imageContainer, position, size, {top: bounds.top, left: bounds.left}, borderData[3], borderData[0]);\r\n        break;\r\n    }\r\n};\r\n\r\nfunction StackingContext(hasOwnStacking, opacity, element, parent) {\r\n    NodeContainer.call(this, element, parent);\r\n    this.ownStacking = hasOwnStacking;\r\n    this.contexts = [];\r\n    this.children = [];\r\n    this.opacity = (this.parent ? this.parent.stack.opacity : 1) * opacity;\r\n}\r\n\r\nStackingContext.prototype = Object.create(NodeContainer.prototype);\r\n\r\nStackingContext.prototype.getParentStack = function(context) {\r\n    var parentStack = (this.parent) ? this.parent.stack : null;\r\n    return parentStack ? (parentStack.ownStacking ? parentStack : parentStack.getParentStack(context)) : context.stack;\r\n};\r\n\r\nfunction Support(document) {\r\n    this.rangeBounds = this.testRangeBounds(document);\r\n    this.cors = this.testCORS();\r\n    this.svg = this.testSVG();\r\n}\r\n\r\nSupport.prototype.testRangeBounds = function(document) {\r\n    var range, testElement, rangeBounds, rangeHeight, support = false;\r\n\r\n    if (document.createRange) {\r\n        range = document.createRange();\r\n        if (range.getBoundingClientRect) {\r\n            testElement = document.createElement('boundtest');\r\n            testElement.style.height = \"123px\";\r\n            testElement.style.display = \"block\";\r\n            document.body.appendChild(testElement);\r\n\r\n            range.selectNode(testElement);\r\n            rangeBounds = range.getBoundingClientRect();\r\n            rangeHeight = rangeBounds.height;\r\n\r\n            if (rangeHeight === 123) {\r\n                support = true;\r\n            }\r\n            document.body.removeChild(testElement);\r\n        }\r\n    }\r\n\r\n    return support;\r\n};\r\n\r\nSupport.prototype.testCORS = function() {\r\n    return typeof((new Image()).crossOrigin) !== \"undefined\";\r\n};\r\n\r\nSupport.prototype.testSVG = function() {\r\n    var img = new Image();\r\n    var canvas = document.createElement(\"canvas\");\r\n    var ctx =  canvas.getContext(\"2d\");\r\n    img.src = \"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>\";\r\n\r\n    try {\r\n        ctx.drawImage(img, 0, 0);\r\n        canvas.toDataURL();\r\n    } catch(e) {\r\n        return false;\r\n    }\r\n    return true;\r\n};\r\n\r\nfunction SVGContainer(src) {\r\n    this.src = src;\r\n    this.image = null;\r\n    var self = this;\r\n\r\n    this.promise = this.hasFabric().then(function() {\r\n        return (self.isInline(src) ? Promise.resolve(self.inlineFormatting(src)) : XHR(src));\r\n    }).then(function(svg) {\r\n        return new Promise(function(resolve) {\r\n            html2canvas.fabric.loadSVGFromString(svg, self.createCanvas.call(self, resolve));\r\n        });\r\n    });\r\n}\r\n\r\nSVGContainer.prototype.hasFabric = function() {\r\n    return !html2canvas.fabric ? Promise.reject(new Error(\"html2canvas.svg.js is not loaded, cannot render svg\")) : Promise.resolve();\r\n};\r\n\r\nSVGContainer.prototype.inlineFormatting = function(src) {\r\n    return (/^data:image\\/svg\\+xml;base64,/.test(src)) ? this.decode64(this.removeContentType(src)) : this.removeContentType(src);\r\n};\r\n\r\nSVGContainer.prototype.removeContentType = function(src) {\r\n    return src.replace(/^data:image\\/svg\\+xml(;base64)?,/,'');\r\n};\r\n\r\nSVGContainer.prototype.isInline = function(src) {\r\n    return (/^data:image\\/svg\\+xml/i.test(src));\r\n};\r\n\r\nSVGContainer.prototype.createCanvas = function(resolve) {\r\n    var self = this;\r\n    return function (objects, options) {\r\n        var canvas = new html2canvas.fabric.StaticCanvas('c');\r\n        self.image = canvas.lowerCanvasEl;\r\n        canvas\r\n            .setWidth(options.width)\r\n            .setHeight(options.height)\r\n            .add(html2canvas.fabric.util.groupSVGElements(objects, options))\r\n            .renderAll();\r\n        resolve(canvas.lowerCanvasEl);\r\n    };\r\n};\r\n\r\nSVGContainer.prototype.decode64 = function(str) {\r\n    return (typeof(window.atob) === \"function\") ? window.atob(str) : decode64(str);\r\n};\r\n\r\n/*\r\n * base64-arraybuffer\r\n * https://github.com/niklasvh/base64-arraybuffer\r\n *\r\n * Copyright (c) 2012 Niklas von Hertzen\r\n * Licensed under the MIT license.\r\n */\r\n\r\nfunction decode64(base64) {\r\n    var chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\r\n    var len = base64.length, i, encoded1, encoded2, encoded3, encoded4, byte1, byte2, byte3;\r\n\r\n    var output = \"\";\r\n\r\n    for (i = 0; i < len; i+=4) {\r\n        encoded1 = chars.indexOf(base64[i]);\r\n        encoded2 = chars.indexOf(base64[i+1]);\r\n        encoded3 = chars.indexOf(base64[i+2]);\r\n        encoded4 = chars.indexOf(base64[i+3]);\r\n\r\n        byte1 = (encoded1 << 2) | (encoded2 >> 4);\r\n        byte2 = ((encoded2 & 15) << 4) | (encoded3 >> 2);\r\n        byte3 = ((encoded3 & 3) << 6) | encoded4;\r\n        if (encoded3 === 64) {\r\n            output += String.fromCharCode(byte1);\r\n        } else if (encoded4 === 64 || encoded4 === -1) {\r\n            output += String.fromCharCode(byte1, byte2);\r\n        } else{\r\n            output += String.fromCharCode(byte1, byte2, byte3);\r\n        }\r\n    }\r\n\r\n    return output;\r\n}\r\n\r\nfunction SVGNodeContainer(node, native) {\r\n    this.src = node;\r\n    this.image = null;\r\n    var self = this;\r\n\r\n    this.promise = native ? new Promise(function(resolve, reject) {\r\n        self.image = new Image();\r\n        self.image.onload = resolve;\r\n        self.image.onerror = reject;\r\n        self.image.src = \"data:image/svg+xml,\" + (new XMLSerializer()).serializeToString(node);\r\n        if (self.image.complete === true) {\r\n            resolve(self.image);\r\n        }\r\n    }) : this.hasFabric().then(function() {\r\n        return new Promise(function(resolve) {\r\n            html2canvas.fabric.parseSVGDocument(node, self.createCanvas.call(self, resolve));\r\n        });\r\n    });\r\n}\r\n\r\nSVGNodeContainer.prototype = Object.create(SVGContainer.prototype);\r\n\r\nfunction TextContainer(node, parent) {\r\n    NodeContainer.call(this, node, parent);\r\n}\r\n\r\nTextContainer.prototype = Object.create(NodeContainer.prototype);\r\n\r\nTextContainer.prototype.applyTextTransform = function() {\r\n    this.node.data = this.transform(this.parent.css(\"textTransform\"));\r\n};\r\n\r\nTextContainer.prototype.transform = function(transform) {\r\n    var text = this.node.data;\r\n    switch(transform){\r\n        case \"lowercase\":\r\n            return text.toLowerCase();\r\n        case \"capitalize\":\r\n            return text.replace(/(^|\\s|:|-|\\(|\\))([a-z])/g, capitalize);\r\n        case \"uppercase\":\r\n            return text.toUpperCase();\r\n        default:\r\n            return text;\r\n    }\r\n};\r\n\r\nfunction capitalize(m, p1, p2) {\r\n    if (m.length > 0) {\r\n        return p1 + p2.toUpperCase();\r\n    }\r\n}\r\n\r\nfunction WebkitGradientContainer(imageData) {\r\n    GradientContainer.apply(this, arguments);\r\n    this.type = (imageData.args[0] === \"linear\") ? this.TYPES.LINEAR : this.TYPES.RADIAL;\r\n}\r\n\r\nWebkitGradientContainer.prototype = Object.create(GradientContainer.prototype);\r\n\r\nfunction XHR(url) {\r\n    return new Promise(function(resolve, reject) {\r\n        var xhr = new XMLHttpRequest();\r\n        xhr.open('GET', url);\r\n\r\n        xhr.onload = function() {\r\n            if (xhr.status === 200) {\r\n                resolve(xhr.responseText);\r\n            } else {\r\n                reject(new Error(xhr.statusText));\r\n            }\r\n        };\r\n\r\n        xhr.onerror = function() {\r\n            reject(new Error(\"Network Error\"));\r\n        };\r\n\r\n        xhr.send();\r\n    });\r\n}\r\n\r\nfunction CanvasRenderer(width, height) {\r\n    Renderer.apply(this, arguments);\r\n    this.canvas = this.options.canvas || this.document.createElement(\"canvas\");\r\n    if (!this.options.canvas) {\r\n        this.canvas.width = width;\r\n        this.canvas.height = height;\r\n    }\r\n    this.ctx = this.canvas.getContext(\"2d\");\r\n    this.taintCtx = this.document.createElement(\"canvas\").getContext(\"2d\");\r\n    this.ctx.textBaseline = \"bottom\";\r\n    this.variables = {};\r\n    log(\"Initialized CanvasRenderer with size\", width, \"x\", height);\r\n}\r\n\r\nCanvasRenderer.prototype = Object.create(Renderer.prototype);\r\n\r\nCanvasRenderer.prototype.setFillStyle = function(fillStyle) {\r\n    this.ctx.fillStyle = typeof(fillStyle) === \"object\" && !!fillStyle.isColor ? fillStyle.toString() : fillStyle;\r\n    return this.ctx;\r\n};\r\n\r\nCanvasRenderer.prototype.rectangle = function(left, top, width, height, color) {\r\n    this.setFillStyle(color).fillRect(left, top, width, height);\r\n};\r\n\r\nCanvasRenderer.prototype.circle = function(left, top, size, color) {\r\n    this.setFillStyle(color);\r\n    this.ctx.beginPath();\r\n    this.ctx.arc(left + size / 2, top + size / 2, size / 2, 0, Math.PI*2, true);\r\n    this.ctx.closePath();\r\n    this.ctx.fill();\r\n};\r\n\r\nCanvasRenderer.prototype.circleStroke = function(left, top, size, color, stroke, strokeColor) {\r\n    this.circle(left, top, size, color);\r\n    this.ctx.strokeStyle = strokeColor.toString();\r\n    this.ctx.stroke();\r\n};\r\n\r\nCanvasRenderer.prototype.drawShape = function(shape, color) {\r\n    this.shape(shape);\r\n    this.setFillStyle(color).fill();\r\n};\r\n\r\nCanvasRenderer.prototype.taints = function(imageContainer) {\r\n    if (imageContainer.tainted === null) {\r\n        this.taintCtx.drawImage(imageContainer.image, 0, 0);\r\n        try {\r\n            this.taintCtx.getImageData(0, 0, 1, 1);\r\n            imageContainer.tainted = false;\r\n        } catch(e) {\r\n            this.taintCtx = document.createElement(\"canvas\").getContext(\"2d\");\r\n            imageContainer.tainted = true;\r\n        }\r\n    }\r\n\r\n    return imageContainer.tainted;\r\n};\r\n\r\nCanvasRenderer.prototype.drawImage = function(imageContainer, sx, sy, sw, sh, dx, dy, dw, dh) {\r\n    if (!this.taints(imageContainer) || this.options.allowTaint) {\r\n        this.ctx.drawImage(imageContainer.image, sx, sy, sw, sh, dx, dy, dw, dh);\r\n    }\r\n};\r\n\r\nCanvasRenderer.prototype.clip = function(shapes, callback, context) {\r\n    this.ctx.save();\r\n    shapes.filter(hasEntries).forEach(function(shape) {\r\n        this.shape(shape).clip();\r\n    }, this);\r\n    callback.call(context);\r\n    this.ctx.restore();\r\n};\r\n\r\nCanvasRenderer.prototype.shape = function(shape) {\r\n    this.ctx.beginPath();\r\n    shape.forEach(function(point, index) {\r\n        if (point[0] === \"rect\") {\r\n            this.ctx.rect.apply(this.ctx, point.slice(1));\r\n        } else {\r\n            this.ctx[(index === 0) ? \"moveTo\" : point[0] + \"To\" ].apply(this.ctx, point.slice(1));\r\n        }\r\n    }, this);\r\n    this.ctx.closePath();\r\n    return this.ctx;\r\n};\r\n\r\nCanvasRenderer.prototype.font = function(color, style, variant, weight, size, family) {\r\n    this.setFillStyle(color).font = [style, variant, weight, size, family].join(\" \").split(\",\")[0];\r\n};\r\n\r\nCanvasRenderer.prototype.fontShadow = function(color, offsetX, offsetY, blur) {\r\n    this.setVariable(\"shadowColor\", color.toString())\r\n        .setVariable(\"shadowOffsetY\", offsetX)\r\n        .setVariable(\"shadowOffsetX\", offsetY)\r\n        .setVariable(\"shadowBlur\", blur);\r\n};\r\n\r\nCanvasRenderer.prototype.clearShadow = function() {\r\n    this.setVariable(\"shadowColor\", \"rgba(0,0,0,0)\");\r\n};\r\n\r\nCanvasRenderer.prototype.setOpacity = function(opacity) {\r\n    this.ctx.globalAlpha = opacity;\r\n};\r\n\r\nCanvasRenderer.prototype.setTransform = function(transform) {\r\n    this.ctx.translate(transform.origin[0], transform.origin[1]);\r\n    this.ctx.transform.apply(this.ctx, transform.matrix);\r\n    this.ctx.translate(-transform.origin[0], -transform.origin[1]);\r\n};\r\n\r\nCanvasRenderer.prototype.setVariable = function(property, value) {\r\n    if (this.variables[property] !== value) {\r\n        this.variables[property] = this.ctx[property] = value;\r\n    }\r\n\r\n    return this;\r\n};\r\n\r\nCanvasRenderer.prototype.text = function(text, left, bottom) {\r\n    this.ctx.fillText(text, left, bottom);\r\n};\r\n\r\nCanvasRenderer.prototype.backgroundRepeatShape = function(imageContainer, backgroundPosition, size, bounds, left, top, width, height, borderData) {\r\n    var shape = [\r\n        [\"line\", Math.round(left), Math.round(top)],\r\n        [\"line\", Math.round(left + width), Math.round(top)],\r\n        [\"line\", Math.round(left + width), Math.round(height + top)],\r\n        [\"line\", Math.round(left), Math.round(height + top)]\r\n    ];\r\n    this.clip([shape], function() {\r\n        this.renderBackgroundRepeat(imageContainer, backgroundPosition, size, bounds, borderData[3], borderData[0]);\r\n    }, this);\r\n};\r\n\r\nCanvasRenderer.prototype.renderBackgroundRepeat = function(imageContainer, backgroundPosition, size, bounds, borderLeft, borderTop) {\r\n    var offsetX = Math.round(bounds.left + backgroundPosition.left + borderLeft), offsetY = Math.round(bounds.top + backgroundPosition.top + borderTop);\r\n    this.setFillStyle(this.ctx.createPattern(this.resizeImage(imageContainer, size), \"repeat\"));\r\n    this.ctx.translate(offsetX, offsetY);\r\n    this.ctx.fill();\r\n    this.ctx.translate(-offsetX, -offsetY);\r\n};\r\n\r\nCanvasRenderer.prototype.renderBackgroundGradient = function(gradientImage, bounds) {\r\n    if (gradientImage instanceof LinearGradientContainer) {\r\n        var gradient = this.ctx.createLinearGradient(\r\n            bounds.left + bounds.width * gradientImage.x0,\r\n            bounds.top + bounds.height * gradientImage.y0,\r\n            bounds.left +  bounds.width * gradientImage.x1,\r\n            bounds.top +  bounds.height * gradientImage.y1);\r\n        gradientImage.colorStops.forEach(function(colorStop) {\r\n            gradient.addColorStop(colorStop.stop, colorStop.color.toString());\r\n        });\r\n        this.rectangle(bounds.left, bounds.top, bounds.width, bounds.height, gradient);\r\n    }\r\n};\r\n\r\nCanvasRenderer.prototype.resizeImage = function(imageContainer, size) {\r\n    var image = imageContainer.image;\r\n    if(image.width === size.width && image.height === size.height) {\r\n        return image;\r\n    }\r\n\r\n    var ctx, canvas = document.createElement('canvas');\r\n    canvas.width = size.width;\r\n    canvas.height = size.height;\r\n    ctx = canvas.getContext(\"2d\");\r\n    ctx.drawImage(image, 0, 0, image.width, image.height, 0, 0, size.width, size.height );\r\n    return canvas;\r\n};\r\n\r\nfunction hasEntries(array) {\r\n    return array.length > 0;\r\n}\r\n\r\n}).call({}, typeof(window) !== \"undefined\" ? window : undefined, typeof(document) !== \"undefined\" ? document : undefined);\n/**\r\n * @author v.lugovsky\r\n * created on 16.12.2015\r\n */\r\n(function () {\r\n  'use strict';\r\n\r\n  angular.module('BlurAdmin.pages.materias')\r\n\r\n  .controller('materiasController', ['$scope','aulasFactory','selecionadasFactory', '$state', '$stateParams','ngDialog','saveClassFactory','deleteClassFactory', function ($scope, aulasFactory,selecionadasFactory,$state,$stateParams,ngDialog,saveClassFactory,deleteClassFactory) {\r\n\r\n           $scope.dynamicPopover = {\r\n            content: '',\r\n            templateUrl: 'myPopoverTemplate.html',\r\n            title: 'fds'\r\n          };\r\n\r\n        //dropdown\r\n\r\n        $scope.nomeDoCurso= \"escolha um curso\";\r\n\r\n        $scope.mudaCurso = function(e){\r\n            $scope.nomeDoCurso = e;\r\n            $scope.chamarMaterias(e);\r\n             $scope.mudaView();\r\n        }\r\n\r\n        $scope.mudaView = function(){\r\n          if( $scope.nomeDoCurso == \"escolha um curso\"){\r\n            $scope.mostraPagina = false;\r\n          }else{\r\n            $scope.mostraPagina = true;\r\n          }\r\n        }\r\n        $scope.status = {\r\n          isopen: false\r\n        };\r\n\r\n        $scope.toggled = function(open) {\r\n          $log.log('Dropdown is now: ', open);\r\n        };\r\n\r\n        $scope.toggleDropdown = function($event) {\r\n          $event.preventDefault();\r\n          $event.stopPropagation();\r\n          $scope.status.isopen = !$scope.status.isopen;\r\n        };\r\n\r\n        $scope.appendToEl = angular.element(document.querySelector('#dropdown-long-content'));\r\n\r\n\r\n        $scope.items = [\r\n\r\n          { curso:\"Engenharia Aeronáutica\",   logo:\"assets/img/icones-curso/aeronautica.png\"},\r\n          // { curso:'Engenharia Ambiental',     logo:'assets/img/icones-curso/ambiental.png'}, \r\n          { curso:'Engenharia de Controle e Automação',  logo:'assets/img/icones-curso/automacao.png'},\r\n          { curso:'Engenharia Biomédica',     logo:'assets/img/icones-curso/biomedica.png'},  \r\n          // { curso:'Engenharia Civíl',         logo:'assets/img/icones-curso/civil.png'}, \r\n          { curso:'Engenharia de Computação', logo:'assets/img/icones-curso/computacao.png'}, \r\n          { curso:'Engenharia Elétrica',      logo:'assets/img/icones-curso/eletrica.png'}, \r\n          { curso:'Engenharia Mecânica',      logo:'assets/img/icones-curso/mecanica.png'}, \r\n          { curso:'Engenharia Mecatrônica',   logo:'assets/img/icones-curso/mecatronica.png'}, \r\n          { curso:'Engenharia Química',       logo:'assets/img/icones-curso/quimica.png'} \r\n\r\n        ];\r\n\r\n        $scope.itemPaths = [\r\n          \r\n        ];\r\n\r\n        //fim dropdown          \r\n\r\n\r\n\r\n        $scope.aulas= {};\r\n        $scope.selecionadas = [];\r\n        $scope.periodoOptSeleciondads = [];\r\n  \r\n        $scope.agenda = selecionadasFactory.query({\r\n            id: $stateParams.id\r\n        })\r\n        .$promise.then(\r\n            function (response) {\r\n                \r\n          //    console.log(response)\r\n              if (response.length > 0){\r\n                for(var i=0; i<response[0].aulas.length; i++ ){\r\n                    $scope.selecionadas.push(response[0].aulas[i]) \r\n                }\r\n                \r\n             //   console.log($scope.selecionadas);\r\n             }\r\n                  \r\n                \r\n            },\r\n            function (response) {\r\n                $scope.message = \"Error: \" + response.status + \" \" + response.statusText;\r\n            }\r\n        );\r\n\r\n        $scope.chamarMaterias = function(e){\r\n          $scope.carregandoMateria = true; \r\n\r\n          aulasFactory.query(\r\n            function (response) {\r\n\r\n              \r\n\r\n\r\n            $scope.aulas = response;\r\n\r\n            $scope.cursoSelecionado = [];\r\n\r\n     //       console.log(\"aulas ofertadas\");\r\n       //     console.log($scope.aulas);\r\n            \r\n             for(var i=0; i<$scope.aulas.length; i++){\r\n\r\n              if($scope.aulas[i].curso == e){\r\n               $scope.cursoSelecionado.push($scope.aulas[i]);\r\n              }\r\n\r\n            }\r\n\r\n            $scope.nomes1 = [];\r\n            $scope.periodo1 = [];\r\n            $scope.periodo2 = [];\r\n            $scope.periodo3 = [];\r\n            $scope.periodo4 = [];\r\n            $scope.periodo5 = [];\r\n            $scope.periodo6 = [];\r\n            $scope.periodo7 = [];\r\n            $scope.periodo8 = [];\r\n            $scope.periodo9 = [];\r\n            $scope.periodo10 = [];\r\n            $scope.periodoOpt = [];\r\n\r\n\r\n             for(var i=0; i<$scope.cursoSelecionado.length; i++){\r\n                 \r\n                if($scope.cursoSelecionado[i].periodo == \"1\"){\r\n                   $scope.periodo1.push($scope.cursoSelecionado[i]);\r\n            \r\n                }\r\n                else if($scope.cursoSelecionado[i].periodo == \"2\"){\r\n                   $scope.periodo2.push($scope.cursoSelecionado[i]);\r\n\r\n                }\r\n                else if($scope.cursoSelecionado[i].periodo == \"3\"){\r\n                   $scope.periodo3.push($scope.cursoSelecionado[i]);\r\n\r\n                }\r\n                else if($scope.cursoSelecionado[i].periodo == \"4\"){\r\n                   $scope.periodo4.push($scope.cursoSelecionado[i]);\r\n\r\n                }\r\n                else if($scope.cursoSelecionado[i].periodo == \"5\"){\r\n                   $scope.periodo5.push($scope.cursoSelecionado[i]);\r\n\r\n                }\r\n                else if($scope.cursoSelecionado[i].periodo == \"6\"){\r\n                   $scope.periodo6.push($scope.cursoSelecionado[i]);\r\n\r\n                }\r\n                else if($scope.cursoSelecionado[i].periodo == \"7\"){\r\n                   $scope.periodo7.push($scope.cursoSelecionado[i]);\r\n\r\n                }\r\n                else if($scope.cursoSelecionado[i].periodo == \"8\"){\r\n                   $scope.periodo8.push($scope.cursoSelecionado[i]);\r\n\r\n                }\r\n                else if($scope.cursoSelecionado[i].periodo == \"9\"){\r\n                   $scope.periodo9.push($scope.cursoSelecionado[i]);\r\n\r\n                }\r\n                else if($scope.cursoSelecionado[i].periodo == \"10\"){\r\n                   $scope.periodo10.push($scope.cursoSelecionado[i]);\r\n\r\n                }\r\n                else if($scope.cursoSelecionado[i].periodo == \"Opt\"){\r\n                   $scope.periodoOpt.push($scope.cursoSelecionado[i]);\r\n\r\n                }\r\n              }\r\n\r\n        $scope.vazio;\r\n\r\n        $scope.tabs = [\r\n          { title:'1° Semestre',  content: $scope.periodo1},\r\n          { title:'2° Semestre',  content: $scope.periodo2},\r\n          { title:'3° Semestre',  content: $scope.periodo3},\r\n          { title:'4° Semestre',  content: $scope.periodo4},\r\n          { title:'5° Semestre',  content: $scope.periodo5},\r\n          { title:'6° Semestre',  content: $scope.periodo6},\r\n          { title:'7° Semestre',  content: $scope.periodo7},\r\n          { title:'8° Semestre',  content: $scope.periodo8},\r\n          { title:'9° Semestre',  content: $scope.periodo9},\r\n          { title:'10° Semestre', content: $scope.periodo10},\r\n          { title:'Optativas',    content: $scope.periodoOpt}\r\n\r\n\r\n        ];\r\n\r\n       $scope.preparaEstatistica(e);\r\n\r\n\r\n       $scope.carregandoMateria = false;\r\n\r\n        },\r\n        function (response) {\r\n            $scope.message = \"Error: \" + response.status + \" \" + response.statusText;\r\n        });\r\n        }\r\n\r\n\r\n        $scope.preparaEstatistica = function(cursoAtual){\r\n\r\n         $scope.selecionadasDoCurso = []; //quais materias de um certo curso foram selecionadas\r\n         $scope.periodoOptSeleciondads = []; //quais materias de um certo curso foram selecionadas e sao Optativas\r\n        \r\n        if ($scope.selecionadas !== null){ \r\n          \r\n          for(var i=0; i<$scope.selecionadas.length; i++ ){ // todas as materias que foram selecionadas pelo user\r\n            if($scope.selecionadas[i].curso == cursoAtual){\r\n              $scope.selecionadasDoCurso.push($scope.selecionadas[i]); //quais materias de um certo curso foram selecionadas\r\n            }                  \r\n          }        \r\n\r\n          for(var i=0; i<$scope.selecionadasDoCurso.length; i++ ){\r\n            if($scope.selecionadasDoCurso[i].periodo == \"Opt\"){\r\n              $scope.periodoOptSeleciondads.push($scope.selecionadasDoCurso[i]); //materias do curso que selecionadas e sao optativas\r\n            }\r\n          }\r\n          \r\n        }\r\n\r\n        //estatistica\r\n        $scope.calcula();\r\n\r\n        }\r\n\r\n                 \r\n      $scope.calcula = function(){\r\n        $scope.feitas = 0;\r\n\r\n        $scope.total = $scope.cursoSelecionado.length - $scope.periodoOpt.length;  // total de materias obrigatorios\r\n        $scope.feitas = $scope.selecionadasDoCurso.length - $scope.periodoOptSeleciondads.length; //total de materias obrigatorias feitas\r\n\r\n        //horas totais\r\n\r\n         $scope.horastotais = 0\r\n         $scope.horasselecionadas = 0;\r\n         $scope.horastotaisOpt = 0;\r\n\r\n        for(var i=0; i<$scope.cursoSelecionado.length; i++){\r\n            $scope.horastotais =   $scope.horastotais + $scope.cursoSelecionado[i].cargaHorariaTeorica + $scope.cursoSelecionado[i].cargaHorariaPratica \r\n        }\r\n\r\n        for(var i=0; i<$scope.selecionadasDoCurso.length; i++){\r\n            $scope.horasselecionadas =   $scope.horasselecionadas + $scope.selecionadasDoCurso[i].cargaHorariaTeorica + $scope.selecionadasDoCurso[i].cargaHorariaPratica \r\n        }\r\n\r\n        for(var i=0; i<$scope.periodoOptSeleciondads.length; i++){\r\n            $scope.horastotaisOpt =   $scope.horastotaisOpt + $scope.periodoOptSeleciondads[i].cargaHorariaTeorica + $scope.periodoOptSeleciondads[i].cargaHorariaPratica \r\n        }\r\n\r\n\r\n        $scope.percentualMateriasFeitas = $scope.feitas/$scope.total * 100;\r\n        $scope.percentualHorasFeitas = $scope.horasselecionadas/$scope.horastotais * 100;\r\n        $scope.percentualHorasOptativasFeitas = $scope.horastotaisOpt/180 * 100;\r\n\r\n //       console.log(\"percentualMateriasFeitas \" + $scope.percentualMateriasFeitas);\r\n //       console.log(\"percentualHorasFeitas \" + $scope.percentualHorasFeitas);\r\n //       console.log(\"percentualHorasOptativasFeitas \" + $scope.percentualHorasOptativasFeitas);\r\n      }\r\n\r\n\r\n      \r\n      $scope.adiciona = function(e){\r\n\r\n      var flag = false;\r\n      $scope.itera = -1;\r\n\r\n      for($scope.itera=0; $scope.itera< $scope.selecionadas.length; $scope.itera++ ){\r\n        if ($scope.selecionadas[$scope.itera]._id === e._id){\r\n          flag = true;\r\n          break;\r\n        }\r\n      }\r\n\r\n      if (!flag){\r\n        $scope.selecionadas.push(e);\r\n   //     console.log(\"adicionando\");\r\n        selecionadasFactory.save({aula: e._id});\r\n        $scope.preparaEstatistica($scope.nomeDoCurso);\r\n\r\n      }\r\n      else{\r\n        $scope.deleta(e)\r\n\r\n  \r\n      }\r\n\r\n //     console.log($scope.selecionadas);\r\n    };\r\n\r\n\r\n    $scope.deleta = function(materia){\r\n\r\n//      console.log(\"materia deleta\")\r\n//      console.log(materia._id);\r\n\r\n      // if(materia.periodo == \"Opt\"){\r\n      //   for(var i=0; i< $scope.periodoOptSeleciondads.length; i++){\r\n      //     console.log(\"entrei\");\r\n      //     if(materia._id ===  $scope.periodoOptSeleciondads[i]._id){\r\n\r\n      //       $scope.periodoOptSeleciondads.splice(i,1);\r\n      //       break;\r\n      //       console.log('on delete periodo opt selecionadas');\r\n      //       console.log($scope.periodoOptSeleciondads);\r\n      //     }\r\n\r\n      //   }\r\n           \r\n       \r\n      //  }\r\n\r\n      for(var i=0; i< $scope.selecionadas.length; i++ ){\r\n        if ($scope.selecionadas[i]._id === materia._id){\r\n  //        console.log(\"vou deletar \" + materia.nome)\r\n          $scope.selecionadas.splice(i, 1);\r\n          selecionadasFactory.delete({id: materia._id});\r\n          break;\r\n        }\r\n      }\r\n\r\n    \r\n\r\n//      console.log(\"deletando\");\r\n      \r\n      $scope.preparaEstatistica($scope.nomeDoCurso)\r\n\r\n      \r\n      };\r\n\r\n    $scope.functionThatReturnsStyle = function(e) {\r\n      var style1 = {'background-color':'#64ff53'}\r\n      var style2 = {'background-color':'white'}\r\n      \r\n      var flag = false;\r\n      \r\n      for(var i=0; i< $scope.selecionadas.length; i++ ){\r\n        if ($scope.selecionadas[i]._id === e._id){\r\n          flag = true;\r\n          break;\r\n        }\r\n      }\r\n\r\n      if(flag){\r\n    \r\n        return style1;\r\n      }else{\r\n\r\n        return style2;\r\n      }\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n }])\r\n\r\n})();\r\n\n/**\n * @author a.demeshko\n * created on 21.01.2016\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.pages.profile')\n    .controller('ProfileModalCtrl', ProfileModalCtrl);\n\n  /** @ngInject */\n  function ProfileModalCtrl($scope, $uibModalInstance) {\n    $scope.link = '';\n    $scope.ok = function () {\n      $uibModalInstance.close($scope.link);\n    };\n  }\n\n})();\n/**\n * @author v.lugovsky\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.pages.profile')\n    .controller('ProfilePageCtrl', ProfilePageCtrl);\n\n  /** @ngInject */\n  function ProfilePageCtrl($scope, fileReader, $filter, $uibModal) {\n    $scope.picture = $filter('profilePicture')('Nasta');\n\n    $scope.removePicture = function () {\n      $scope.picture = $filter('appImage')('theme/no-photo.png');\n      $scope.noPicture = true;\n    };\n\n    $scope.uploadPicture = function () {\n      var fileInput = document.getElementById('uploadFile');\n      fileInput.click();\n\n    };\n\n    $scope.socialProfiles = [\n      {\n        name: 'Facebook',\n        href: 'https://www.facebook.com/akveo/',\n        icon: 'socicon-facebook'\n      },\n      {\n        name: 'Twitter',\n        href: 'https://twitter.com/akveo_inc',\n        icon: 'socicon-twitter'\n      },\n      {\n        name: 'Google',\n        icon: 'socicon-google'\n      },\n      {\n        name: 'LinkedIn',\n        href: 'https://www.linkedin.com/company/akveo',\n        icon: 'socicon-linkedin'\n      },\n      {\n        name: 'GitHub',\n        href: 'https://github.com/akveo',\n        icon: 'socicon-github'\n      },\n      {\n        name: 'StackOverflow',\n        icon: 'socicon-stackoverflow'\n      },\n      {\n        name: 'Dribbble',\n        icon: 'socicon-dribble'\n      },\n      {\n        name: 'Behance',\n        icon: 'socicon-behace'\n      }\n    ];\n\n    $scope.unconnect = function (item) {\n      item.href = undefined;\n    };\n\n    $scope.showModal = function (item) {\n      $uibModal.open({\n        animation: false,\n        controller: 'ProfileModalCtrl',\n        templateUrl: 'app/pages/profile/profileModal.html'\n      }).result.then(function (link) {\n          item.href = link;\n        });\n    };\n\n    $scope.getFile = function () {\n      fileReader.readAsDataUrl($scope.file, $scope)\n          .then(function (result) {\n            $scope.picture = result;\n          });\n    };\n\n    $scope.switches = [true, true, false, true, true, false];\n  }\n\n})();\n\n/**\n * @author v.lugovksy\n * created on 15.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components')\n      .config(toastrLibConfig);\n\n  /** @ngInject */\n  function toastrLibConfig(toastrConfig) {\n    angular.extend(toastrConfig, {\n      closeButton: true,\n      closeHtml: '<button>&times;</button>',\n      timeOut: 5000,\n      autoDismiss: false,\n      containerId: 'toast-container',\n      maxOpened: 0,\n      newestOnTop: true,\n      positionClass: 'toast-top-right',\n      preventDuplicates: false,\n      preventOpenDuplicates: false,\n      target: 'body'\n    });\n  }\n})();\n/**\n * Change top \"Daily Downloads\", \"Active Users\" values with animation effect\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .directive('animatedChange', animatedChange);\n\n  /** @ngInject */\n  function animatedChange($timeout) {\n    return {\n      link: function (scope, element) {\n        $timeout(function () {\n          var newValue = element.attr('new-value');\n          var oldvalue = parseInt(element.html());\n\n          function changeValue(val) {\n            $timeout(function () {\n              element.html(val);\n            }, 30);\n          }\n\n          if (newValue > oldvalue) {\n            for (var i = oldvalue; i <= newValue; i++) {\n              changeValue(i);\n            }\n          } else {\n            for (var j = oldvalue; j >= newValue; j--) {\n              changeValue(j);\n            }\n          }\n          $timeout(function () {\n            element.next().find('i').addClass('show-arr');\n          }, 500);\n        }, 3500);\n      }\n    };\n  }\n\n})();\n/**\n * Auto expand textarea field\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .directive('autoExpand', autoExpand);\n\n  /** @ngInject */\n  function autoExpand() {\n    return {\n      restrict: 'A',\n      link: function ($scope, elem) {\n        elem.bind('keydown', function ($event) {\n          var element = $event.target;\n          $(element).height(0);\n          var height = $(element)[0].scrollHeight;\n          height = (height < 16) ? 16 : height;\n          $(element).height(height);\n        });\n\n        // Expand the textarea as soon as it is added to the DOM\n        setTimeout(function () {\n          var element = elem;\n          $(element).height(0);\n          var height = $(element)[0].scrollHeight;\n          height = (height < 16) ? 16 : height;\n          $(element).height(height);\n        }, 0)\n      }\n    };\n  }\n\n})();\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .directive('autoFocus', autoFocus);\n\n  /** @ngInject */\n  function autoFocus($timeout, $parse) {\n    return {\n      link: function (scope, element, attrs) {\n        var model = $parse(attrs.autoFocus);\n        scope.$watch(model, function (value) {\n          if (value === true) {\n            $timeout(function () {\n              element[0].focus();\n              element[0].select();\n            });\n          }\n        });\n        element.bind('blur', function () {\n          scope.$apply(model.assign(scope, false));\n        });\n      }\n    };\n  }\n\n})();\n/**\n * @author v.lugovsky\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .directive('includeWithScope', includeWithScope);\n\n  /** @ngInject */\n  function includeWithScope() {\n    return {\n      restrict: 'AE',\n      templateUrl: function(ele, attrs) {\n        return attrs.includeWithScope;\n      }\n    };\n  }\n\n})();\n\n/**\n * @author a.demeshko\n * created on 22.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n    .directive('ionSlider', ionSlider);\n\n  /** @ngInject */\n  function ionSlider($timeout) {\n    return {\n      restrict: 'EA',\n      template: '<div></div>',\n      replace: true,\n      scope: {\n        min: '=',\n        max: '=',\n        type: '@',\n        prefix: '@',\n        maxPostfix: '@',\n        prettify: '=',\n        prettifySeparator: '@',\n        grid: '=',\n        gridMargin: '@',\n        postfix: '@',\n        step: '@',\n        hideMinMax: '@',\n        hideFromTo: '@',\n        from: '=',\n        to: '=',\n        disable: '=',\n        onChange: '=',\n        onFinish: '=',\n        values: '=',\n        timeout: '@'\n      },\n      link: function ($scope, $element) {\n            $element.ionRangeSlider({\n              min: $scope.min,\n              max: $scope.max,\n              type: $scope.type,\n              prefix: $scope.prefix,\n              maxPostfix: $scope.maxPostfix,\n              prettify_enabled: $scope.prettify,\n              prettify_separator: $scope.prettifySeparator,\n              grid: $scope.grid,\n              gridMargin: $scope.gridMargin,\n              postfix: $scope.postfix,\n              step: $scope.step,\n              hideMinMax: $scope.hideMinMax,\n              hideFromTo: $scope.hideFromTo,\n              from: $scope.from,\n              to: $scope.to,\n              disable: $scope.disable,\n              onChange: $scope.onChange,\n              onFinish: $scope.onFinish,\n              values: $scope.values\n            });\n\n            $scope.$watch('min', function (value) {\n              $timeout(function () {\n                $element.data(\"ionRangeSlider\").update({min: value});\n              });\n            }, true);\n            $scope.$watch('max', function (value) {\n              $timeout(function () {\n                $element.data(\"ionRangeSlider\").update({max: value});\n              });\n            });\n            $scope.$watch('from', function (value) {\n              $timeout(function () {\n                $element.data(\"ionRangeSlider\").update({from: value});\n              });\n            });\n            $scope.$watch('to', function (value) {\n              $timeout(function () {\n                $element.data(\"ionRangeSlider\").update({to: value});\n              });\n            });\n            $scope.$watch('disable', function (value) {\n              $timeout(function () {\n                $element.data(\"ionRangeSlider\").update({disable: value});\n              });\n            });\n      }\n    };\n  }\n\n})();\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .directive('ngFileSelect', ngFileSelect);\n\n  /** @ngInject */\n  function ngFileSelect() {\n    return {\n      link: function ($scope, el) {\n        el.bind('change', function (e) {\n          $scope.file = (e.srcElement || e.target).files[0];\n          $scope.getFile();\n        })\n      }\n    }\n  }\n\n})();\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .directive('scrollPosition', scrollPosition);\n\n  /** @ngInject */\n  function scrollPosition() {\n    return {\n      scope: {\n        scrollPosition: '=',\n        maxHeight: '='\n      },\n      link: function (scope) {\n        $(window).on('scroll', function() {\n          var scrollTop = $(window).scrollTop() > scope.maxHeight;\n          if (scrollTop !== scope.prevScrollTop) {\n            scope.$apply(function() {\n              scope.scrollPosition = scrollTop;\n            });\n          }\n          scope.prevScrollTop = scrollTop;\n        });\n      }\n    };\n  }\n\n})();\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .directive('trackWidth', trackWidth);\n\n  /** @ngInject */\n  function trackWidth() {\n    return {\n      scope: {\n        trackWidth: '=',\n        minWidth: '=',\n      },\n      link: function (scope, element) {\n        scope.trackWidth = $(element).width() < scope.minWidth;\n        scope.prevTrackWidth = scope.trackWidth;\n\n        $(window).resize(function() {\n          var trackWidth = $(element).width() < scope.minWidth;\n          if (trackWidth !== scope.prevTrackWidth) {\n            scope.$apply(function() {\n              scope.trackWidth = trackWidth;\n            });\n          }\n          scope.prevTrackWidth = trackWidth;\n        });\n      }\n    };\n  }\n\n})();\n/**\n * Animated load block\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .directive('zoomIn', zoomIn);\n\n  /** @ngInject */\n  function zoomIn($timeout, $rootScope) {\n    return {\n      restrict: 'A',\n      link: function ($scope, elem) {\n        var delay = 1000;\n\n        if ($rootScope.$pageFinishedLoading) {\n          delay = 100;\n        }\n\n        $timeout(function () {\n          elem.removeClass('full-invisible');\n          elem.addClass('animated zoomIn');\n        }, delay);\n      }\n    };\n  }\n\n})();\n(function () {\r\n  'use strict';\r\n\r\nangular.module('BlurAdmin.theme')\r\n\r\n  .constant(\"baseURL\", \"http://localhost:80/\")\r\n\r\n .factory('$localStorage', ['$window', function ($window) {\r\n    return {\r\n        store: function (key, value) {\r\n            $window.localStorage[key] = value;\r\n        },\r\n        get: function (key, defaultValue) {\r\n            return $window.localStorage[key] || defaultValue;\r\n        },\r\n        remove: function (key) {\r\n            $window.localStorage.removeItem(key);\r\n        },\r\n        storeObject: function (key, value) {\r\n            $window.localStorage[key] = JSON.stringify(value);\r\n        },\r\n        getObject: function (key, defaultValue) {\r\n            return JSON.parse($window.localStorage[key] || defaultValue);\r\n        }\r\n    }\r\n}])\r\n\r\n .factory('AuthFactory', ['$resource', '$http', '$localStorage', '$rootScope', '$window', 'baseURL', 'ngDialog','$state', function($resource, $http, $localStorage, $rootScope, $window, baseURL, ngDialog, $state){\r\n    \r\n    var authFac = {};\r\n    var TOKEN_KEY = 'Token';\r\n    var isAuthenticated = false;\r\n    var username = '';\r\n    var authToken = undefined;\r\n    \r\n\r\n  function loadUserCredentials() {\r\n    var credentials = $localStorage.getObject(TOKEN_KEY,'{}');\r\n    //alert(\"Carreguei: \" + JSON.stringify(credentials));\r\n\r\n    if (credentials.username != undefined) {\r\n      useCredentials(credentials);\r\n    }\r\n  }\r\n \r\n  function storeUserCredentials(credentials) {\r\n    $localStorage.storeObject(TOKEN_KEY, credentials);\r\n    useCredentials(credentials);\r\n  }\r\n \r\n  function useCredentials(credentials) {\r\n    isAuthenticated = true;\r\n    username = credentials.username;\r\n    authToken = credentials.token;\r\n \r\n    // Set the token as header for your requests!\r\n    $http.defaults.headers.common['x-access-token'] = authToken;\r\n  }\r\n \r\n  function destroyUserCredentials() {\r\n    authToken = undefined;\r\n    username = '';\r\n    isAuthenticated = false;\r\n    $http.defaults.headers.common['x-access-token'] = authToken;\r\n    $localStorage.remove(TOKEN_KEY);\r\n  }\r\n     \r\n    authFac.login = function(loginData) {\r\n        \r\n        $resource(baseURL + \"users/login\")\r\n        .save(loginData,\r\n           function(response) {\r\n              storeUserCredentials({username:loginData.username, token: response.token});\r\n              $rootScope.$broadcast('login:Successful');\r\n              $state.go($state.current, {}, {reload: true});\r\n           },\r\n           function(response){\r\n              isAuthenticated = false;\r\n            \r\n              var message = '\\\r\n                <div class=\"ngdialog-message\">\\\r\n                <div><h3>Login Unsuccessful</h3></div>' +\r\n                  '<div><p>' +  response.data.err.message + '</p><p>' +\r\n                    response.data.err.name + '</p></div>' +\r\n                '<div class=\"ngdialog-buttons\">\\\r\n                    <button type=\"button\" class=\"ngdialog-button ngdialog-button-primary\" ng-click=confirm(\"OK\")>OK</button>\\\r\n                </div>'\r\n            \r\n                ngDialog.openConfirm({ template: message, plain: 'true'});\r\n           }\r\n        \r\n        );\r\n\r\n    };\r\n    \r\n    authFac.logout = function() {\r\n        $resource(baseURL + \"users/logout\").get(function(response){\r\n        });\r\n        destroyUserCredentials();\r\n    };\r\n    \r\n    authFac.register = function(registerData) {\r\n        \r\n        $resource(baseURL + \"users/register\")\r\n        .save(registerData,\r\n           function(response) {\r\n              authFac.login({username:registerData.username, password:registerData.password});\r\n            if (registerData.rememberMe) {\r\n                $localStorage.storeObject('userinfo',\r\n                    {username:registerData.username, password:registerData.password});\r\n            }\r\n           \r\n              $rootScope.$broadcast('registration:Successful');\r\n           },\r\n           function(response){\r\n            \r\n              var message = '\\\r\n                <div class=\"ngdialog-message\">\\\r\n                <div><h3>Registration Unsuccessful</h3></div>' +\r\n                  '<div><p>' +  response.data.err.message + \r\n                  '</p><p>' + response.data.err.name + '</p></div>';\r\n\r\n                ngDialog.openConfirm({ template: message, plain: 'true'});\r\n\r\n           }\r\n        \r\n        );\r\n    };\r\n    \r\n    authFac.isAuthenticated = function() {\r\n        return isAuthenticated;\r\n    };\r\n    \r\n    authFac.getUsername = function() {\r\n        return username;  \r\n    };\r\n\r\n    loadUserCredentials();\r\n    \r\n    return authFac;\r\n    \r\n}])\r\n;\r\n\r\n})();\n/**\n * @author v.lugovsky\n * created on 03.05.2016\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .service('baUtil', baUtil);\n\n  /** @ngInject */\n  function baUtil() {\n\n    this.isDescendant = function(parent, child) {\n      var node = child.parentNode;\n      while (node != null) {\n        if (node == parent) {\n          return true;\n        }\n        node = node.parentNode;\n      }\n      return false;\n    };\n\n    this.hexToRGB = function(hex, alpha) {\n      var r = parseInt( hex.slice(1,3), 16 );\n      var g = parseInt( hex.slice(3,5), 16 );\n      var b = parseInt( hex.slice(5,7), 16 );\n      return 'rgba(' + r + ', ' + g + ', ' + b + ', ' + alpha + ')';\n    }\n  }\n})();\n\n/**\n * @author v.lugovksy\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .service('fileReader', fileReader);\n\n  /** @ngInject */\n  function fileReader($q) {\n    var onLoad = function(reader, deferred, scope) {\n      return function () {\n        scope.$apply(function () {\n          deferred.resolve(reader.result);\n        });\n      };\n    };\n\n    var onError = function (reader, deferred, scope) {\n      return function () {\n        scope.$apply(function () {\n          deferred.reject(reader.result);\n        });\n      };\n    };\n\n    var onProgress = function(reader, scope) {\n      return function (event) {\n        scope.$broadcast('fileProgress',\n            {\n              total: event.total,\n              loaded: event.loaded\n            });\n      };\n    };\n\n    var getReader = function(deferred, scope) {\n      var reader = new FileReader();\n      reader.onload = onLoad(reader, deferred, scope);\n      reader.onerror = onError(reader, deferred, scope);\n      reader.onprogress = onProgress(reader, scope);\n      return reader;\n    };\n\n    var readAsDataURL = function (file, scope) {\n      var deferred = $q.defer();\n\n      var reader = getReader(deferred, scope);\n      reader.readAsDataURL(file);\n\n      return deferred.promise;\n    };\n\n    return {\n      readAsDataUrl: readAsDataURL\n    };\n  }\n})();\n/**\n * @author a.demeshko\n * created on 3/1/16\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n    .service('preloader', preloader);\n\n  /** @ngInject */\n  function preloader($q) {\n    return {\n      loadImg: function (src) {\n        var d = $q.defer();\n        var img = new Image();\n        img.src = src;\n        img.onload = function(){\n          d.resolve();\n        };\n        return d.promise;\n      },\n      loadAmCharts : function(){\n        var d = $q.defer();\n        AmCharts.ready(function(){\n          d.resolve();\n        });\n        return d.promise;\n      }\n    }\n  }\n\n})();\n(function () {\r\n  'use strict';\r\n\r\nangular.module('BlurAdmin.theme')\r\n\r\n  .constant(\"baseURL\", \"http://localhost:80/\")\r\n\r\n  .factory('aulasFactory', ['$resource', 'baseURL', function ($resource, baseURL) {\r\n\r\n          return $resource(baseURL + \"classes\", null, {\r\n            'query':  {method:'GET', isArray: true}\r\n          });\r\n\r\n  }])\r\n\r\n  .factory('agendasFactory', ['$resource', 'baseURL','$http','$localStorage', function ($resource, baseURL,$http,$localStorage) {\r\n         \r\n         var credentials = $localStorage.getObject('Token','{}');\r\n          $http.defaults.headers.common['x-access-token'] = credentials.token;\r\n            return $resource(baseURL + \"agendas/:id\", null, {\r\n              'query':  {method:'GET', isArray: true}\r\n            });\r\n\r\n }])\r\n\r\n.factory('criarAgendaFactory', ['$resource', '$http', '$localStorage', '$rootScope', '$window', 'baseURL', 'ngDialog','$state', function( $resource, $http, $localStorage, $rootScope, $window, baseURL, ngDialog,$state) {\r\n\r\n    var criarAgenda = {}\r\n\r\n    criarAgenda.criar = function (dado) {\r\n             $resource(baseURL + \"agendas\")\r\n              .save(dado,\r\n                  function(response) {\r\n                    $rootScope.$broadcast('registration:Successful');\r\n                    $state.go($state.current, {}, {reload: true});\r\n                  },\r\n                  function(response) {\r\n                    var message = '\\\r\n                        <div class=\"ngdialog-message\">\\\r\n                        <div><h3>Registration Unsuccessful</h3></div>';\r\n                    ngDialog.openConfirm({ template: message, plain: 'true'});\r\n\r\n                  }\r\n              )\r\n          }\r\n\r\n    return criarAgenda;\r\n\r\n}])\r\n\r\n .factory('deleteAgendaFactory', ['$resource', '$http', '$localStorage', '$rootScope', '$window', 'baseURL', 'ngDialog','$state', function( $resource, $http, $localStorage, $rootScope, $window, baseURL, ngDialog,$state) {\r\n\r\n\r\n   return $resource(baseURL + \"agendas/:id/remove\" , null, {\r\n              'query':  {\r\n                method:'GET', isArray: true\r\n              },\r\n\r\n              \r\n            });\r\n\r\n}])\r\n\r\n  .factory('editNomeAgendaFactory', ['$resource', '$http', '$localStorage', '$rootScope', '$window', 'baseURL', 'ngDialog','$state', function( $resource, $http, $localStorage, $rootScope, $window, baseURL, ngDialog,$state) {\r\n\r\n      var editNome = {}\r\n\r\n      editNome.mudar = function (dado, idd) {\r\n               $resource(baseURL + \"agendas/:id/editNome\", { id: idd })\r\n                .save(dado,\r\n                    function(response) {\r\n                      $state.go($state.current, {}, {reload: true});\r\n                    },\r\n                    function(response) {\r\n                      var message = '\\\r\n                          <div class=\"ngdialog-message\">\\\r\n                          <div><h3>Registration Unsuccessful</h3></div>';\r\n                      ngDialog.openConfirm({ template: message, plain: 'true'});\r\n\r\n                    }\r\n                )\r\n            }\r\n\r\n      return editNome;\r\n\r\n}])\r\n\r\n .factory('saveClassFactory', ['$resource', '$http', '$localStorage', '$rootScope', '$window', 'baseURL', 'ngDialog','$state', function( $resource, $http, $localStorage, $rootScope, $window, baseURL, ngDialog,$state) {\r\n\r\n  // return $resource(baseURL + \"agendas/:id\", {id:\"@Id\"}, {\r\n  //           'update': {\r\n  //               method: 'PUT'\r\n  //           }\r\n  //       });\r\n  \r\n\r\n      var saveClass = {};\r\n\r\n      saveClass.salvar = function(dado, idd){\r\n        // console.log(\"dado eh\");\r\n        // console.log(dado);\r\n\r\n\r\n        $resource(baseURL + \"agendas/\" + idd)\r\n          .save(dado,\r\n            function(response) {\r\n  //            console.log(\"salvo\");\r\n//              console.log(response);\r\n              },\r\n              function(response){\r\n  //              console.log(\"erro\");\r\n   //             console.log(response)\r\n              }\r\n            )\r\n        }\r\n      \r\n\r\n      return saveClass;\r\n\r\n}])\r\n\r\n  .factory('deleteClassFactory', ['$resource', '$http', '$localStorage', '$rootScope', '$window', 'baseURL', 'ngDialog','$state', function( $resource, $http, $localStorage, $rootScope, $window, baseURL, ngDialog,$state) {\r\n\r\n  return $resource(baseURL + \"agendas/:id/:aulaId\", {id:\"@Id\", aulaId:\"@aulaid\"}, {\r\n            'update': {\r\n                method: 'PUT'\r\n            }\r\n        });\r\n  \r\n\r\n}])\r\n\r\n\r\n.factory('selecionadasFactory', ['$resource', 'baseURL','$http','$localStorage', function ($resource, baseURL,$http,$localStorage) {\r\n\r\n    var credentials = $localStorage.getObject('Token','{}');\r\n    $http.defaults.headers.common['x-access-token'] = credentials.token;\r\n    return $resource(baseURL + \"selecionadas/:id\", null, {\r\n            'update': {\r\n                method: 'PUT'\r\n            },\r\n            'query':  {method:'GET', isArray:true}\r\n        });\r\n\r\n}])\r\n\r\n})();\n/**\n * @author a.demeshko\n * created on 12/21/15\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n    .service('stopableInterval', stopableInterval);\n\n  /** @ngInject */\n  function stopableInterval($window) {\n    return {\n      start: function (interval, calback, time) {\n        function startInterval() {\n          return interval(calback, time);\n        }\n\n        var i = startInterval();\n\n        angular.element($window).bind('focus', function () {\n          if (i) interval.cancel(i);\n          i = startInterval();\n        });\n\n        angular.element($window).bind('blur', function () {\n          if (i) interval.cancel(i);\n        });\n      }\n    }\n  }\n\n})();\n/**\n * @author v.lugovsky\n * created on 23.12.2015\n */\n(function () {\n  'use strict';\n\n  /**\n   * Includes basic panel layout inside of current element.\n   */\n  angular.module('BlurAdmin.theme')\n      .directive('baPanel', baPanel);\n\n  /** @ngInject */\n  function baPanel(baPanel, baConfig) {\n    return angular.extend({}, baPanel, {\n      template: function(el, attrs) {\n        var res = '<div  class=\"panel ' + (baConfig.theme.blur ? 'panel-blur' : '') + ' full-invisible ' + (attrs.baPanelClass || '');\n        res += '\" zoom-in ' + (baConfig.theme.blur ? 'ba-panel-blur' : '') + '>';\n        res += baPanel.template(el, attrs);\n        res += '</div>';\n        return res;\n      }\n    });\n  }\n})();\n\n/**\n * @author v.lugovsky\n * created on 23.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .factory('baPanel', baPanel);\n\n  /** @ngInject */\n  function baPanel() {\n\n    /** Base baPanel directive */\n    return {\n      restrict: 'A',\n      transclude: true,\n      template: function(elem, attrs) {\n        var res = '<div class=\"panel-body\" ng-transclude></div>';\n        if (attrs.baPanelTitle) {\n          var titleTpl = '<div class=\"panel-heading clearfix\"><h3 class=\"panel-title\">' + attrs.baPanelTitle + '</h3></div>';\n          res = titleTpl + res; // title should be before\n        }\n\n        return res;\n      }\n    };\n  }\n\n})();\n\n/**\n * @author v.lugovsky\n * created on 15.01.2016\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .directive('baPanelBlur', baPanelBlur);\n\n  /** @ngInject */\n  function baPanelBlur(baPanelBlurHelper, $window, $rootScope) {\n    var bodyBgSize;\n\n    baPanelBlurHelper.bodyBgLoad().then(function() {\n      bodyBgSize = baPanelBlurHelper.getBodyBgImageSizes();\n    });\n\n    $window.addEventListener('resize', function() {\n      bodyBgSize = baPanelBlurHelper.getBodyBgImageSizes();\n    });\n\n    return {\n      restrict: 'A',\n      link: function($scope, elem) {\n        if(!$rootScope.$isMobile) {\n          baPanelBlurHelper.bodyBgLoad().then(function () {\n            setTimeout(recalculatePanelStyle);\n          });\n          $window.addEventListener('resize', recalculatePanelStyle);\n\n          $scope.$on('$destroy', function () {\n            $window.removeEventListener('resize', recalculatePanelStyle);\n          });\n        }\n\n        function recalculatePanelStyle() {\n          if (!bodyBgSize) {\n            return;\n          }\n          elem.css({\n            backgroundSize: Math.round(bodyBgSize.width) + 'px ' + Math.round(bodyBgSize.height) + 'px',\n            backgroundPosition: Math.floor(bodyBgSize.positionX) + 'px ' + Math.floor(bodyBgSize.positionY) + 'px'\n          });\n        }\n\n      }\n    };\n  }\n\n})();\n\n/**\n * @author v.lugovsky\n * created on 15.01.2016\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .service('baPanelBlurHelper', baPanelBlurHelper);\n\n  /** @ngInject */\n  function baPanelBlurHelper($q) {\n    var res = $q.defer();\n    var computedStyle = getComputedStyle(document.body, ':before');\n    var image = new Image();\n    image.src = computedStyle.backgroundImage.replace(/url\\((['\"])?(.*?)\\1\\)/gi, '$2');\n    image.onerror = function() {\n      res.reject();\n    };\n    image.onload = function() {\n      res.resolve();\n    };\n\n    this.bodyBgLoad = function() {\n      return res.promise;\n    };\n\n    this.getBodyBgImageSizes = function() {\n      var elemW = document.documentElement.clientWidth;\n      var elemH = document.documentElement.clientHeight;\n      if(elemW <= 640) return;\n      var imgRatio = (image.height / image.width);       // original img ratio\n      var containerRatio = (elemH / elemW);     // container ratio\n\n      var finalHeight, finalWidth;\n      if (containerRatio > imgRatio) {\n        finalHeight = elemH;\n        finalWidth = (elemH / imgRatio);\n      } else {\n        finalWidth = elemW;\n        finalHeight = (elemW * imgRatio);\n      }\n      return { width: finalWidth, height: finalHeight, positionX: (elemW - finalWidth)/2, positionY: (elemH - finalHeight)/2};\n    };\n  }\n\n})();\n\n/**\n * @author v.lugovsky\n * created on 23.12.2015\n */\n(function () {\n  'use strict';\n\n  /**\n   * Represents current element as panel, adding all necessary classes.\n   */\n  angular.module('BlurAdmin.theme')\n      .directive('baPanelSelf', baPanelSelf);\n\n  /** @ngInject */\n  function baPanelSelf(baPanel) {\n    return angular.extend({}, baPanel, {\n      link: function(scope, el, attrs) {\n        el.addClass('panel panel-white');\n        if (attrs.baPanelClass) {\n          el.addClass(attrs.baPanelClass);\n        }\n      }\n    });\n  }\n\n})();\n\n/**\n * @author v.lugovksy\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components')\n    .controller('BaSidebarCtrl', BaSidebarCtrl);\n\n  /** @ngInject */\n  function BaSidebarCtrl($scope, baSidebarService) {\n\n    $scope.menuItems = baSidebarService.getMenuItems();\n    $scope.defaultSidebarState = $scope.menuItems[0].stateRef;\n\n    $scope.hoverItem = function ($event) {\n      $scope.showHoverElem = true;\n      $scope.hoverElemHeight =  $event.currentTarget.clientHeight;\n      var menuTopValue = 66;\n      $scope.hoverElemTop = $event.currentTarget.getBoundingClientRect().top - menuTopValue;\n    };\n\n    $scope.$on('$stateChangeSuccess', function () {\n      if (baSidebarService.canSidebarBeHidden()) {\n        baSidebarService.setMenuCollapsed(true);\n      }\n    });\n  }\n})();\n/**\n * @author v.lugovksy\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components')\n      .directive('baSidebar', baSidebar);\n\n  /** @ngInject */\n  function baSidebar($timeout, baSidebarService, baUtil, layoutSizes) {\n    var jqWindow = $(window);\n    return {\n      restrict: 'E',\n      templateUrl: 'app/theme/components/baSidebar/ba-sidebar.html',\n      controller: 'BaSidebarCtrl',\n      link: function(scope, el) {\n\n        scope.menuHeight = el[0].childNodes[0].clientHeight - 84;\n        jqWindow.on('click', _onWindowClick);\n        jqWindow.on('resize', _onWindowResize);\n\n        scope.$on('$destroy', function() {\n          jqWindow.off('click', _onWindowClick);\n          jqWindow.off('resize', _onWindowResize);\n        });\n\n        function _onWindowClick($evt) {\n          if (!baUtil.isDescendant(el[0], $evt.target) &&\n              !$evt.originalEvent.$sidebarEventProcessed &&\n              !baSidebarService.isMenuCollapsed() &&\n              baSidebarService.canSidebarBeHidden()) {\n            $evt.originalEvent.$sidebarEventProcessed = true;\n            $timeout(function () {\n              baSidebarService.setMenuCollapsed(true);\n            }, 10);\n          }\n        }\n\n        // watch window resize to change menu collapsed state if needed\n        function _onWindowResize() {\n          var newMenuCollapsed = baSidebarService.shouldMenuBeCollapsed();\n          var newMenuHeight = _calculateMenuHeight();\n          if (newMenuCollapsed != baSidebarService.isMenuCollapsed() || scope.menuHeight != newMenuHeight) {\n            scope.$apply(function () {\n              scope.menuHeight = newMenuHeight;\n              baSidebarService.setMenuCollapsed(newMenuCollapsed)\n            });\n          }\n        }\n\n        function _calculateMenuHeight() {\n          return el[0].childNodes[0].clientHeight - 84;\n        }\n      }\n    };\n  }\n\n})();\n(function() {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components')\n      .provider('baSidebarService', baSidebarServiceProvider);\n\n  /** @ngInject */\n  function baSidebarServiceProvider() {\n    var staticMenuItems = [];\n\n    this.addStaticItem = function() {\n      staticMenuItems.push.apply(staticMenuItems, arguments);\n    };\n\n    /** @ngInject */\n    this.$get = function($state, layoutSizes) {\n      return new _factory();\n\n      function _factory() {\n        var isMenuCollapsed = shouldMenuBeCollapsed();\n\n        this.getMenuItems = function() {\n          var states = defineMenuItemStates();\n          var menuItems = states.filter(function(item) {\n            return item.level == 0;\n          });\n\n          menuItems.forEach(function(item) {\n            var children = states.filter(function(child) {\n              return child.level == 1 && child.name.indexOf(item.name) === 0;\n            });\n            item.subMenu = children.length ? children : null;\n          });\n\n          return menuItems.concat(staticMenuItems);\n        };\n\n        this.shouldMenuBeCollapsed = shouldMenuBeCollapsed;\n        this.canSidebarBeHidden = canSidebarBeHidden;\n\n        this.setMenuCollapsed = function(isCollapsed) {\n          isMenuCollapsed = isCollapsed;\n        };\n\n        this.isMenuCollapsed = function() {\n          return isMenuCollapsed;\n        };\n\n        this.toggleMenuCollapsed = function() {\n          isMenuCollapsed = !isMenuCollapsed;\n        };\n\n        this.getAllStateRefsRecursive = function(item) {\n          var result = [];\n          _iterateSubItems(item);\n          return result;\n\n          function _iterateSubItems(currentItem) {\n            currentItem.subMenu && currentItem.subMenu.forEach(function(subItem) {\n              subItem.stateRef && result.push(subItem.stateRef);\n              _iterateSubItems(subItem);\n            });\n          }\n        };\n\n        function defineMenuItemStates() {\n          return $state.get()\n              .filter(function(s) {\n                return s.sidebarMeta;\n              })\n              .map(function(s) {\n                var meta = s.sidebarMeta;\n                return {\n                  name: s.name,\n                  title: s.title,\n                  level: (s.name.match(/\\./g) || []).length,\n                  order: meta.order,\n                  icon: meta.icon,\n                  stateRef: s.name,\n                };\n              })\n              .sort(function(a, b) {\n                return (a.level - b.level) * 100 + a.order - b.order;\n              });\n        }\n\n        function shouldMenuBeCollapsed() {\n          return window.innerWidth <= layoutSizes.resWidthCollapseSidebar;\n        }\n\n        function canSidebarBeHidden() {\n          return window.innerWidth <= layoutSizes.resWidthHideSidebar;\n        }\n      }\n\n    };\n\n  }\n})();\n\n/**\n * @author v.lugovsky\n * created on 03.05.2016\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components')\n      .directive('baSidebarToggleMenu', baSidebarToggleMenu)\n      .directive('baSidebarCollapseMenu', baSidebarCollapseMenu)\n      .directive('baSidebarTogglingItem', baSidebarTogglingItem)\n      .controller('BaSidebarTogglingItemCtrl', BaSidebarTogglingItemCtrl)\n      .directive('baUiSrefTogglingSubmenu', baUiSrefTogglingSubmenu)\n      .directive('baUiSrefToggler', baUiSrefToggler);\n\n  /** @ngInject */\n  function baSidebarToggleMenu(baSidebarService) {\n    return {\n      restrict: 'A',\n      link: function(scope, elem) {\n        elem.on('click', function($evt) {\n          $evt.originalEvent.$sidebarEventProcessed = true;\n          scope.$apply(function() {\n            baSidebarService.toggleMenuCollapsed();\n          });\n        });\n      }\n    };\n  }\n\n  /** @ngInject */\n  function baSidebarCollapseMenu(baSidebarService) {\n    return {\n      restrict: 'A',\n      link: function(scope, elem) {\n        elem.on('click', function($evt) {\n          $evt.originalEvent.$sidebarEventProcessed = true;\n          if (!baSidebarService.isMenuCollapsed()) {\n            scope.$apply(function() {\n              baSidebarService.setMenuCollapsed(true);\n            });\n          }\n        });\n      }\n    };\n  }\n\n  /** @ngInject */\n  function baSidebarTogglingItem() {\n    return {\n      restrict: 'A',\n      controller: 'BaSidebarTogglingItemCtrl'\n    };\n  }\n\n  /** @ngInject */\n  function BaSidebarTogglingItemCtrl($scope, $element, $attrs, $state, baSidebarService) {\n    var vm = this;\n    var menuItem = vm.$$menuItem = $scope.$eval($attrs.baSidebarTogglingItem);\n    if (menuItem && menuItem.subMenu && menuItem.subMenu.length) {\n      vm.$$expandSubmenu = function() { console.warn('$$expandMenu should be overwritten by baUiSrefTogglingSubmenu') };\n      vm.$$collapseSubmenu = function() { console.warn('$$collapseSubmenu should be overwritten by baUiSrefTogglingSubmenu') };\n\n      var subItemsStateRefs = baSidebarService.getAllStateRefsRecursive(menuItem);\n\n      vm.$expand = function() {\n        vm.$$expandSubmenu();\n        $element.addClass('ba-sidebar-item-expanded');\n      };\n\n      vm.$collapse = function() {\n        vm.$$collapseSubmenu();\n        $element.removeClass('ba-sidebar-item-expanded');\n      };\n\n      vm.$toggle = function() {\n        $element.hasClass('ba-sidebar-item-expanded') ?\n            vm.$collapse() :\n            vm.$expand();\n      };\n\n      if (_isState($state.current)) {\n        $element.addClass('ba-sidebar-item-expanded');\n      }\n\n      $scope.$on('$stateChangeStart', function (event, toState) {\n        if (!_isState(toState) && $element.hasClass('ba-sidebar-item-expanded')) {\n          vm.$collapse();\n          $element.removeClass('ba-sidebar-item-expanded');\n        }\n      });\n\n      $scope.$on('$stateChangeSuccess', function (event, toState) {\n        if (_isState(toState) && !$element.hasClass('ba-sidebar-item-expanded')) {\n          vm.$expand();\n          $element.addClass('ba-sidebar-item-expanded');\n        }\n      });\n    }\n\n    function _isState(state) {\n      return state && subItemsStateRefs.some(function(subItemState) {\n            return state.name.indexOf(subItemState) == 0;\n          });\n    }\n  }\n\n  /** @ngInject */\n  function baUiSrefTogglingSubmenu($state) {\n    return {\n      restrict: 'A',\n      require: '^baSidebarTogglingItem',\n      link: function(scope, el, attrs, baSidebarTogglingItem) {\n        baSidebarTogglingItem.$$expandSubmenu = function() { el.slideDown(); };\n        baSidebarTogglingItem.$$collapseSubmenu = function() { el.slideUp(); };\n      }\n    };\n  }\n\n  /** @ngInject */\n  function baUiSrefToggler(baSidebarService) {\n    return {\n      restrict: 'A',\n      require: '^baSidebarTogglingItem',\n      link: function(scope, el, attrs, baSidebarTogglingItem) {\n        el.on('click', function() {\n          if (baSidebarService.isMenuCollapsed()) {\n            // If the whole sidebar is collapsed and this item has submenu. We need to open sidebar.\n            // This should not affect mobiles, because on mobiles sidebar should be hidden at all\n            scope.$apply(function() {\n              baSidebarService.setMenuCollapsed(false);\n            });\n            baSidebarTogglingItem.$expand();\n          } else {\n            baSidebarTogglingItem.$toggle();\n          }\n        });\n      }\n    };\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components')\n    .directive('baWizard', baWizard);\n\n  /** @ngInject */\n  function baWizard() {\n    return {\n      restrict: 'E',\n      transclude: true,\n      templateUrl: 'app/theme/components/baWizard/baWizard.html',\n      controllerAs: '$baWizardController',\n      controller: 'baWizardCtrl'\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components')\n    .controller('baWizardCtrl', baWizardCtrl);\n\n  /** @ngInject */\n  function baWizardCtrl($scope) {\n    var vm = this;\n    vm.tabs = [];\n\n    vm.tabNum = 0;\n    vm.progress = 0;\n\n    vm.addTab = function(tab) {\n      tab.setPrev(vm.tabs[vm.tabs.length - 1]);\n      vm.tabs.push(tab);\n      vm.selectTab(0);\n    };\n\n    $scope.$watch(angular.bind(vm, function () {return vm.tabNum;}), calcProgress);\n\n    vm.selectTab = function (tabNum) {\n      vm.tabs[vm.tabNum].submit();\n      if (vm.tabs[tabNum].isAvailiable()) {\n        vm.tabNum = tabNum;\n        vm.tabs.forEach(function (t, tIndex) {\n          tIndex == vm.tabNum ? t.select(true) : t.select(false);\n        });\n      }\n    };\n\n    vm.isFirstTab = function () {\n      return vm.tabNum == 0;\n    };\n\n    vm.isLastTab = function () {\n      return vm.tabNum == vm.tabs.length - 1 ;\n    };\n\n    vm.nextTab = function () {\n      vm.selectTab(vm.tabNum + 1)\n    };\n\n    vm.previousTab = function () {\n      vm.selectTab(vm.tabNum - 1)\n    };\n\n    function calcProgress() {\n      vm.progress = ((vm.tabNum + 1) / vm.tabs.length) * 100;\n    }\n  }\n})();\n\n\n(function() {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components')\n    .directive('baWizardStep', baWizardStep);\n\n  /** @ngInject */\n  function baWizardStep() {\n    return {\n      restrict: 'E',\n      transclude: true,\n      require: '^baWizard',\n      scope: {\n        form: '='\n      },\n      templateUrl:  'app/theme/components/baWizard/baWizardStep.html',\n      link: function($scope, $element, $attrs, wizard) {\n        $scope.selected = true;\n\n        var tab = {\n          title: $attrs.title,\n          select: select,\n          submit: submit,\n          isComplete: isComplete,\n          isAvailiable: isAvailiable,\n          prevTab: undefined,\n          setPrev: setPrev\n        };\n\n        wizard.addTab(tab);\n\n        function select(isSelected) {\n          if (isSelected) {\n            $scope.selected = true;\n          } else {\n            $scope.selected = false;\n          }\n        }\n\n        function submit() {\n          $scope.form && $scope.form.$setSubmitted(true);\n        }\n\n        function isComplete() {\n          return $scope.form ? $scope.form.$valid : true;\n        }\n\n        function isAvailiable() {\n          return tab.prevTab ? tab.prevTab.isComplete() : true;\n        }\n\n        function setPrev(pTab) {\n          tab.prevTab = pTab;\n        }\n      }\n    };\n  }\n})();\n/**\n * @author v.lugovksy\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components')\n      .directive('backTop', backTop);\n\n  /** @ngInject */\n  function backTop() {\n    return {\n      restrict: 'E',\n      templateUrl: 'app/theme/components/backTop/backTop.html',\n      controller: function () {\n        $('#backTop').backTop({\n          'position': 200,\n          'speed': 100\n        });\n      }\n    };\n  }\n\n})();\n/**\n * @author v.lugovksy\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components')\n      .directive('contentTop', contentTop);\n\n  /** @ngInject */\n  function contentTop($location, $state) {\n    return {\n      restrict: 'E',\n      templateUrl: 'app/theme/components/contentTop/contentTop.html',\n      link: function($scope) {\n        $scope.$watch(function () {\n          $scope.activePageTitle = $state.current.title;\n        });\n      }\n    };\n  }\n\n})();\n/**\n * @author v.lugovksy\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components')\n      .controller('MsgCenterCtrl', MsgCenterCtrl);\n\n  /** @ngInject */\n  function MsgCenterCtrl($scope, $sce) {\n    $scope.users = {\n      0: {\n        name: 'Vlad',\n      },\n      1: {\n        name: 'Kostya',\n      },\n      2: {\n        name: 'Andrey',\n      },\n      3: {\n        name: 'Nasta',\n      }\n    };\n\n    $scope.notifications = [\n      {\n        userId: 0,\n        template: '&name posted a new article.',\n        time: '1 min ago'\n      },\n      {\n        userId: 1,\n        template: '&name changed his contact information.',\n        time: '2 hrs ago'\n      },\n      {\n        image: 'assets/img/shopping-cart.svg',\n        template: 'New orders received.',\n        time: '5 hrs ago'\n      },\n      {\n        userId: 2,\n        template: '&name replied to your comment.',\n        time: '1 day ago'\n      },\n      {\n        userId: 3,\n        template: 'Today is &name\\'s birthday.',\n        time: '2 days ago'\n      },\n      {\n        image: 'assets/img/comments.svg',\n        template: 'New comments on your post.',\n        time: '3 days ago'\n      },\n      {\n        userId: 1,\n        template: '&name invited you to join the event.',\n        time: '1 week ago'\n      }\n    ];\n\n    $scope.messages = [\n      {\n        userId: 3,\n        text: 'After you get up and running, you can place Font Awesome icons just about...',\n        time: '1 min ago'\n      },\n      {\n        userId: 0,\n        text: 'You asked, Font Awesome delivers with 40 shiny new icons in version 4.2.',\n        time: '2 hrs ago'\n      },\n      {\n        userId: 1,\n        text: 'Want to request new icons? Here\\'s how. Need vectors or want to use on the...',\n        time: '10 hrs ago'\n      },\n      {\n        userId: 2,\n        text: 'Explore your passions and discover new ones by getting involved. Stretch your...',\n        time: '1 day ago'\n      },\n      {\n        userId: 3,\n        text: 'Get to know who we are - from the inside out. From our history and culture, to the...',\n        time: '1 day ago'\n      },\n      {\n        userId: 1,\n        text: 'Need some support to reach your goals? Apply for scholarships across a variety of...',\n        time: '2 days ago'\n      },\n      {\n        userId: 0,\n        text: 'Wrap the dropdown\\'s trigger and the dropdown menu within .dropdown, or...',\n        time: '1 week ago'\n      }\n    ];\n\n    $scope.getMessage = function(msg) {\n      var text = msg.template;\n      if (msg.userId || msg.userId === 0) {\n        text = text.replace('&name', '<strong>' + $scope.users[msg.userId].name + '</strong>');\n      }\n      return $sce.trustAsHtml(text);\n    };\n  }\n})();\n/**\n * @author v.lugovksy\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components')\n      .directive('msgCenter', msgCenter);\n\n  /** @ngInject */\n  function msgCenter() {\n    return {\n      restrict: 'E',\n      templateUrl: 'app/theme/components/msgCenter/msgCenter.html',\n      controller: 'MsgCenterCtrl'\n    };\n  }\n\n})();\n/**\n * @author v.lugovksy\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components')\n\n  .controller('homeController', ['$scope', '$state', '$rootScope', 'ngDialog', 'AuthFactory', function ($scope, $state, $rootScope, ngDialog, AuthFactory){\n\n        $scope.loggedIn = false;\n        $scope.username = '';\n        \n        if(AuthFactory.isAuthenticated()) {\n            $scope.loggedIn = true;\n            $scope.username = AuthFactory.getUsername();\n        }\n            \n        $rootScope.openLogin = function () {\n            ngDialog.open({ \n              template: 'app/pages/login/login.html', \n              scope: $scope, \n              className: 'ngdialog-theme-default', \n              controller:\"LoginController\" \n            });\n        };\n\n        $rootScope.openRegister = function () {\n          ngDialog.open({ template: 'app/pages/register/register.html', \n            scope: $scope, \n            className: 'ngdialog-theme-default', \n            controller:\"RegisterController\" });\n      };\n        \n        $scope.logOut = function() {\n           AuthFactory.logout();\n            $scope.loggedIn = false;\n            $scope.username = '';\n        };\n        \n        $rootScope.$on('login:Successful', function () {\n            $scope.loggedIn = AuthFactory.isAuthenticated();\n            $scope.username = AuthFactory.getUsername();\n        });\n            \n        $rootScope.$on('registration:Successful', function () {\n            $scope.loggedIn = AuthFactory.isAuthenticated();\n            $scope.username = AuthFactory.getUsername();\n        });\n        \n        $scope.stateis = function(curstate) {\n           return $state.is(curstate);  \n        };\n      \n      }]) \n\n    .controller('LoginController', ['$scope', 'ngDialog', '$localStorage', 'AuthFactory','$state', '$rootScope', function ($scope, ngDialog, $localStorage, AuthFactory,$state, $rootScope) {\n      \n\n       $scope.loginData = $localStorage.getObject('userinfo','{}');\n      \n      $scope.doLogin = function() {\n          if($scope.rememberMe)\n             $localStorage.storeObject('userinfo',$scope.loginData);\n\n          AuthFactory.login($scope.loginData);\n\n          \n          ngDialog.close();\n\n      };\n              \n      \n      \n  }])\n\n  .controller('RegisterController', ['$scope', 'ngDialog', '$localStorage', 'AuthFactory', function ($scope, ngDialog, $localStorage, AuthFactory) {\n      \n      $scope.register={};\n      $scope.loginData={};\n      \n      $scope.doRegister = function() {\n          console.log('Doing registration', $scope.registration);\n\n          AuthFactory.register($scope.registration);\n          \n          ngDialog.close();\n\n      };\n  }])\n\n\n\n      .directive('pageTop', pageTop);\n\n  /** @ngInject */\n  function pageTop() {\n    return {\n      restrict: 'E',\n      templateUrl: 'app/theme/components/pageTop/pageTop.html',\n      controller: 'homeController'\n    };\n  }\n\n})();\n/**\n * @author v.lugovksy\n * created on 16.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme.components')\n      .directive('widgets', widgets);\n\n  /** @ngInject */\n  function widgets() {\n    return {\n      restrict: 'EA',\n      scope: {\n        ngModel: '='\n      },\n      templateUrl: 'app/theme/components/widgets/widgets.html',\n      replace: true\n    };\n  }\n\n})();\n/**\n * @author v.lugovsky\n * created on 17.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .filter('appImage', appImage);\n\n  /** @ngInject */\n  function appImage(layoutPaths) {\n    return function(input) {\n      return layoutPaths.images.root + input;\n    };\n  }\n\n})();\n\n/**\n * @author v.lugovsky\n * created on 17.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .filter('kameleonImg', kameleonImg);\n\n  /** @ngInject */\n  function kameleonImg(layoutPaths) {\n    return function(input) {\n      return layoutPaths.images.root + 'theme/icon/kameleon/' + input + '.svg';\n    };\n  }\n\n})();\n\n/**\n * @author v.lugovsky\n * created on 17.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n      .filter('profilePicture', profilePicture);\n\n  /** @ngInject */\n  function profilePicture(layoutPaths) {\n    return function(input, ext) {\n      ext = ext || 'png';\n      return layoutPaths.images.profile + input + '.' + ext;\n    };\n  }\n\n})();\n\n/**\n * @author a.demeshko\n * created on 23.12.2015\n */\n(function () {\n  'use strict';\n\n  angular.module('BlurAdmin.theme')\n    .filter('plainText', plainText);\n\n  /** @ngInject */\n  function plainText() {\n    return function(text) {\n      return  text ? String(text).replace(/<[^>]+>/gm, '') : '';\n    };\n  }\n\n})();\n\n/* Minified js for jQuery BackTop */\n!function(o){o.fn.backTop=function(e){var n=this,i=o.extend({position:400,speed:500,color:\"white\"},e),t=i.position,c=i.speed,d=i.color;n.addClass(\"white\"==d?\"white\":\"red\"==d?\"red\":\"green\"==d?\"green\":\"black\"),n.css({right:40,bottom:40,position:\"fixed\"}),o(document).scroll(function(){var e=o(window).scrollTop();e>=t?n.fadeIn(c):n.fadeOut(c)}),n.click(function(){o(\"html, body\").animate({scrollTop:0},{duration:1200})})}}(jQuery);\nangular.module(\"BlurAdmin\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/pages/agenda/agenda.html\",\"<div ng-if=\\\"!loggedIn\\\">Faça seu login para ter acesso as suas agendas!</div><div class=\\\"row\\\" ng-if=\\\"loggedIn\\\"><div class=\\\"row\\\" style=\\\"padding-left:30px\\\"><h2>{{nomeDaAgenda}}</h2></div><br><div class=\\\"row\\\"><div class=\\\"container\\\"><div class=\\\"col-xs-3\\\" style=\\\"width: 25%\\\"><div class=\\\"btn-group\\\" uib-dropdown=\\\"\\\" is-open=\\\"status.isopen\\\" style=\\\"width: 100%;\\\"><button id=\\\"single-button\\\" type=\\\"button\\\" class=\\\"btn btn-info\\\" uib-dropdown-toggle=\\\"\\\" ng-disabled=\\\"disabled\\\" style=\\\"width: 100%;\\\">{{nomeDoCurso}} <span class=\\\"caret\\\"></span></button><ul class=\\\"dropdown-menu\\\" uib-dropdown-menu=\\\"\\\" aria-labelledby=\\\"simple-dropdown\\\"><li ng-repeat=\\\"choice in items\\\"><a href=\\\"\\\" ng-click=\\\"mudaCurso(choice.curso)\\\">{{choice.curso}} <img ng-src=\\\"{{choice.logo}}\\\" style=\\\"width:20px;height:20px;\\\" align=\\\"middle\\\"></a></li></ul></div><br><br><div ng-show=\\\"carregandoMaterias\\\"><img id=\\\"mySpinner\\\" src=\\\"./assets/img/spinner.gif\\\" style=\\\"display: block; margin-left: auto;margin-right: auto; margin: 0 auto\\\"></div><div ng-show=\\\"!carregandoMaterias\\\"><uib-tabset active=\\\"active\\\"><uib-tab index=\\\"$index + 1\\\" ng-repeat=\\\"tab in tabs\\\" heading=\\\"{{tab.title}}\\\" disable=\\\"tab.disabled\\\"><ul class=\\\"list-group\\\"><div ng-repeat=\\\"materia in tab.content track by $index\\\"><div ng-click=\\\"adiciona(materia)\\\" style=\\\"cursor:pointer\\\" uib-popover-template=\\\"dynamicPopover.templateUrl\\\" popover-title=\\\"Pré-requisitos\\\" popover-trigger=\\\"mouseenter\\\" popover-placement=\\\"right-top\\\"><li class=\\\"list-group-item\\\" ng-style=\\\"colorirMateriaSelecionada(materia)\\\"><script type=\\\"text/ng-template\\\" id=\\\"myPopoverTemplate.html\\\"><div ng-repeat=\\\"requisitos in materia.preRequisitos\\\"> {{requisitos}};<br></div></script>{{materia.nome}}</li></div></div></ul></uib-tab></uib-tabset></div><h4 style=\\\"text-align: center;\\\">{{materiasEscolhidas.length}} Matérias Selecionadas</h4><div ng-repeat=\\\"coisa in materiasEscolhidas track by $index\\\"><li class=\\\"list-group-item\\\"><span class=\\\"badge\\\" style=\\\"background: red; cursor:pointer\\\" ng-click=\\\"deleta(coisa)\\\">X</span> <span class=\\\"badge\\\" style=\\\"background: white\\\"><input colorpicker=\\\"\\\" ng-model=\\\"coisa.color\\\" style=\\\"width: 18px;height: 18px; background-color: {{coisa.color}};cursor:pointer\\\" colorpicker-with-input=\\\"true\\\" type=\\\"input\\\" class=\\\"small button\\\" ng-change=\\\"atribuiCor(coisa,coisa.color)\\\"></span> {{coisa.nome}} <img ng-src=\\\"{{coisa.imagem}}\\\" style=\\\"width:20px;height:20px;\\\"><br><div ng-repeat=\\\"pratica in coisa.labs\\\" style=\\\"display:inline-block\\\"><input type=\\\"radio\\\" ng-model=\\\"pratica.selectedId\\\" ng-value=\\\"pratica._id\\\" ng-change=\\\"printapratica(pratica,coisa)\\\"> {{pratica.nome}} &nbsp;</div></li></div><div style=\\\"box-shadow: 1px 2px 4px 1px rgba(0,0,0,0.3);padding-left:10px;padding-right:10px;border-radius: 25px;\\\"><div class=\\\"col-xs-12 col-md-12 row\\\" style=\\\"text-align: center;margin-top:5px;margin-bottom:5px;vertical-align:middle;padding:0;width:100%;border-top:1px solid #EAEAEA; padding-top:10px;margin:auto\\\"><div class=\\\"col-xs-4\\\" style=\\\"border-right:1px solid #eaeaea;text-align:center;padding:0;margin:0\\\">Teórica<br><p id=\\\"printaChTeorica\\\"></p></div><div class=\\\"col-xs-4\\\" style=\\\"text-align:center;padding:0;margin:0\\\">Prática<br><p id=\\\"printaChPratica\\\"></p></div><div class=\\\"col-xs-4\\\" style=\\\"border-left:1px solid #eaeaea;text-align:center;padding:0;margin:0\\\">Total<br>{{chTeoricaFinal + chPraticaFinal}}</div></div></div></div><div class=\\\"col-xs-9\\\" ng-show=\\\"carregandoAgenda\\\"><img id=\\\"mySpinner\\\" src=\\\"./assets/img/spinner.gif\\\" style=\\\"display: block; margin-left: auto;margin-right: auto; margin: 0 auto\\\"></div><div class=\\\"col-xs-9\\\" ng-show=\\\"!carregandoAgenda\\\"><div class=\\\"check-element animate-show\\\" ng-show=\\\"erros()\\\"><div class=\\\"alert alert-danger\\\" role=\\\"alert\\\"><font color=\\\"#B94E7B\\\">Você possui mais de uma matéria no mesmo horário! A celula esta demarcada</font></div></div><div class=\\\"check-element animate-show\\\" ng-show=\\\"erros_pratica()\\\"><div class=\\\"alert alert-danger\\\" role=\\\"alert\\\"><font color=\\\"#B94E7B\\\">Você não selecionou a prática de alguma matéria!</font></div></div><div id=\\\"cvs\\\"><table class=\\\"table table-bordered\\\" id=\\\"tabelation\\\"><tr style=\\\"background: #666; color: white;\\\"><td id=\\\"indicador\\\">Horários</td><td>Seg</td><td>Ter</td><td>Qua</td><td>Qui</td><td>Sex</td><td>Sáb</td></tr><tr><td id=\\\"indicador\\\">7:10-8:00</td><td id=\\\"td1\\\" class=\\\"miolo\\\"></td><td id=\\\"td2\\\" class=\\\"miolo\\\"></td><td id=\\\"td3\\\" class=\\\"miolo\\\"></td><td id=\\\"td4\\\" class=\\\"miolo\\\"></td><td id=\\\"td5\\\" class=\\\"miolo\\\"></td><td id=\\\"td6\\\" class=\\\"miolo\\\"></td></tr><tr><td id=\\\"indicador\\\">8:00-8:50</td><td id=\\\"td7\\\" class=\\\"miolo\\\"></td><td id=\\\"td8\\\" class=\\\"miolo\\\"></td><td id=\\\"td9\\\" class=\\\"miolo\\\"></td><td id=\\\"td10\\\" class=\\\"miolo\\\"></td><td id=\\\"td11\\\" class=\\\"miolo\\\"></td><td id=\\\"td12\\\" class=\\\"miolo\\\"></td></tr><tr><td id=\\\"indicador\\\">8:50-9:40</td><td id=\\\"td13\\\" class=\\\"miolo\\\"></td><td id=\\\"td14\\\" class=\\\"miolo\\\"></td><td id=\\\"td15\\\" class=\\\"miolo\\\"></td><td id=\\\"td16\\\" class=\\\"miolo\\\"></td><td id=\\\"td17\\\" class=\\\"miolo\\\"></td><td id=\\\"td18\\\" class=\\\"miolo\\\"></td></tr><tr><td id=\\\"indicador\\\">9:50-10:40</td><td id=\\\"td19\\\" class=\\\"miolo\\\"></td><td id=\\\"td20\\\" class=\\\"miolo\\\"></td><td id=\\\"td21\\\" class=\\\"miolo\\\"></td><td id=\\\"td22\\\" class=\\\"miolo\\\"></td><td id=\\\"td23\\\" class=\\\"miolo\\\"></td><td id=\\\"td24\\\" class=\\\"miolo\\\"></td></tr><tr><td id=\\\"indicador\\\">10:40-11:30</td><td id=\\\"td25\\\" class=\\\"miolo\\\"></td><td id=\\\"td26\\\" class=\\\"miolo\\\"></td><td id=\\\"td27\\\" class=\\\"miolo\\\"></td><td id=\\\"td28\\\" class=\\\"miolo\\\"></td><td id=\\\"td29\\\" class=\\\"miolo\\\"></td><td id=\\\"td30\\\" class=\\\"miolo\\\"></td></tr><tr><td id=\\\"indicador\\\">11:30-12:20</td><td id=\\\"td31\\\" class=\\\"miolo\\\"></td><td id=\\\"td32\\\" class=\\\"miolo\\\"></td><td id=\\\"td33\\\" class=\\\"miolo\\\"></td><td id=\\\"td34\\\" class=\\\"miolo\\\"></td><td id=\\\"td35\\\" class=\\\"miolo\\\"></td><td id=\\\"td36\\\" class=\\\"miolo\\\"></td></tr><tr style=\\\"background: #1C2B36; height:10px\\\"><td style=\\\"height:10px\\\"></td><td style=\\\"height:10px\\\" id=\\\"td37\\\"></td><td style=\\\"height:10px\\\" id=\\\"td38\\\"></td><td style=\\\"height:10px\\\" id=\\\"td39\\\"></td><td style=\\\"height:10px\\\" id=\\\"td40\\\"></td><td style=\\\"height:10px\\\" id=\\\"td41\\\"></td><td style=\\\"height:10px\\\" id=\\\"td42\\\"></td></tr><tr><td id=\\\"indicador\\\">13:10-14:00</td><td id=\\\"td43\\\" class=\\\"miolo\\\"></td><td id=\\\"td44\\\" class=\\\"miolo\\\"></td><td id=\\\"td45\\\" class=\\\"miolo\\\"></td><td id=\\\"td46\\\" class=\\\"miolo\\\"></td><td id=\\\"td47\\\" class=\\\"miolo\\\"></td><td id=\\\"td48\\\" class=\\\"miolo\\\"></td></tr><tr><td id=\\\"indicador\\\">14:00-14:50</td><td id=\\\"td49\\\" class=\\\"miolo\\\"></td><td id=\\\"td50\\\" class=\\\"miolo\\\"></td><td id=\\\"td51\\\" class=\\\"miolo\\\"></td><td id=\\\"td52\\\" class=\\\"miolo\\\"></td><td id=\\\"td53\\\" class=\\\"miolo\\\"></td><td id=\\\"td54\\\" class=\\\"miolo\\\"></td></tr><tr><td id=\\\"indicador\\\">14:50-15:40</td><td id=\\\"td55\\\" class=\\\"miolo\\\"></td><td id=\\\"td56\\\" class=\\\"miolo\\\"></td><td id=\\\"td57\\\" class=\\\"miolo\\\"></td><td id=\\\"td58\\\" class=\\\"miolo\\\"></td><td id=\\\"td59\\\" class=\\\"miolo\\\"></td><td id=\\\"td60\\\" class=\\\"miolo\\\"></td></tr><tr><td id=\\\"indicador\\\">16:00-16:50</td><td id=\\\"td61\\\" class=\\\"miolo\\\"></td><td id=\\\"td62\\\" class=\\\"miolo\\\"></td><td id=\\\"td63\\\" class=\\\"miolo\\\"></td><td id=\\\"td64\\\" class=\\\"miolo\\\"></td><td id=\\\"td65\\\" class=\\\"miolo\\\"></td><td id=\\\"td66\\\" class=\\\"miolo\\\"></td></tr><tr><td id=\\\"indicador\\\">16:50-17:40</td><td id=\\\"td67\\\" class=\\\"miolo\\\"></td><td id=\\\"td68\\\" class=\\\"miolo\\\"></td><td id=\\\"td69\\\" class=\\\"miolo\\\"></td><td id=\\\"td70\\\" class=\\\"miolo\\\"></td><td id=\\\"td71\\\" class=\\\"miolo\\\"></td><td id=\\\"td72\\\" class=\\\"miolo\\\"></td></tr><tr><td id=\\\"indicador\\\">17:40-18:30</td><td id=\\\"td73\\\" class=\\\"miolo\\\"></td><td id=\\\"td74\\\" class=\\\"miolo\\\"></td><td id=\\\"td75\\\" class=\\\"miolo\\\"></td><td id=\\\"td76\\\" class=\\\"miolo\\\"></td><td id=\\\"td77\\\" class=\\\"miolo\\\"></td><td id=\\\"td78\\\" class=\\\"miolo\\\"></td></tr><tr style=\\\"background: #1C2B36; height:10px\\\"><td style=\\\"height:10px\\\"></td><td style=\\\"height:10px\\\"></td><td style=\\\"height:10px\\\"></td><td style=\\\"height:10px\\\"></td><td style=\\\"height:10px\\\"></td><td style=\\\"height:10px\\\"></td><td style=\\\"height:10px\\\"></td></tr><tr><td id=\\\"indicador\\\">19:00-19:50</td><td id=\\\"td79\\\" class=\\\"miolo\\\"></td><td id=\\\"td80\\\" class=\\\"miolo\\\"></td><td id=\\\"td81\\\" class=\\\"miolo\\\"></td><td id=\\\"td82\\\" class=\\\"miolo\\\"></td><td id=\\\"td83\\\" class=\\\"miolo\\\"></td><td id=\\\"td84\\\" class=\\\"miolo\\\"></td></tr><tr><td id=\\\"indicador\\\">19:50-20:40</td><td id=\\\"td85\\\" class=\\\"miolo\\\"></td><td id=\\\"td86\\\" class=\\\"miolo\\\"></td><td id=\\\"td87\\\" class=\\\"miolo\\\"></td><td id=\\\"td88\\\" class=\\\"miolo\\\"></td><td id=\\\"td89\\\" class=\\\"miolo\\\"></td><td id=\\\"td90\\\" class=\\\"miolo\\\"></td></tr><tr><td id=\\\"indicador\\\">20:50-21:40</td><td id=\\\"td91\\\" class=\\\"miolo\\\"></td><td id=\\\"td92\\\" class=\\\"miolo\\\"></td><td id=\\\"td93\\\" class=\\\"miolo\\\"></td><td id=\\\"td94\\\" class=\\\"miolo\\\"></td><td id=\\\"td95\\\" class=\\\"miolo\\\"></td><td id=\\\"td96\\\" class=\\\"miolo\\\"></td></tr><tr><td id=\\\"indicador\\\">21:40-22:30</td><td id=\\\"td97\\\" class=\\\"miolo\\\"></td><td id=\\\"td98\\\" class=\\\"miolo\\\"></td><td id=\\\"td99\\\" class=\\\"miolo\\\"></td><td id=\\\"td100\\\" class=\\\"miolo\\\"></td><td id=\\\"td101\\\" class=\\\"miolo\\\"></td><td id=\\\"td102\\\" class=\\\"miolo\\\"></td></tr></table></div></div></div></div></div>\");\n$templateCache.put(\"app/pages/createAgenda/createAgenda.html\",\"<div class=\\\"ngdialog-message\\\"><div class=\\\"\\\" ng-show=\\\"podeCriar\\\"><h3>Qual o nome da sua agenda?</h3></div><div class=\\\"\\\" ng-show=\\\"!podeCriar\\\"><h3>Número máximo de agendas alcançado!</h3></div><div class=\\\"\\\">&nbsp;</div><div class=\\\"\\\"><form name=\\\"createAgenda\\\" ng-submit=\\\"doCreateAgenda()\\\" ng-show=\\\"podeCriar\\\"><div class=\\\"form-group\\\"><label class=\\\"sr-only\\\" for=\\\"nome\\\">Nome</label> <input type=\\\"text\\\" class=\\\"form-control input-sm\\\" id=\\\"nome\\\" placeholder=\\\"nome\\\" ng-model=\\\"novaAgenda.nome\\\" ng-minlength=\\\"1\\\" maxlength=\\\"15\\\" required=\\\"\\\"> <span ng-show=\\\"createAgenda.novaAgenda.nome.$error.required\\\">Por favor, coloque um nome!</span></div><button type=\\\"submit\\\" class=\\\"btn btn-info btn-sm\\\">Criar</button> <button type=\\\"button\\\" class=\\\"btn btn-default btn-sm\\\" ng-click=\\'closeThisDialog(\\\"Cancel\\\")\\'>Cancel</button></form></div><div ng-show=\\\"!podeCriar\\\"><form name=\\\"dummy\\\">Você já tem 7 agendas, delete alguma para poder criar uma nova.<br><br><button type=\\\"submit\\\" class=\\\"btn btn-default btn-sm\\\" ng-click=\\'closeThisDialog(\\\"Cancel\\\")\\'>Fechar</button></form></div><div></div></div>\");\n$templateCache.put(\"app/pages/dashboard/dashboard.html\",\"<div ng-if=\\\"!loggedIn\\\">Faça seu <span ng-click=\\\"openLogin()\\\" style=\\\"text-decoration:underline; color:#3498DB; cursor:pointer\\\">login</span> para ter acesso as suas agendas!<br>Se você nao tiver uma conta <span ng-click=\\\"openRegister()\\\" style=\\\"text-decoration:underline; color:#3498DB; cursor:pointer\\\">registre-se</span><br><br><br></div><div class=\\\"row\\\" ng-if=\\\"loggedIn\\\"><div class=\\\"col-lg-12 col-md-12 col-sm-12\\\" ba-panel=\\\"\\\" ba-panel-title=\\\"Suas Agendas {{numeroAgendas}}/7\\\" ba-panel-class=\\\"medium-panel traffic-panel\\\"><div class=\\\"row\\\"><div ng-show=\\\"carregandoDash\\\"><img id=\\\"mySpinner\\\" src=\\\"./assets/img/spinner.gif\\\" style=\\\"display: block; margin-left: auto;margin-right: auto; margin: 0 auto\\\"></div><div ng-show=\\\"!carregandoDash\\\"><div class=\\\"col-md-6 col-lg-3\\\" ng-repeat=\\\"agenda in agendas track by $index\\\"><div class=\\\"panel panel-default contextual-example-panel bootstrap-panel\\\"><div class=\\\"panel-heading\\\" style=\\\"background-color: #456A85;\\\"><font size=\\\"4\\\" color=\\\"white\\\"><span ui-sref=\\\"agenda({id: agenda._id})\\\" style=\\\"cursor:pointer\\\">{{agenda.nome}}</span></font><img ng-src=\\\"./assets/img/delete.png\\\" ng-click=\\\"DeleteAgenda(agenda)\\\" style=\\\"width:20px;height:20px; margin-left:4px; cursor:pointer\\\" align=\\\"right\\\"> <img ng-src=\\\"./assets/img/foward.png\\\" ng-click=\\\"ShareAgenda(agenda)\\\" style=\\\"width:20px;height:20px;cursor:pointer\\\" align=\\\"right\\\"></div><div class=\\\"panel-body\\\" ui-sref=\\\"agenda({id: agenda._id})\\\" style=\\\"cursor:pointer\\\"><b>Criado em:</b> {{agenda.createdAt | date}}<br><b>Última Atualização:</b> {{agenda.updatedAt | date}}</div></div></div><div class=\\\"col-md-4 col-lg-3\\\" ng-click=\\\"CreateAgenda()\\\"><button type=\\\"button\\\" class=\\\"btn btn-danger btn-lg\\\" style=\\\"height:120px\\\" ng-click=\\\"checkNumber()\\\">Adicionar Agenda</button></div></div></div></div></div><div class=\\\"row\\\"><div class=\\\"col-lg-7 col-md-12 col-sm-12\\\" ba-panel=\\\"\\\" ba-panel-title=\\\"Logs\\\"><div class=\\\"row\\\">Se encontrar algum horário errado, por favor chamar algum dos desenvolvedores no Facebook.<br>*não otimizado para celular*<br><br>Site feito por F3 Soluções em Engenharia<br>curta nossa página e nos ajude a desenvolver mais coisas para vocês<a href=\\\"https://www.facebook.com/solucoesf3\\\" target=\\\"_blank\\\">https://www.facebook.com/solucoesf3</a><br><br>Agradecimentos:<br><br><a href=\\\"https://www.facebook.com/felipegscandiffio\\\" target=\\\"_black\\\">Felipe Gaya Scandiffio</a>: desenvolvedor e co-idealizador<br><a href=\\\"https://www.facebook.com/oliviofneto\\\" target=\\\"_black\\\">Olivio Ferreira Neto</a>: dados das matérias dos cursos e co-idealizador<br><a href=\\\"https://www.facebook.com/profile.php?id=100001710154015&fref=ts\\\" target=\\\"_black\\\">Lucas Camargos Borges</a>: dados das matérias da engenharia química</div></div><div class=\\\"col-lg-5 col-md-12 col-sm-12\\\" ba-panel=\\\"\\\" ba-panel-title=\\\"\\\"><div class=\\\"fb-page\\\" data-href=\\\"https://www.facebook.com/solucoesf3/\\\" data-tabs=\\\"timeline\\\" data-small-header=\\\"false\\\" data-adapt-container-width=\\\"true\\\" data-hide-cover=\\\"false\\\" data-show-facepile=\\\"true\\\"><blockquote cite=\\\"https://www.facebook.com/solucoesf3/\\\" class=\\\"fb-xfbml-parse-ignore\\\"><a href=\\\"https://www.facebook.com/solucoesf3/\\\">F3 Soluções</a></blockquote></div></div></div>\");\n$templateCache.put(\"app/pages/deleteAgenda/deleteAgenda.html\",\"<div class=\\\"ngdialog-message\\\"><div class=\\\"\\\"><h3>Voce tem certeza que quer deletar a agenda<font weight:\\\"bold\\\"=\\\"\\\"><i>{{nomeDaAgenda}}</i></font>?</h3></div><div class=\\\"\\\">&nbsp;</div><div class=\\\"\\\"><form name=\\\"createAgenda\\\" ng-submit=\\\"doDeleteAgenda(idDaAgenda)\\\"><button type=\\\"submit\\\" class=\\\"btn btn-info btn-sm\\\">Deletar</button> <button type=\\\"button\\\" class=\\\"btn btn-default btn-sm\\\" ng-click=\\'closeThisDialog(\\\"Cancel\\\")\\'>Cancelar</button></form></div><div></div></div>\");\n$templateCache.put(\"app/pages/likeus/likeus.html\",\"<div class=\\\"ngdialog-message\\\"><div class=\\\"\\\"><h3>Like Us</h3></div></div>\");\n$templateCache.put(\"app/pages/login/login.html\",\"<div class=\\\"ngdialog-message\\\"><div class=\\\"\\\"><h3>Login</h3></div><div class=\\\"\\\">&nbsp;</div><div class=\\\"\\\"><form ng-submit=\\\"doLogin()\\\"><div class=\\\"form-group\\\"><label class=\\\"sr-only\\\" for=\\\"username\\\">Usuário</label> <input type=\\\"text\\\" class=\\\"form-control input-sm\\\" id=\\\"username\\\" placeholder=\\\"Username\\\" ng-model=\\\"loginData.username\\\"></div><div class=\\\"form-group\\\"><label class=\\\"sr-only\\\" for=\\\"password\\\">Senha</label> <input type=\\\"password\\\" class=\\\"form-control input-sm\\\" id=\\\"password\\\" placeholder=\\\"Password\\\" ng-model=\\\"loginData.password\\\"></div><div class=\\\"checkbox\\\"><label><input type=\\\"checkbox\\\" ng-model=\\\"rememberMe\\\"> Me lembre</label></div><button type=\\\"submit\\\" class=\\\"btn btn-info btn-sm\\\">Entrar</button> <button type=\\\"button\\\" class=\\\"btn btn-default btn-sm\\\" ng-click=\\'closeThisDialog(\\\"Cancel\\\")\\'>Cancelar</button> &nbsp; &nbsp; <a ng-click=\\\"openRegister()\\\" style=\\\"cursor:pointer\\\">Clique aqui para registrar</a></form></div><div></div></div>\");\n$templateCache.put(\"app/pages/materias/materias.html\",\"<div class=\\\"row\\\"><div class=\\\"col-md-12\\\"><div ng-if=\\\"!loggedIn\\\">Faça seu <span ng-click=\\\"openLogin()\\\" style=\\\"text-decoration:underline; color:#3498DB; cursor:pointer\\\">login</span> para ter acesso as suas matérias!<br>Se você nao tiver uma conta <span ng-click=\\\"openRegister()\\\" style=\\\"text-decoration:underline; color:#3498DB; cursor:pointer\\\">registre-se</span><br></div><div class=\\\"btn-group\\\" uib-dropdown=\\\"\\\" is-open=\\\"status.isopen\\\" ng-if=\\\"loggedIn\\\"><button align=\\\"middle\\\" style=\\\"width:100%;height:100%;\\\" id=\\\"single-button\\\" type=\\\"button\\\" class=\\\"btn btn-info\\\" uib-dropdown-toggle=\\\"\\\" ng-disabled=\\\"disabled\\\">{{nomeDoCurso}} <span class=\\\"caret\\\"></span></button><ul class=\\\"dropdown-menu\\\" uib-dropdown-menu=\\\"\\\" aria-labelledby=\\\"simple-dropdown\\\"><li ng-repeat=\\\"choice in items\\\"><a href=\\\"\\\" ng-click=\\\"mudaCurso(choice.curso)\\\">{{choice.curso}} <img ng-src=\\\"{{choice.logo}}\\\" style=\\\"width:20px;height:20px;\\\" align=\\\"middle\\\"></a></li></ul></div><br><br><div class=\\\"row\\\" ng-if=\\\"loggedIn && !mostraPagina\\\"><div class=\\\"col-lg-12 col-md-12 col-sm-12\\\" ba-panel=\\\"\\\" ba-panel-title=\\\"Suas Matérias\\\"><div class=\\\"row\\\">Selecione seu curso para poder seguir sua grade</div></div></div><div class=\\\"row\\\" ng-if=\\\"loggedIn && mostraPagina\\\"><div class=\\\"col-lg-12 col-md-12 col-sm-12\\\" ba-panel=\\\"\\\" ba-panel-title=\\\"Suas Matérias\\\"><div ng-show=\\\"carregandoMateria\\\"><img id=\\\"mySpinner\\\" src=\\\"./assets/img/spinner.gif\\\" style=\\\"display: block; margin-left: auto;margin-right: auto; margin: 0 auto\\\"></div><div class=\\\"row\\\" ng-show=\\\"!carregandoMateria\\\"><div class=\\\"row\\\"><div class=\\\"col-sm-2 com-md-2\\\" ng-repeat=\\\"tab in tabs.slice(0, 6)\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\">{{tab.title}}</div><div class=\\\"panel-body\\\" style=\\\"padding-top: 0px; padding-right: 0px; padding-left: 0px; padding-bottom: 0px;\\\"><div class=\\\"list-group\\\" ng-repeat=\\\"materia in tab.content track by $index\\\" style=\\\"margin-bottom: 0px !important\\\"><a class=\\\"list-group-item\\\" ng-click=\\\"adiciona(materia); calcula()\\\" ng-style=\\\"functionThatReturnsStyle(materia)\\\" style=\\\"margin-bottom: 0px; cursor:pointer\\\" uib-popover-template=\\\"dynamicPopover.templateUrl\\\" popover-title=\\\"Pré-requisitos\\\" popover-trigger=\\\"mouseenter\\\" popover-placement=\\\"right-top\\\"><script type=\\\"text/ng-template\\\" id=\\\"myPopoverTemplate.html\\\"><div ng-repeat=\\\"requisitos in materia.preRequisitos\\\"> {{requisitos}};<br></div></script>{{materia.nome}}</a></div></div></div></div></div><div class=\\\"row\\\"><div class=\\\"col-sm-2 com-md-2\\\" ng-repeat=\\\"tab in tabs.slice(6, 11)\\\"><div class=\\\"panel panel-default\\\"><div class=\\\"panel-heading\\\">{{tab.title}}</div><div class=\\\"panel-body\\\" style=\\\"padding-top: 0px; padding-right: 0px; padding-left: 0px; padding-bottom: 0px;\\\"><div class=\\\"list-group\\\" ng-repeat=\\\"materia in tab.content track by $index\\\" style=\\\"margin-bottom: 0px !important\\\"><a class=\\\"list-group-item\\\" ng-click=\\\"adiciona(materia); calcula()\\\" ng-style=\\\"functionThatReturnsStyle(materia)\\\" style=\\\"margin-bottom: 0px; cursor:pointer\\\" uib-popover-template=\\\"dynamicPopover.templateUrl\\\" popover-title=\\\"Pré-requisitos\\\" popover-trigger=\\\"mouseenter\\\" popover-placement=\\\"right-top\\\"><script type=\\\"text/ng-template\\\" id=\\\"myPopoverTemplate.html\\\"><div ng-repeat=\\\"requisitos in materia.preRequisitos\\\"> {{requisitos}};<br></div></script>{{materia.nome}}</a></div></div></div></div></div><div class=\\\"col-sm-4\\\"><h2>Progresso</h2>Materias Obrigatórias {{feitas}}/{{total}}<uib-progressbar animate=\\\"false\\\" max=\\\"100\\\" value=\\\"percentualMateriasFeitas\\\" type=\\\"success\\\"><b>{{percentualMateriasFeitas | number:2 }}%</b></uib-progressbar>Horas de Matérias Optativas {{horastotaisOpt}}/180<uib-progressbar animate=\\\"false\\\" max=\\\"100\\\" value=\\\"percentualHorasOptativasFeitas\\\" type=\\\"info\\\"><b>{{percentualHorasOptativasFeitas | number:2 }}%</b></uib-progressbar>Horas Totais Cumpridas {{horasselecionadas}}/{{horastotais}}<uib-progressbar animate=\\\"false\\\" max=\\\"100\\\" value=\\\"percentualHorasFeitas\\\" type=\\\"danger\\\"><b>{{percentualHorasFeitas | number:2 }}%</b></uib-progressbar></div></div></div></div></div></div>\");\n$templateCache.put(\"app/pages/profile/profile.html\",\"<div ba-panel=\\\"\\\" ba-panel-class=\\\"profile-page\\\"><div class=\\\"panel-content\\\"><div class=\\\"progress-info\\\">Your profile is 70% Complete</div><div class=\\\"progress\\\"><div class=\\\"progress-bar progress-bar-primary progress-bar-striped active\\\" role=\\\"progressbar\\\" aria-valuenow=\\\"70\\\" aria-valuemin=\\\"0\\\" aria-valuemax=\\\"100\\\" style=\\\"width: 70%\\\"></div></div><h3 class=\\\"with-line\\\">General Information</h3><div class=\\\"row\\\"><div class=\\\"col-md-6\\\"><div class=\\\"form-group row clearfix\\\"><label for=\\\"inputFirstName\\\" class=\\\"col-sm-3 control-label\\\">Picture</label><div class=\\\"col-sm-9\\\"><div class=\\\"userpic\\\"><div class=\\\"userpic-wrapper\\\"><img ng-src=\\\"{{ picture }}\\\" ng-click=\\\"uploadPicture()\\\"></div><i class=\\\"ion-ios-close-outline\\\" ng-click=\\\"removePicture()\\\" ng-if=\\\"!noPicture\\\"></i> <a href=\\\"\\\" class=\\\"change-userpic\\\" ng-click=\\\"uploadPicture()\\\">Change Profile Picture</a> <input type=\\\"file\\\" ng-show=\\\"false\\\" id=\\\"uploadFile\\\" ng-file-select=\\\"onFileSelect($files)\\\"></div></div></div></div><div class=\\\"col-md-6\\\"></div></div><div class=\\\"row\\\"><div class=\\\"col-md-6\\\"><div class=\\\"form-group row clearfix\\\"><label for=\\\"inputFirstName\\\" class=\\\"col-sm-3 control-label\\\">First Name</label><div class=\\\"col-sm-9\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"inputFirstName\\\" placeholder=\\\"\\\" value=\\\"Anastasiya\\\"></div></div><div class=\\\"form-group row clearfix\\\"><label for=\\\"inputLastName\\\" class=\\\"col-sm-3 control-label\\\">Last Name</label><div class=\\\"col-sm-9\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"inputLastName\\\" placeholder=\\\"\\\" value=\\\"\\\"></div></div></div><div class=\\\"col-md-6\\\"><div class=\\\"form-group row clearfix\\\"><label class=\\\"col-sm-3 control-label\\\">Department</label><div class=\\\"col-sm-9\\\"><select class=\\\"form-control\\\" selectpicker=\\\"\\\"><option>Web Development</option><option>System Development</option><option>Sales</option><option>Human Resources</option></select></div></div><div class=\\\"form-group row clearfix\\\"><label for=\\\"inputOccupation\\\" class=\\\"col-sm-3 control-label\\\">Occupation</label><div class=\\\"col-sm-9\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"inputOccupation\\\" placeholder=\\\"\\\" value=\\\"Front End Web Developer\\\"></div></div></div></div><h3 class=\\\"with-line\\\">Change Password</h3><div class=\\\"row\\\"><div class=\\\"col-md-6\\\"><div class=\\\"form-group row clearfix\\\"><label for=\\\"inputPassword\\\" class=\\\"col-sm-3 control-label\\\">Password</label><div class=\\\"col-sm-9\\\"><input type=\\\"password\\\" class=\\\"form-control\\\" id=\\\"inputPassword\\\" placeholder=\\\"\\\" value=\\\"12345678\\\"></div></div></div><div class=\\\"col-md-6\\\"><div class=\\\"form-group row clearfix\\\"><label for=\\\"inputConfirmPassword\\\" class=\\\"col-sm-3 control-label\\\">Confirm Password</label><div class=\\\"col-sm-9\\\"><input type=\\\"password\\\" class=\\\"form-control\\\" id=\\\"inputConfirmPassword\\\" placeholder=\\\"\\\"></div></div></div></div><h3 class=\\\"with-line\\\">Contact Information</h3><div class=\\\"row\\\"><div class=\\\"col-md-6\\\"><div class=\\\"form-group row clearfix\\\"><label for=\\\"inputEmail3\\\" class=\\\"col-sm-3 control-label\\\">Email</label><div class=\\\"col-sm-9\\\"><input type=\\\"email\\\" class=\\\"form-control\\\" id=\\\"inputEmail3\\\" placeholder=\\\"\\\" value=\\\"contact@akveo.com\\\"></div></div><div class=\\\"form-group row clearfix\\\"><label for=\\\"inputPhone\\\" class=\\\"col-sm-3 control-label\\\">Phone</label><div class=\\\"col-sm-9\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"inputPhone\\\" placeholder=\\\"\\\" value=\\\"+1 (23) 456 7890\\\"></div></div></div><div class=\\\"col-md-6\\\"><div class=\\\"form-group row clearfix\\\"><label class=\\\"col-sm-3 control-label\\\">Office Location</label><div class=\\\"col-sm-9\\\"><select class=\\\"form-control\\\" title=\\\"Standard Select\\\" selectpicker=\\\"\\\"><option>San Francisco</option><option>London</option><option>Minsk</option><option>Tokio</option></select></div></div><div class=\\\"form-group row clearfix\\\"><label for=\\\"inputRoom\\\" class=\\\"col-sm-3 control-label\\\">Room</label><div class=\\\"col-sm-9\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"inputRoom\\\" placeholder=\\\"\\\" value=\\\"303\\\"></div></div></div></div><h3 class=\\\"with-line\\\">Social Profiles</h3><div class=\\\"social-profiles row clearfix\\\"><div class=\\\"col-md-3 col-sm-4\\\" ng-repeat=\\\"item in socialProfiles\\\"><a class=\\\"sn-link\\\" href=\\\"\\\" ng-click=\\\"showModal(item)\\\" ng-if=\\\"!item.href\\\"><i class=\\\"socicon {{ item.icon }}\\\"></i> <span>{{ item.name }}</span></a> <a class=\\\"sn-link connected\\\" href=\\\"{{ item.href }}\\\" target=\\\"_blank\\\" ng-if=\\\"item.href\\\"><i class=\\\"socicon {{ item.icon }}\\\"></i> <span>{{ item.name }}</span> <em class=\\\"ion-ios-close-empty sn-link-close\\\" ng-mousedown=\\\"unconnect(item)\\\"></em></a></div></div><h3 class=\\\"with-line\\\">Send Email Notifications</h3><div class=\\\"notification row clearfix\\\"><div class=\\\"col-sm-6\\\"><div class=\\\"form-group row clearfix\\\"><label class=\\\"col-xs-8\\\">When I receive a message</label><div class=\\\"col-xs-4\\\"><switch color=\\\"primary\\\" ng-model=\\\"switches[0]\\\"></switch></div></div><div class=\\\"form-group row clearfix\\\"><label class=\\\"col-xs-8\\\">When Someone sends me an invitation</label><div class=\\\"col-xs-4\\\"><switch color=\\\"primary\\\" ng-model=\\\"switches[1]\\\"></switch></div></div><div class=\\\"form-group row clearfix\\\"><label class=\\\"col-xs-8\\\">When profile information changes</label><div class=\\\"col-xs-4\\\"><switch color=\\\"primary\\\" ng-model=\\\"switches[2]\\\"></switch></div></div></div><div class=\\\"col-sm-6\\\"><div class=\\\"form-group row clearfix\\\"><label class=\\\"col-xs-8\\\">When anyone logs into your account from a new device or browser</label><div class=\\\"col-xs-4\\\"><switch color=\\\"primary\\\" ng-model=\\\"switches[3]\\\"></switch></div></div><div class=\\\"form-group row clearfix\\\"><label class=\\\"col-xs-8\\\">Weekly Reports</label><div class=\\\"col-xs-4\\\"><switch color=\\\"primary\\\" ng-model=\\\"switches[4]\\\"></switch></div></div><div class=\\\"form-group row clearfix\\\"><label class=\\\"col-xs-8\\\">Daily Reports</label><div class=\\\"col-xs-4\\\"><switch color=\\\"primary\\\" ng-model=\\\"switches[5]\\\"></switch></div></div></div></div><button type=\\\"button\\\" class=\\\"btn btn-primary btn-with-icon save-profile\\\"><i class=\\\"ion-android-checkmark-circle\\\"></i>Update Profile</button></div></div>\");\n$templateCache.put(\"app/pages/profile/profileModal.html\",\"<div class=\\\"modal-content\\\"><div class=\\\"modal-header\\\"><button type=\\\"button\\\" class=\\\"close\\\" ng-click=\\\"$dismiss()\\\" aria-label=\\\"Close\\\"><em class=\\\"ion-ios-close-empty sn-link-close\\\"></em></button><h4 class=\\\"modal-title\\\" id=\\\"myModalLabel\\\">Add Account</h4></div><form name=\\\"linkForm\\\"><div class=\\\"modal-body\\\"><p>Paste a link to your profile into the box below</p><div class=\\\"form-group\\\"><input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Link to Profile\\\" ng-model=\\\"link\\\"></div></div><div class=\\\"modal-footer\\\"><button type=\\\"button\\\" class=\\\"btn btn-primary\\\" ng-click=\\\"ok(link)\\\">Save changes</button></div></form></div>\");\n$templateCache.put(\"app/pages/register/register.html\",\"<div class=\\\"ngdialog-message\\\"><div class=\\\"\\\"><h3>Register</h3></div><div class=\\\"\\\">&nbsp;</div><div class=\\\"\\\"><form ng-submit=\\\"doRegister()\\\"><div class=\\\"form-group\\\"><label class=\\\"sr-only\\\" for=\\\"username\\\">Usuário</label> <input type=\\\"text\\\" class=\\\"form-control input-sm\\\" id=\\\"username\\\" placeholder=\\\"Username\\\" ng-model=\\\"registration.username\\\" required=\\\"\\\"></div><div class=\\\"form-group\\\"><label class=\\\"sr-only\\\" for=\\\"password\\\">Senha</label> <input type=\\\"password\\\" class=\\\"form-control input-sm\\\" id=\\\"password\\\" placeholder=\\\"Password\\\" ng-model=\\\"registration.password\\\" required=\\\"\\\"></div><div class=\\\"form-group\\\"><label class=\\\"sr-only\\\" for=\\\"firstname\\\">Primeiro Nome</label> <input type=\\\"text\\\" class=\\\"form-control input-sm\\\" id=\\\"firstname\\\" placeholder=\\\"First Name\\\" ng-model=\\\"registration.firstname\\\" required=\\\"\\\"></div><div class=\\\"form-group\\\"><label class=\\\"sr-only\\\" for=\\\"lastname\\\">Sobrenome</label> <input type=\\\"text\\\" class=\\\"form-control input-sm\\\" id=\\\"lastname\\\" placeholder=\\\"Last Name\\\" ng-model=\\\"registration.lastname\\\" required=\\\"\\\"></div><div class=\\\"form-group\\\"><label class=\\\"sr-only\\\" for=\\\"email\\\">Email</label> <input type=\\\"email\\\" class=\\\"form-control input-sm\\\" id=\\\"email\\\" placeholder=\\\"email\\\" ng-model=\\\"registration.email\\\" required=\\\"\\\"></div><div class=\\\"checkbox\\\"><label><input type=\\\"checkbox\\\" ng-model=\\\"registration.rememberMe\\\"> Me lembre</label></div><button type=\\\"submit\\\" class=\\\"btn btn-info btn-sm\\\">Registrar</button> <button type=\\\"button\\\" class=\\\"btn btn-default btn-sm\\\" ng-click=\\'closeThisDialog(\\\"Cancel\\\")\\'>Cancelar</button></form></div></div>\");\n$templateCache.put(\"app/pages/share/share.html\",\"<div class=\\\"ngdialog-message\\\"><div class=\\\"\\\"><h3>Compartilhar {{nomeDoShare}}<br>*Não implementado*</h3></div><div class=\\\"\\\">&nbsp;</div><div class=\\\"\\\"><form ng-submit=\\\"doShare()\\\"><div class=\\\"form-group\\\"><label class=\\\"sr-only\\\" for=\\\"username\\\">Destino</label> <input type=\\\"text\\\" class=\\\"form-control input-sm\\\" id=\\\"destino\\\" placeholder=\\\"ID do usuario de destino\\\" ng-model=\\\"share.destino\\\"></div><button type=\\\"submit\\\" class=\\\"btn btn-info btn-sm\\\">Compartilhar</button> <button type=\\\"button\\\" class=\\\"btn btn-default btn-sm\\\" ng-click=\\'closeThisDialog(\\\"Cancel\\\")\\'>Cancel</button> &nbsp; &nbsp; <a>Como saber o ID?</a></form></div><div></div></div>\");\n$templateCache.put(\"app/theme/components/baSidebar/ba-sidebar.html\",\"<aside class=\\\"al-sidebar\\\" ng-swipe-right=\\\"$baSidebarService.setMenuCollapsed(false)\\\" ng-swipe-left=\\\"$baSidebarService.setMenuCollapsed(true)\\\" ng-mouseleave=\\\"hoverElemTop=selectElemTop\\\"><ul class=\\\"al-sidebar-list\\\" slimscroll=\\\"{height: \\'{{menuHeight}}px\\'}\\\" slimscroll-watch=\\\"menuHeight\\\"><li ng-repeat=\\\"item in ::menuItems\\\" class=\\\"al-sidebar-list-item\\\" ng-class=\\\"::{\\'with-sub-menu\\': item.subMenu}\\\" ui-sref-active=\\\"selected\\\" ba-sidebar-toggling-item=\\\"item\\\"><a ng-mouseenter=\\\"hoverItem($event, item)\\\" ui-state=\\\"item.stateRef || \\'\\'\\\" ng-href=\\\"{{::(item.fixedHref ? item.fixedHref: \\'\\')}}\\\" ng-if=\\\"::!item.subMenu\\\" class=\\\"al-sidebar-list-link\\\"><i class=\\\"{{ ::item.icon }}\\\"></i><span>{{ ::item.title }}</span></a> <a ng-mouseenter=\\\"hoverItem($event, item)\\\" ng-if=\\\"::item.subMenu\\\" class=\\\"al-sidebar-list-link\\\" ba-ui-sref-toggler=\\\"\\\"><i class=\\\"{{ ::item.icon }}\\\"></i><span>{{ ::item.title }}</span> <b class=\\\"fa fa-angle-down\\\" ui-sref-active=\\\"fa-angle-up\\\" ng-if=\\\"::item.subMenu\\\"></b></a><ul ng-if=\\\"::item.subMenu\\\" class=\\\"al-sidebar-sublist\\\" ng-class=\\\"{\\'slide-right\\': item.slideRight}\\\" ba-ui-sref-toggling-submenu=\\\"\\\"><li ng-repeat=\\\"subitem in ::item.subMenu\\\" ng-class=\\\"::{\\'with-sub-menu\\': subitem.subMenu}\\\" ui-sref-active=\\\"selected\\\" ba-sidebar-toggling-item=\\\"subitem\\\" class=\\\"ba-sidebar-sublist-item\\\"><a ng-mouseenter=\\\"hoverItem($event, item)\\\" ng-if=\\\"::subitem.subMenu\\\" ba-ui-sref-toggler=\\\"\\\" class=\\\"al-sidebar-list-link subitem-submenu-link\\\"><span>{{ ::subitem.title }}</span> <b class=\\\"fa\\\" ng-class=\\\"{\\'fa-angle-up\\': subitem.expanded, \\'fa-angle-down\\': !subitem.expanded}\\\" ng-if=\\\"::subitem.subMenu\\\"></b></a><ul ng-if=\\\"::subitem.subMenu\\\" class=\\\"al-sidebar-sublist subitem-submenu-list\\\" ng-class=\\\"{expanded: subitem.expanded, \\'slide-right\\': subitem.slideRight}\\\" ba-ui-sref-toggling-submenu=\\\"\\\"><li ng-mouseenter=\\\"hoverItem($event, item)\\\" ng-repeat=\\\"subSubitem in ::subitem.subMenu\\\" ui-sref-active=\\\"selected\\\"><a ng-mouseenter=\\\"hoverItem($event, item)\\\" href=\\\"\\\" ng-if=\\\"::subSubitem.disabled\\\" class=\\\"al-sidebar-list-link\\\">{{ ::item.title }}</a> <a ng-mouseenter=\\\"hoverItem($event, item)\\\" ui-state=\\\"subSubitem.stateRef || \\'\\'\\\" ng-if=\\\"::!subSubitem.disabled\\\" ng-href=\\\"{{::(subSubitem.fixedHref ? subSubitem.fixedHref: \\'\\')}}\\\">{{::subSubitem.title }}</a></li></ul><a ng-mouseenter=\\\"hoverItem($event, item)\\\" href=\\\"\\\" ng-if=\\\"::(!subitem.subMenu && subitem.disabled)\\\" class=\\\"al-sidebar-list-link\\\">{{ ::subitem.title }}</a> <a ng-mouseenter=\\\"hoverItem($event, item)\\\" target=\\\"{{::(subitem.blank ? \\'_blank\\' : \\'_self\\')}}\\\" ng-if=\\\"::(!subitem.subMenu && !subitem.disabled)\\\" ui-state=\\\"subitem.stateRef || \\'\\'\\\" ng-href=\\\"{{::(subitem.fixedHref ? subitem.fixedHref: \\'\\')}}\\\">{{ ::subitem.title}}</a></li></ul></li></ul><div class=\\\"sidebar-hover-elem\\\" ng-style=\\\"{top: hoverElemTop + \\'px\\', height: hoverElemHeight + \\'px\\'}\\\" ng-class=\\\"{\\'show-hover-elem\\': showHoverElem }\\\"></div></aside>\");\n$templateCache.put(\"app/theme/components/baWizard/baWizard.html\",\"<div class=\\\"ba-wizard\\\"><div class=\\\"ba-wizard-navigation-container\\\"><div ng-repeat=\\\"t in $baWizardController.tabs\\\" class=\\\"ba-wizard-navigation {{$baWizardController.tabNum == $index ? \\'active\\' : \\'\\'}}\\\" ng-click=\\\"$baWizardController.selectTab($index)\\\">{{t.title}}</div></div><div class=\\\"progress ba-wizard-progress\\\"><div class=\\\"progress-bar progress-bar-danger active\\\" role=\\\"progressbar\\\" aria-valuemin=\\\"0\\\" aria-valuemax=\\\"100\\\" ng-style=\\\"{width: $baWizardController.progress + \\'%\\'}\\\"></div></div><div class=\\\"steps\\\" ng-transclude=\\\"\\\"></div><nav><ul class=\\\"pager ba-wizard-pager\\\"><li class=\\\"previous\\\"><button ng-disabled=\\\"$baWizardController.isFirstTab()\\\" ng-click=\\\"$baWizardController.previousTab()\\\" type=\\\"button\\\" class=\\\"btn btn-primary\\\"><span aria-hidden=\\\"true\\\">&larr;</span> previous</button></li><li class=\\\"next\\\"><button ng-disabled=\\\"$baWizardController.isLastTab()\\\" ng-click=\\\"$baWizardController.nextTab()\\\" type=\\\"button\\\" class=\\\"btn btn-primary\\\">next <span aria-hidden=\\\"true\\\">&rarr;</span></button></li></ul></nav></div>\");\n$templateCache.put(\"app/theme/components/baWizard/baWizardStep.html\",\"<section ng-show=\\\"selected\\\" class=\\\"step\\\" ng-transclude=\\\"\\\"></section>\");\n$templateCache.put(\"app/theme/components/backTop/backTop.html\",\"<i class=\\\"fa fa-angle-up back-top\\\" id=\\\"backTop\\\" title=\\\"Back to Top\\\"></i>\");\n$templateCache.put(\"app/theme/components/contentTop/contentTop.html\",\"<div class=\\\"content-top clearfix\\\"><h1 class=\\\"al-title\\\">{{ activePageTitle }}</h1><ul class=\\\"breadcrumb al-breadcrumb\\\"><li><a href=\\\"#/dashboard\\\">Home</a></li><li>{{ activePageTitle }}</li></ul></div>\");\n$templateCache.put(\"app/theme/components/msgCenter/msgCenter.html\",\"<ul class=\\\"al-msg-center clearfix\\\"><li uib-dropdown=\\\"\\\"><a href=\\\"\\\" uib-dropdown-toggle=\\\"\\\"><i class=\\\"fa fa-bell-o\\\"></i><span>5</span><div class=\\\"notification-ring\\\"></div></a><div uib-dropdown-menu=\\\"\\\" class=\\\"top-dropdown-menu\\\"><i class=\\\"dropdown-arr\\\"></i><div class=\\\"header clearfix\\\"><strong>Notifications</strong> <a href=\\\"\\\">Mark All as Read</a> <a href=\\\"\\\">Settings</a></div><div class=\\\"msg-list\\\"><a href=\\\"\\\" class=\\\"clearfix\\\" ng-repeat=\\\"msg in notifications\\\"><div class=\\\"img-area\\\"><img ng-class=\\\"{\\'photo-msg-item\\' : !msg.image}\\\" ng-src=\\\"{{::( msg.image || (users[msg.userId].name | profilePicture) )}}\\\"></div><div class=\\\"msg-area\\\"><div ng-bind-html=\\\"getMessage(msg)\\\"></div><span>{{ msg.time }}</span></div></a></div><a href=\\\"\\\">See all notifications</a></div></li><li uib-dropdown=\\\"\\\"><a href=\\\"\\\" class=\\\"msg\\\" uib-dropdown-toggle=\\\"\\\"><i class=\\\"fa fa-envelope-o\\\"></i><span>5</span><div class=\\\"notification-ring\\\"></div></a><div uib-dropdown-menu=\\\"\\\" class=\\\"top-dropdown-menu\\\"><i class=\\\"dropdown-arr\\\"></i><div class=\\\"header clearfix\\\"><strong>Messages</strong> <a href=\\\"\\\">Mark All as Read</a> <a href=\\\"\\\">Settings</a></div><div class=\\\"msg-list\\\"><a href=\\\"\\\" class=\\\"clearfix\\\" ng-repeat=\\\"msg in messages\\\"><div class=\\\"img-area\\\"><img class=\\\"photo-msg-item\\\" ng-src=\\\"{{::( users[msg.userId].name | profilePicture )}}\\\"></div><div class=\\\"msg-area\\\"><div>{{ msg.text }}</div><span>{{ msg.time }}</span></div></a></div><a href=\\\"\\\">See all messages</a></div></li></ul>\");\n$templateCache.put(\"app/theme/components/pageTop/pageTop.html\",\"<div class=\\\"page-top clearfix\\\" scroll-position=\\\"scrolled\\\" max-height=\\\"50\\\" ng-class=\\\"{\\'scrolled\\': scrolled}\\\"><a href=\\\"#/dashboard\\\" class=\\\"al-logo clearfix\\\"><span>MinhaAgenda</span> Beta</a> <a href=\\\"\\\" class=\\\"collapse-menu-link ion-navicon\\\" ba-sidebar-toggle-menu=\\\"\\\"></a><div class=\\\"user-profile clearfix\\\" style=\\\"height:100%;margin-top:-3px;\\\"><div ng-if=\\\"!loggedIn\\\" style=\\\"display:inline-block; height:100%;\\\"><div style=\\\"display:table;height:100%\\\"><div style=\\\"display: table-cell;vertical-align:middle;height:100% font-size:20px\\\"><a ng-click=\\\"openLogin()\\\"><span style=\\\"font-size:20px\\\">Login</span> <img src=\\\"./assets/img/login.png\\\" style=\\\"height:20px; width:20px\\\"></a></div></div></div><div ng-if=\\\"loggedIn\\\" ng-click=\\\"logOut()\\\" style=\\\"display:inline-block; height:100%;\\\"><div style=\\\"display:table;height:100%\\\"><div style=\\\"display: table-cell;vertical-align:middle;height:100% font-size:20px\\\"><span style=\\\"font-size:20px\\\">{{username}}</span> <a><span style=\\\"font-size:20px\\\">Logout</span> <img src=\\\"./assets/img/logout.png\\\" style=\\\"height:20px; width:20px\\\"></a></div></div></div></div></div>\");\n$templateCache.put(\"app/theme/components/widgets/widgets.html\",\"<div class=\\\"widgets\\\"><div ng-repeat=\\\"widgetBlock in ngModel\\\" ng-class=\\\"{\\'row\\': widgetBlock.widgets.length > 1}\\\"><div ng-repeat=\\\"widgetCol in widgetBlock.widgets\\\" ng-class=\\\"{\\'col-md-6\\': widgetBlock.widgets.length === 2}\\\" ng-model=\\\"widgetCol\\\" class=\\\"widgets-block\\\"><div ba-panel=\\\"\\\" ba-panel-title=\\\"{{::widget.title}}\\\" ng-repeat=\\\"widget in widgetCol\\\" ba-panel-class=\\\"with-scroll {{widget.panelClass}}\\\"><div ng-include=\\\"widget.url\\\"></div></div></div></div></div>\");}]);"],"sourceRoot":"/source/"}